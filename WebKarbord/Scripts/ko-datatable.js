var viewModel = function () { $this = this, $this.currentPage = ko.observable(), $this.pageSize = ko.observable(10), $this.currentPageIndex = ko.observable(0), $this.contacts = ko.observableArray(), $this.sortType = "ascending", $this.currentColumn = ko.observable(""), $this.iconType = ko.observable(""), $this.currentPage = ko.computed(function () { var e = parseInt($this.pageSize(), 10), t = e * $this.currentPageIndex(), n = t + e; return $this.contacts.slice(t, n) }), $this.nextPage = function () { ($this.currentPageIndex() + 1) * $this.pageSize() < $this.contacts().length && $this.currentPageIndex($this.currentPageIndex() + 1) }, $this.previousPage = function () { $this.currentPageIndex() > 0 && $this.currentPageIndex($this.currentPageIndex() - 1) }, $this.firstPage = function () { $this.currentPageIndex() }, $this.sortTable = function (e, t) { var n = $(t.target).attr("data-column"); $this.currentColumn(n), $this.contacts.sort(function (e, t) { return leftVal = e[n], rightVal = t[n], "ascending" == $this.sortType ? leftVal < rightVal ? 1 : -1 : leftVal > rightVal ? 1 : -1 }), $this.sortType = "ascending" == $this.sortType ? "descending" : "ascending", $this.iconType("ascending" == $this.sortType ? "icon-chevron-up" : "icon-chevron-down") } }; $(document).ready(function () { $.ajax({ url: "/api/MojodiKalas?ace=AFI&sal=1397&group=01", type: "GET" }).done(function (e) { var t = new viewModel; t.contacts(e), ko.applyBindings(t) }) });