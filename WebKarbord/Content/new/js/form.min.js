!function (e, t) { if ("function" == typeof define && define.amd) define(["module", "exports"], t); else if ("undefined" != typeof exports) t(module, exports); else { var n = { exports: {} }; t(n, n.exports), e.autosize = n.exports } }(this, function (e, t) { "use strict"; var n, i, a = "function" == typeof Map ? new Map : (n = [], i = [], { has: function (e) { return -1 < n.indexOf(e) }, get: function (e) { return i[n.indexOf(e)] }, set: function (e, t) { -1 === n.indexOf(e) && (n.push(e), i.push(t)) }, delete: function (e) { var t = n.indexOf(e); -1 < t && (n.splice(t, 1), i.splice(t, 1)) } }), r = function (e) { return new Event(e, { bubbles: !0 }) }; try { new Event("test") } catch (e) { r = function (e) { var t = document.createEvent("Event"); return t.initEvent(e, !0, !1), t } } function s(e) { var t = a.get(e); t && t.destroy() } function o(e) { var t = a.get(e); t && t.update() } var l = null; "undefined" == typeof window || "function" != typeof window.getComputedStyle ? ((l = function (e) { return e }).destroy = function (e) { return e }, l.update = function (e) { return e }) : ((l = function (e, t) { return e && Array.prototype.forEach.call(e.length ? e : [e], function (e) { return function (e) { if (e && e.nodeName && "TEXTAREA" === e.nodeName && !a.has(e)) { var t, n = null, i = null, s = null, o = function () { e.clientWidth !== i && d() }, l = function (t) { window.removeEventListener("resize", o, !1), e.removeEventListener("input", d, !1), e.removeEventListener("keyup", d, !1), e.removeEventListener("autosize:destroy", l, !1), e.removeEventListener("autosize:update", d, !1), Object.keys(t).forEach(function (n) { e.style[n] = t[n] }), a.delete(e) }.bind(e, { height: e.style.height, resize: e.style.resize, overflowY: e.style.overflowY, overflowX: e.style.overflowX, wordWrap: e.style.wordWrap }); e.addEventListener("autosize:destroy", l, !1), "onpropertychange" in e && "oninput" in e && e.addEventListener("keyup", d, !1), window.addEventListener("resize", o, !1), e.addEventListener("input", d, !1), e.addEventListener("autosize:update", d, !1), e.style.overflowX = "hidden", e.style.wordWrap = "break-word", a.set(e, { destroy: l, update: d }), "vertical" === (t = window.getComputedStyle(e, null)).resize ? e.style.resize = "none" : "both" === t.resize && (e.style.resize = "horizontal"), n = "content-box" === t.boxSizing ? -(parseFloat(t.paddingTop) + parseFloat(t.paddingBottom)) : parseFloat(t.borderTopWidth) + parseFloat(t.borderBottomWidth), isNaN(n) && (n = 0), d() } function u(t) { var n = e.style.width; e.style.width = "0px", e.offsetWidth, e.style.width = n, e.style.overflowY = t } function c() { if (0 !== e.scrollHeight) { var t = function (e) { for (var t = []; e && e.parentNode && e.parentNode instanceof Element;)e.parentNode.scrollTop && t.push({ node: e.parentNode, scrollTop: e.parentNode.scrollTop }), e = e.parentNode; return t }(e), a = document.documentElement && document.documentElement.scrollTop; e.style.height = "", e.style.height = e.scrollHeight + n + "px", i = e.clientWidth, t.forEach(function (e) { e.node.scrollTop = e.scrollTop }), a && (document.documentElement.scrollTop = a) } } function d() { c(); var t = Math.round(parseFloat(e.style.height)), n = window.getComputedStyle(e, null), i = "content-box" === n.boxSizing ? Math.round(parseFloat(n.height)) : e.offsetHeight; if (i < t ? "hidden" === n.overflowY && (u("scroll"), c(), i = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(e, null).height)) : e.offsetHeight) : "hidden" !== n.overflowY && (u("hidden"), c(), i = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(e, null).height)) : e.offsetHeight), s !== i) { s = i; var a = r("autosize:resized"); try { e.dispatchEvent(a) } catch (t) { } } } }(e) }), e }).destroy = function (e) { return e && Array.prototype.forEach.call(e.length ? e : [e], s), e }, l.update = function (e) { return e && Array.prototype.forEach.call(e.length ? e : [e], o), e }), t.default = l, e.exports = t.default }); var _createClass = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var i = t[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i) } } return function (t, n, i) { return n && e(t.prototype, n), i && e(t, i), t } }(); function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var Emitter = function () { function e() { _classCallCheck(this, e) } return _createClass(e, [{ key: "on", value: function (e, t) { return this._callbacks = this._callbacks || {}, this._callbacks[e] || (this._callbacks[e] = []), this._callbacks[e].push(t), this } }, { key: "emit", value: function (e) { this._callbacks = this._callbacks || {}; var t = this._callbacks[e]; if (t) { for (var n = arguments.length, i = Array(1 < n ? n - 1 : 0), a = 1; a < n; a++)i[a - 1] = arguments[a]; for (var r = 0, s = s = t; !(r >= s.length);)s[r++].apply(this, i) } return this } }, { key: "off", value: function (e, t) { if (!this._callbacks || 0 === arguments.length) return this._callbacks = {}, this; var n = this._callbacks[e]; if (!n) return this; if (1 === arguments.length) return delete this._callbacks[e], this; for (var i = 0; i < n.length; i++)if (n[i] === t) { n.splice(i, 1); break } return this } }]), e }(), Dropzone = function (e) { function t(e, n) { _classCallCheck(this, t); var i, a = _possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)), r = void 0; if (a.element = e, a.version = t.version, a.defaultOptions.previewTemplate = a.defaultOptions.previewTemplate.replace(/\n*/g, ""), a.clickableElements = [], a.listeners = [], a.files = [], "string" == typeof a.element && (a.element = document.querySelector(a.element)), !a.element || null == a.element.nodeType) throw new Error("Invalid dropzone element."); if (a.element.dropzone) throw new Error("Dropzone already attached."); t.instances.push(a), a.element.dropzone = a; var s, o = null != (i = t.optionsForElement(a.element)) ? i : {}; if (a.options = t.extend({}, a.defaultOptions, o, null != n ? n : {}), a.options.forceFallback || !t.isBrowserSupported()) return s = a.options.fallback.call(a), _possibleConstructorReturn(a, s); if (null == a.options.url && (a.options.url = a.element.getAttribute("action")), !a.options.url) throw new Error("No URL provided."); if (a.options.acceptedFiles && a.options.acceptedMimeTypes) throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated."); if (a.options.uploadMultiple && a.options.chunking) throw new Error("You cannot set both: uploadMultiple and chunking."); return a.options.acceptedMimeTypes && (a.options.acceptedFiles = a.options.acceptedMimeTypes, delete a.options.acceptedMimeTypes), null != a.options.renameFilename && (a.options.renameFile = function (e) { return a.options.renameFilename.call(a, e.name, e) }), a.options.method = a.options.method.toUpperCase(), (r = a.getExistingFallback()) && r.parentNode && r.parentNode.removeChild(r), !1 !== a.options.previewsContainer && (a.options.previewsContainer ? a.previewsContainer = t.getElement(a.options.previewsContainer, "previewsContainer") : a.previewsContainer = a.element), a.options.clickable && (!0 === a.options.clickable ? a.clickableElements = [a.element] : a.clickableElements = t.getElements(a.options.clickable, "clickable")), a.init(), a } return _inherits(t, Emitter), _createClass(t, null, [{ key: "initClass", value: function () { this.prototype.Emitter = Emitter, this.prototype.events = ["drop", "dragstart", "dragend", "dragenter", "dragover", "dragleave", "addedfile", "addedfiles", "removedfile", "thumbnail", "error", "errormultiple", "processing", "processingmultiple", "uploadprogress", "totaluploadprogress", "sending", "sendingmultiple", "success", "successmultiple", "canceled", "canceledmultiple", "complete", "completemultiple", "reset", "maxfilesexceeded", "maxfilesreached", "queuecomplete"], this.prototype.defaultOptions = { url: null, method: "post", withCredentials: !1, timeout: 3e4, parallelUploads: 2, uploadMultiple: !1, chunking: !1, forceChunking: !1, chunkSize: 2e6, parallelChunkUploads: !1, retryChunks: !1, retryChunksLimit: 3, maxFilesize: 256, paramName: "file", createImageThumbnails: !0, maxThumbnailFilesize: 10, thumbnailWidth: 120, thumbnailHeight: 120, thumbnailMethod: "crop", resizeWidth: null, resizeHeight: null, resizeMimeType: null, resizeQuality: .8, resizeMethod: "contain", filesizeBase: 1e3, maxFiles: null, headers: null, clickable: !0, ignoreHiddenFiles: !0, acceptedFiles: null, acceptedMimeTypes: null, autoProcessQueue: !0, autoQueue: !0, addRemoveLinks: !1, previewsContainer: null, hiddenInputContainer: "body", capture: null, renameFilename: null, renameFile: null, forceFallback: !1, dictDefaultMessage: "Drop files here to upload", dictFallbackMessage: "Your browser does not support drag'n'drop file uploads.", dictFallbackText: "Please use the fallback form below to upload your files like in the olden days.", dictFileTooBig: "File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.", dictInvalidFileType: "You can't upload files of this type.", dictResponseError: "Server responded with {{statusCode}} code.", dictCancelUpload: "Cancel upload", dictUploadCanceled: "Upload canceled.", dictCancelUploadConfirmation: "Are you sure you want to cancel this upload?", dictRemoveFile: "Remove file", dictRemoveFileConfirmation: null, dictMaxFilesExceeded: "You can not upload any more files.", dictFileSizeUnits: { tb: "TB", gb: "GB", mb: "MB", kb: "KB", b: "b" }, init: function () { }, params: function (e, t, n) { if (n) return { dzuuid: n.file.upload.uuid, dzchunkindex: n.index, dztotalfilesize: n.file.size, dzchunksize: this.options.chunkSize, dztotalchunkcount: n.file.upload.totalChunkCount, dzchunkbyteoffset: n.index * this.options.chunkSize } }, accept: function (e, t) { return t() }, chunksUploaded: function (e, t) { t() }, fallback: function () { var e = void 0; this.element.className = this.element.className + " dz-browser-not-supported"; for (var n = 0, i = i = this.element.getElementsByTagName("div"); !(n >= i.length);) { var a = i[n++]; if (/(^| )dz-message($| )/.test(a.className)) { (e = a).className = "dz-message"; break } } e || (e = t.createElement('<div class="dz-message"><span></span></div>'), this.element.appendChild(e)); var r = e.getElementsByTagName("span")[0]; return r && (null != r.textContent ? r.textContent = this.options.dictFallbackMessage : null != r.innerText && (r.innerText = this.options.dictFallbackMessage)), this.element.appendChild(this.getFallbackForm()) }, resize: function (e, t, n, i) { var a = { srcX: 0, srcY: 0, srcWidth: e.width, srcHeight: e.height }, r = e.width / e.height; null == t && null == n ? (t = a.srcWidth, n = a.srcHeight) : null == t ? t = n * r : null == n && (n = t / r); var s = (t = Math.min(t, a.srcWidth)) / (n = Math.min(n, a.srcHeight)); if (a.srcWidth > t || a.srcHeight > n) if ("crop" === i) s < r ? (a.srcHeight = e.height, a.srcWidth = a.srcHeight * s) : (a.srcWidth = e.width, a.srcHeight = a.srcWidth / s); else { if ("contain" !== i) throw new Error("Unknown resizeMethod '" + i + "'"); s < r ? n = t / r : t = n * r } return a.srcX = (e.width - a.srcWidth) / 2, a.srcY = (e.height - a.srcHeight) / 2, a.trgWidth = t, a.trgHeight = n, a }, transformFile: function (e, t) { return (this.options.resizeWidth || this.options.resizeHeight) && e.type.match(/image.*/) ? this.resizeImage(e, this.options.resizeWidth, this.options.resizeHeight, this.options.resizeMethod, t) : t(e) }, previewTemplate: '<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>', drop: function (e) { return this.element.classList.remove("dz-drag-hover") }, dragstart: function (e) { }, dragend: function (e) { return this.element.classList.remove("dz-drag-hover") }, dragenter: function (e) { return this.element.classList.add("dz-drag-hover") }, dragover: function (e) { return this.element.classList.add("dz-drag-hover") }, dragleave: function (e) { return this.element.classList.remove("dz-drag-hover") }, paste: function (e) { }, reset: function () { return this.element.classList.remove("dz-started") }, addedfile: function (e) { var n = this; if (this.element === this.previewsContainer && this.element.classList.add("dz-started"), this.previewsContainer) { e.previewElement = t.createElement(this.options.previewTemplate.trim()), e.previewTemplate = e.previewElement, this.previewsContainer.appendChild(e.previewElement); for (var i = 0, a = a = e.previewElement.querySelectorAll("[data-dz-name]"); !(i >= a.length);) { var r = a[i++]; r.textContent = e.name } for (var s = 0, o = o = e.previewElement.querySelectorAll("[data-dz-size]"); !(s >= o.length);)(r = o[s++]).innerHTML = this.filesize(e.size); this.options.addRemoveLinks && (e._removeLink = t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>' + this.options.dictRemoveFile + "</a>"), e.previewElement.appendChild(e._removeLink)); for (var l = function (i) { return i.preventDefault(), i.stopPropagation(), e.status === t.UPLOADING ? t.confirm(n.options.dictCancelUploadConfirmation, function () { return n.removeFile(e) }) : n.options.dictRemoveFileConfirmation ? t.confirm(n.options.dictRemoveFileConfirmation, function () { return n.removeFile(e) }) : n.removeFile(e) }, u = 0, c = c = e.previewElement.querySelectorAll("[data-dz-remove]"); !(u >= c.length);)c[u++].addEventListener("click", l) } }, removedfile: function (e) { return null != e.previewElement && null != e.previewElement.parentNode && e.previewElement.parentNode.removeChild(e.previewElement), this._updateMaxFilesReachedClass() }, thumbnail: function (e, t) { if (e.previewElement) { e.previewElement.classList.remove("dz-file-preview"); for (var n = 0, i = i = e.previewElement.querySelectorAll("[data-dz-thumbnail]"); !(n >= i.length);) { var a = i[n++]; a.alt = e.name, a.src = t } return setTimeout(function () { return e.previewElement.classList.add("dz-image-preview") }, 1) } }, error: function (e, t) { if (e.previewElement) { e.previewElement.classList.add("dz-error"), "String" != typeof t && t.error && (t = t.error); for (var n = 0, i = i = e.previewElement.querySelectorAll("[data-dz-errormessage]"); !(n >= i.length);)i[n++].textContent = t } }, errormultiple: function () { }, processing: function (e) { if (e.previewElement && (e.previewElement.classList.add("dz-processing"), e._removeLink)) return e._removeLink.innerHTML = this.options.dictCancelUpload }, processingmultiple: function () { }, uploadprogress: function (e, t, n) { if (e.previewElement) for (var i = 0, a = a = e.previewElement.querySelectorAll("[data-dz-uploadprogress]"); !(i >= a.length);) { var r = a[i++]; "PROGRESS" === r.nodeName ? r.value = t : r.style.width = t + "%" } }, totaluploadprogress: function () { }, sending: function () { }, sendingmultiple: function () { }, success: function (e) { if (e.previewElement) return e.previewElement.classList.add("dz-success") }, successmultiple: function () { }, canceled: function (e) { return this.emit("error", e, this.options.dictUploadCanceled) }, canceledmultiple: function () { }, complete: function (e) { if (e._removeLink && (e._removeLink.innerHTML = this.options.dictRemoveFile), e.previewElement) return e.previewElement.classList.add("dz-complete") }, completemultiple: function () { }, maxfilesexceeded: function () { }, maxfilesreached: function () { }, queuecomplete: function () { }, addedfiles: function () { } }, this.prototype._thumbnailQueue = [], this.prototype._processingThumbnail = !1 } }, { key: "extend", value: function (e) { for (var t = arguments.length, n = Array(1 < t ? t - 1 : 0), i = 1; i < t; i++)n[i - 1] = arguments[i]; for (var a = 0, r = r = n; !(a >= r.length);) { var s = r[a++]; for (var o in s) { var l = s[o]; e[o] = l } } return e } }]), _createClass(t, [{ key: "getAcceptedFiles", value: function () { return this.files.filter(function (e) { return e.accepted }).map(function (e) { return e }) } }, { key: "getRejectedFiles", value: function () { return this.files.filter(function (e) { return !e.accepted }).map(function (e) { return e }) } }, { key: "getFilesWithStatus", value: function (e) { return this.files.filter(function (t) { return t.status === e }).map(function (e) { return e }) } }, { key: "getQueuedFiles", value: function () { return this.getFilesWithStatus(t.QUEUED) } }, { key: "getUploadingFiles", value: function () { return this.getFilesWithStatus(t.UPLOADING) } }, { key: "getAddedFiles", value: function () { return this.getFilesWithStatus(t.ADDED) } }, { key: "getActiveFiles", value: function () { return this.files.filter(function (e) { return e.status === t.UPLOADING || e.status === t.QUEUED }).map(function (e) { return e }) } }, { key: "init", value: function () { var e = this; "form" === this.element.tagName && this.element.setAttribute("enctype", "multipart/form-data"), this.element.classList.contains("dropzone") && !this.element.querySelector(".dz-message") && this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>' + this.options.dictDefaultMessage + "</span></div>")), this.clickableElements.length && function n() { return e.hiddenFileInput && e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput), e.hiddenFileInput = document.createElement("input"), e.hiddenFileInput.setAttribute("type", "file"), (null === e.options.maxFiles || 1 < e.options.maxFiles) && e.hiddenFileInput.setAttribute("multiple", "multiple"), e.hiddenFileInput.className = "dz-hidden-input", null !== e.options.acceptedFiles && e.hiddenFileInput.setAttribute("accept", e.options.acceptedFiles), null !== e.options.capture && e.hiddenFileInput.setAttribute("capture", e.options.capture), e.hiddenFileInput.style.visibility = "hidden", e.hiddenFileInput.style.position = "absolute", e.hiddenFileInput.style.top = "0", e.hiddenFileInput.style.left = "0", e.hiddenFileInput.style.height = "0", e.hiddenFileInput.style.width = "0", t.getElement(e.options.hiddenInputContainer, "hiddenInputContainer").appendChild(e.hiddenFileInput), e.hiddenFileInput.addEventListener("change", function () { var t = e.hiddenFileInput.files; if (t.length) for (var i = 0, a = a = t; !(i >= a.length);) { var r = a[i++]; e.addFile(r) } return e.emit("addedfiles", t), n() }) }(), this.URL = null !== window.URL ? window.URL : window.webkitURL; for (var n = 0, i = i = this.events; !(n >= i.length);) { var a = i[n++]; this.on(a, this.options[a]) } this.on("uploadprogress", function () { return e.updateTotalUploadProgress() }), this.on("removedfile", function () { return e.updateTotalUploadProgress() }), this.on("canceled", function (t) { return e.emit("complete", t) }), this.on("complete", function (t) { if (0 === e.getAddedFiles().length && 0 === e.getUploadingFiles().length && 0 === e.getQueuedFiles().length) return setTimeout(function () { return e.emit("queuecomplete") }, 0) }); var r = function (e) { return e.stopPropagation(), e.preventDefault ? e.preventDefault() : e.returnValue = !1 }; return this.listeners = [{ element: this.element, events: { dragstart: function (t) { return e.emit("dragstart", t) }, dragenter: function (t) { return r(t), e.emit("dragenter", t) }, dragover: function (t) { var n = void 0; try { n = t.dataTransfer.effectAllowed } catch (t) { } return t.dataTransfer.dropEffect = "move" === n || "linkMove" === n ? "move" : "copy", r(t), e.emit("dragover", t) }, dragleave: function (t) { return e.emit("dragleave", t) }, drop: function (t) { return r(t), e.drop(t) }, dragend: function (t) { return e.emit("dragend", t) } } }], this.clickableElements.forEach(function (n) { return e.listeners.push({ element: n, events: { click: function (i) { return (n !== e.element || i.target === e.element || t.elementInside(i.target, e.element.querySelector(".dz-message"))) && e.hiddenFileInput.click(), !0 } } }) }), this.enable(), this.options.init.call(this) } }, { key: "destroy", value: function () { return this.disable(), this.removeAllFiles(!0), (null != this.hiddenFileInput ? this.hiddenFileInput.parentNode : void 0) && (this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput), this.hiddenFileInput = null), delete this.element.dropzone, t.instances.splice(t.instances.indexOf(this), 1) } }, { key: "updateTotalUploadProgress", value: function () { var e = void 0, t = 0, n = 0; if (this.getActiveFiles().length) { for (var i = 0, a = a = this.getActiveFiles(); !(i >= a.length);) { var r = a[i++]; t += r.upload.bytesSent, n += r.upload.total } e = 100 * t / n } else e = 100; return this.emit("totaluploadprogress", e, n, t) } }, { key: "_getParamName", value: function (e) { return "function" == typeof this.options.paramName ? this.options.paramName(e) : this.options.paramName + (this.options.uploadMultiple ? "[" + e + "]" : "") } }, { key: "_renameFile", value: function (e) { return "function" != typeof this.options.renameFile ? e.name : this.options.renameFile(e) } }, { key: "getFallbackForm", value: function () { var e, n = void 0; if (e = this.getExistingFallback()) return e; var i = '<div class="dz-fallback">'; this.options.dictFallbackText && (i += "<p>" + this.options.dictFallbackText + "</p>"), i += '<input type="file" name="' + this._getParamName(0) + '" ' + (this.options.uploadMultiple ? 'multiple="multiple"' : void 0) + ' /><input type="submit" value="Upload!"></div>'; var a = t.createElement(i); return "FORM" !== this.element.tagName ? (n = t.createElement('<form action="' + this.options.url + '" enctype="multipart/form-data" method="' + this.options.method + '"></form>')).appendChild(a) : (this.element.setAttribute("enctype", "multipart/form-data"), this.element.setAttribute("method", this.options.method)), null != n ? n : a } }, { key: "getExistingFallback", value: function () { for (var e = function (e) { for (var t = 0, n = n = e; !(t >= n.length);) { var i = n[t++]; if (/(^| )fallback($| )/.test(i.className)) return i } }, t = ["div", "form"], n = 0; n < t.length; n++) { var i, a = t[n]; if (i = e(this.element.getElementsByTagName(a))) return i } } }, { key: "setupEventListeners", value: function () { return this.listeners.map(function (e) { return function () { var t = []; for (var n in e.events) { var i = e.events[n]; t.push(e.element.addEventListener(n, i, !1)) } return t }() }) } }, { key: "removeEventListeners", value: function () { return this.listeners.map(function (e) { return function () { var t = []; for (var n in e.events) { var i = e.events[n]; t.push(e.element.removeEventListener(n, i, !1)) } return t }() }) } }, { key: "disable", value: function () { var e = this; return this.clickableElements.forEach(function (e) { return e.classList.remove("dz-clickable") }), this.removeEventListeners(), this.disabled = !0, this.files.map(function (t) { return e.cancelUpload(t) }) } }, { key: "enable", value: function () { return delete this.disabled, this.clickableElements.forEach(function (e) { return e.classList.add("dz-clickable") }), this.setupEventListeners() } }, { key: "filesize", value: function (e) { var t = 0, n = "b"; if (0 < e) { for (var i = ["tb", "gb", "mb", "kb", "b"], a = 0; a < i.length; a++) { var r = i[a]; if (Math.pow(this.options.filesizeBase, 4 - a) / 10 <= e) { t = e / Math.pow(this.options.filesizeBase, 4 - a), n = r; break } } t = Math.round(10 * t) / 10 } return "<strong>" + t + "</strong> " + this.options.dictFileSizeUnits[n] } }, { key: "_updateMaxFilesReachedClass", value: function () { return null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (this.getAcceptedFiles().length === this.options.maxFiles && this.emit("maxfilesreached", this.files), this.element.classList.add("dz-max-files-reached")) : this.element.classList.remove("dz-max-files-reached") } }, { key: "drop", value: function (e) { if (e.dataTransfer) { this.emit("drop", e); for (var t = [], n = 0; n < e.dataTransfer.files.length; n++)t[n] = e.dataTransfer.files[n]; if (this.emit("addedfiles", t), t.length) { var i = e.dataTransfer.items; i && i.length && null != i[0].webkitGetAsEntry ? this._addFilesFromItems(i) : this.handleFiles(t) } } } }, { key: "paste", value: function (e) { if (null != __guard__(null != e ? e.clipboardData : void 0, function (e) { return e.items })) { this.emit("paste", e); var t = e.clipboardData.items; return t.length ? this._addFilesFromItems(t) : void 0 } } }, { key: "handleFiles", value: function (e) { for (var t = 0, n = n = e; !(t >= n.length);) { var i = n[t++]; this.addFile(i) } } }, { key: "_addFilesFromItems", value: function (e) { var t = this; return function () { for (var n = [], i = 0, a = a = e; !(i >= a.length);) { var r, s = a[i++]; null != s.webkitGetAsEntry && (r = s.webkitGetAsEntry()) ? r.isFile ? n.push(t.addFile(s.getAsFile())) : r.isDirectory ? n.push(t._addFilesFromDirectory(r, r.name)) : n.push(void 0) : null == s.getAsFile || null != s.kind && "file" !== s.kind ? n.push(void 0) : n.push(t.addFile(s.getAsFile())) } return n }() } }, { key: "_addFilesFromDirectory", value: function (e, t) { var n = this, i = e.createReader(), a = function (e) { return __guardMethod__(console, "log", function (t) { return t.log(e) }) }; return function e() { return i.readEntries(function (i) { if (0 < i.length) { for (var a = 0, r = r = i; !(a >= r.length);) { var s = r[a++]; s.isFile ? s.file(function (e) { if (!n.options.ignoreHiddenFiles || "." !== e.name.substring(0, 1)) return e.fullPath = t + "/" + e.name, n.addFile(e) }) : s.isDirectory && n._addFilesFromDirectory(s, t + "/" + s.name) } e() } return null }, a) }() } }, { key: "accept", value: function (e, n) { return this.options.maxFilesize && e.size > 1024 * this.options.maxFilesize * 1024 ? n(this.options.dictFileTooBig.replace("{{filesize}}", Math.round(e.size / 1024 / 10.24) / 100).replace("{{maxFilesize}}", this.options.maxFilesize)) : t.isValidFile(e, this.options.acceptedFiles) ? null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}", this.options.maxFiles)), this.emit("maxfilesexceeded", e)) : this.options.accept.call(this, e, n) : n(this.options.dictInvalidFileType) } }, { key: "addFile", value: function (e) { var n = this; return e.upload = { uuid: t.uuidv4(), progress: 0, total: e.size, bytesSent: 0, filename: this._renameFile(e), chunked: this.options.chunking && (this.options.forceChunking || e.size > this.options.chunkSize), totalChunkCount: Math.ceil(e.size / this.options.chunkSize) }, this.files.push(e), e.status = t.ADDED, this.emit("addedfile", e), this._enqueueThumbnail(e), this.accept(e, function (t) { return t ? (e.accepted = !1, n._errorProcessing([e], t)) : (e.accepted = !0, n.options.autoQueue && n.enqueueFile(e)), n._updateMaxFilesReachedClass() }) } }, { key: "enqueueFiles", value: function (e) { for (var t = 0, n = n = e; !(t >= n.length);) { var i = n[t++]; this.enqueueFile(i) } return null } }, { key: "enqueueFile", value: function (e) { var n = this; if (e.status !== t.ADDED || !0 !== e.accepted) throw new Error("This file can't be queued because it has already been processed or was rejected."); if (e.status = t.QUEUED, this.options.autoProcessQueue) return setTimeout(function () { return n.processQueue() }, 0) } }, { key: "_enqueueThumbnail", value: function (e) { var t = this; if (this.options.createImageThumbnails && e.type.match(/image.*/) && e.size <= 1024 * this.options.maxThumbnailFilesize * 1024) return this._thumbnailQueue.push(e), setTimeout(function () { return t._processThumbnailQueue() }, 0) } }, { key: "_processThumbnailQueue", value: function () { var e = this; if (!this._processingThumbnail && 0 !== this._thumbnailQueue.length) { this._processingThumbnail = !0; var t = this._thumbnailQueue.shift(); return this.createThumbnail(t, this.options.thumbnailWidth, this.options.thumbnailHeight, this.options.thumbnailMethod, !0, function (n) { return e.emit("thumbnail", t, n), e._processingThumbnail = !1, e._processThumbnailQueue() }) } } }, { key: "removeFile", value: function (e) { if (e.status === t.UPLOADING && this.cancelUpload(e), this.files = without(this.files, e), this.emit("removedfile", e), 0 === this.files.length) return this.emit("reset") } }, { key: "removeAllFiles", value: function (e) { null == e && (e = !1); for (var n = 0, i = i = this.files.slice(); !(n >= i.length);) { var a = i[n++]; (a.status !== t.UPLOADING || e) && this.removeFile(a) } return null } }, { key: "resizeImage", value: function (e, n, i, a, r) { var s = this; return this.createThumbnail(e, n, i, a, !0, function (n, i) { if (null == i) return r(e); var a = s.options.resizeMimeType; null == a && (a = e.type); var o = i.toDataURL(a, s.options.resizeQuality); return "image/jpeg" !== a && "image/jpg" !== a || (o = ExifRestore.restore(e.dataURL, o)), r(t.dataURItoBlob(o)) }) } }, { key: "createThumbnail", value: function (e, t, n, i, a, r) { var s = this, o = new FileReader; return o.onload = function () { if (e.dataURL = o.result, "image/svg+xml" !== e.type) return s.createThumbnailFromUrl(e, t, n, i, a, r); null != r && r(o.result) }, o.readAsDataURL(e) } }, { key: "createThumbnailFromUrl", value: function (e, t, n, i, a, r, s) { var o = this, l = document.createElement("img"); return s && (l.crossOrigin = s), l.onload = function () { var s = function (e) { return e(1) }; return "undefined" != typeof EXIF && null !== EXIF && a && (s = function (e) { return EXIF.getData(l, function () { return e(EXIF.getTag(this, "Orientation")) }) }), s(function (a) { e.width = l.width, e.height = l.height; var s = o.options.resize.call(o, e, t, n, i), u = document.createElement("canvas"), c = u.getContext("2d"); switch (u.width = s.trgWidth, u.height = s.trgHeight, 4 < a && (u.width = s.trgHeight, u.height = s.trgWidth), a) { case 2: c.translate(u.width, 0), c.scale(-1, 1); break; case 3: c.translate(u.width, u.height), c.rotate(Math.PI); break; case 4: c.translate(0, u.height), c.scale(1, -1); break; case 5: c.rotate(.5 * Math.PI), c.scale(1, -1); break; case 6: c.rotate(.5 * Math.PI), c.translate(0, -u.width); break; case 7: c.rotate(.5 * Math.PI), c.translate(u.height, -u.width), c.scale(-1, 1); break; case 8: c.rotate(-.5 * Math.PI), c.translate(-u.height, 0) }drawImageIOSFix(c, l, null != s.srcX ? s.srcX : 0, null != s.srcY ? s.srcY : 0, s.srcWidth, s.srcHeight, null != s.trgX ? s.trgX : 0, null != s.trgY ? s.trgY : 0, s.trgWidth, s.trgHeight); var d = u.toDataURL("image/png"); if (null != r) return r(d, u) }) }, null != r && (l.onerror = r), l.src = e.dataURL } }, { key: "processQueue", value: function () { var e = this.options.parallelUploads, t = this.getUploadingFiles().length, n = t; if (!(e <= t)) { var i = this.getQueuedFiles(); if (0 < i.length) { if (this.options.uploadMultiple) return this.processFiles(i.slice(0, e - t)); for (; n < e;) { if (!i.length) return; this.processFile(i.shift()), n++ } } } } }, { key: "processFile", value: function (e) { return this.processFiles([e]) } }, { key: "processFiles", value: function (e) { for (var n = 0, i = i = e; !(n >= i.length);) { var a = i[n++]; a.processing = !0, a.status = t.UPLOADING, this.emit("processing", a) } return this.options.uploadMultiple && this.emit("processingmultiple", e), this.uploadFiles(e) } }, { key: "_getFilesWithXhr", value: function (e) { return this.files.filter(function (t) { return t.xhr === e }).map(function (e) { return e }) } }, { key: "cancelUpload", value: function (e) { if (e.status === t.UPLOADING) { for (var n = this._getFilesWithXhr(e.xhr), i = 0, a = a = n; !(i >= a.length);)a[i++].status = t.CANCELED; void 0 !== e.xhr && e.xhr.abort(); for (var r = 0, s = s = n; !(r >= s.length);) { var o = s[r++]; this.emit("canceled", o) } this.options.uploadMultiple && this.emit("canceledmultiple", n) } else e.status !== t.ADDED && e.status !== t.QUEUED || (e.status = t.CANCELED, this.emit("canceled", e), this.options.uploadMultiple && this.emit("canceledmultiple", [e])); if (this.options.autoProcessQueue) return this.processQueue() } }, { key: "resolveOption", value: function (e) { if ("function" == typeof e) { for (var t = arguments.length, n = Array(1 < t ? t - 1 : 0), i = 1; i < t; i++)n[i - 1] = arguments[i]; return e.apply(this, n) } return e } }, { key: "uploadFile", value: function (e) { return this.uploadFiles([e]) } }, { key: "uploadFiles", value: function (e) { var n = this; this._transformFiles(e, function (i) { if (e[0].upload.chunked) { var a = e[0], r = i[0]; a.upload.chunks = []; var s = function () { for (var i = 0; void 0 !== a.upload.chunks[i];)i++; if (!(i >= a.upload.totalChunkCount)) { var s = i * n.options.chunkSize, o = Math.min(s + n.options.chunkSize, a.size), l = { name: n._getParamName(0), data: r.webkitSlice ? r.webkitSlice(s, o) : r.slice(s, o), filename: a.upload.filename, chunkIndex: i }; a.upload.chunks[i] = { file: a, index: i, dataBlock: l, status: t.UPLOADING, progress: 0, retries: 0 }, n._uploadData(e, [l]) } }; if (a.upload.finishedChunkUpload = function (i) { var r = !0; i.status = t.SUCCESS, i.dataBlock = null, i.xhr = null; for (var o = 0; o < a.upload.totalChunkCount; o++) { if (void 0 === a.upload.chunks[o]) return s(); a.upload.chunks[o].status !== t.SUCCESS && (r = !1) } r && n.options.chunksUploaded(a, function () { n._finished(e, "", null) }) }, n.options.parallelChunkUploads) for (var o = 0; o < a.upload.totalChunkCount; o++)s(); else s() } else { for (var l = [], u = 0; u < e.length; u++)l[u] = { name: n._getParamName(u), data: i[u], filename: e[u].upload.filename }; n._uploadData(e, l) } }) } }, { key: "_getChunk", value: function (e, t) { for (var n = 0; n < e.upload.totalChunkCount; n++)if (void 0 !== e.upload.chunks[n] && e.upload.chunks[n].xhr === t) return e.upload.chunks[n] } }, { key: "_uploadData", value: function (e, n) { for (var i = this, a = new XMLHttpRequest, r = 0, s = s = e; !(r >= s.length);)s[r++].xhr = a; e[0].upload.chunked && (e[0].upload.chunks[n[0].chunkIndex].xhr = a); var o = this.resolveOption(this.options.method, e), l = this.resolveOption(this.options.url, e); a.open(o, l, !0), a.timeout = this.resolveOption(this.options.timeout, e), a.withCredentials = !!this.options.withCredentials, a.onload = function (t) { i._finishedUploading(e, a, t) }, a.onerror = function () { i._handleUploadError(e, a) }, (null != a.upload ? a.upload : a).onprogress = function (t) { return i._updateFilesUploadProgress(e, a, t) }; var u = { Accept: "application/json", "Cache-Control": "no-cache", "X-Requested-With": "XMLHttpRequest" }; for (var c in this.options.headers && t.extend(u, this.options.headers), u) { var d = u[c]; d && a.setRequestHeader(c, d) } var p = new FormData; if (this.options.params) { var h = this.options.params; for (var f in "function" == typeof h && (h = h.call(this, e, a, e[0].upload.chunked ? this._getChunk(e[0], a) : null)), h) { var m = h[f]; p.append(f, m) } } for (var v = 0, g = g = e; !(v >= g.length);) { var y = g[v++]; this.emit("sending", y, a, p) } this.options.uploadMultiple && this.emit("sendingmultiple", e, a, p), this._addFormElementData(p); for (var b = 0; b < n.length; b++) { var k = n[b]; p.append(k.name, k.data, k.filename) } this.submitRequest(a, p, e) } }, { key: "_transformFiles", value: function (e, t) { for (var n = this, i = [], a = 0, r = function (r) { n.options.transformFile.call(n, e[r], function (n) { i[r] = n, ++a === e.length && t(i) }) }, s = 0; s < e.length; s++)r(s) } }, { key: "_addFormElementData", value: function (e) { if ("FORM" === this.element.tagName) for (var t = 0, n = n = this.element.querySelectorAll("input, textarea, select, button"); !(t >= n.length);) { var i = n[t++], a = i.getAttribute("name"), r = i.getAttribute("type"); if (r && (r = r.toLowerCase()), null != a) if ("SELECT" === i.tagName && i.hasAttribute("multiple")) for (var s = 0, o = o = i.options; !(s >= o.length);) { var l = o[s++]; l.selected && e.append(a, l.value) } else (!r || "checkbox" !== r && "radio" !== r || i.checked) && e.append(a, i.value) } } }, { key: "_updateFilesUploadProgress", value: function (e, t, n) { var i = void 0; if (void 0 !== n) { if (i = 100 * n.loaded / n.total, e[0].upload.chunked) { var a = e[0], r = this._getChunk(a, t); r.progress = i, r.total = n.total, r.bytesSent = n.loaded, a.upload.progress = 0, a.upload.total = 0; for (var s = a.upload.bytesSent = 0; s < a.upload.totalChunkCount; s++)void 0 !== a.upload.chunks[s] && void 0 !== a.upload.chunks[s].progress && (a.upload.progress += a.upload.chunks[s].progress, a.upload.total += a.upload.chunks[s].total, a.upload.bytesSent += a.upload.chunks[s].bytesSent); a.upload.progress = a.upload.progress / a.upload.totalChunkCount } else for (var o = 0, l = l = e; !(o >= l.length);) { var u = l[o++]; u.upload.progress = i, u.upload.total = n.total, u.upload.bytesSent = n.loaded } for (var c = 0, d = d = e; !(c >= d.length);) { var p = d[c++]; this.emit("uploadprogress", p, p.upload.progress, p.upload.bytesSent) } } else { var h = !0; i = 100; for (var f = 0, m = m = e; !(f >= m.length);) { var v = m[f++]; 100 === v.upload.progress && v.upload.bytesSent === v.upload.total || (h = !1), v.upload.progress = i, v.upload.bytesSent = v.upload.total } if (h) return; for (var g = 0, y = y = e; !(g >= y.length);) { var b = y[g++]; this.emit("uploadprogress", b, i, b.upload.bytesSent) } } } }, { key: "_finishedUploading", value: function (e, n, i) { var a = void 0; if (e[0].status !== t.CANCELED && 4 === n.readyState) { if ("arraybuffer" !== n.responseType && "blob" !== n.responseType && (a = n.responseText, n.getResponseHeader("content-type") && ~n.getResponseHeader("content-type").indexOf("application/json"))) try { a = JSON.parse(a) } catch (e) { i = e, a = "Invalid JSON response from server." } this._updateFilesUploadProgress(e), 200 <= n.status && n.status < 300 ? e[0].upload.chunked ? e[0].upload.finishedChunkUpload(this._getChunk(e[0], n)) : this._finished(e, a, i) : this._handleUploadError(e, n, a) } } }, { key: "_handleUploadError", value: function (e, n, i) { if (e[0].status !== t.CANCELED) { if (e[0].upload.chunked && this.options.retryChunks) { var a = this._getChunk(e[0], n); if (a.retries++ < this.options.retryChunksLimit) return void this._uploadData(e, [a.dataBlock]); console.warn("Retried this chunk too often. Giving up.") } for (var r = 0, s = s = e; !(r >= s.length);)s[r++], this._errorProcessing(e, i || this.options.dictResponseError.replace("{{statusCode}}", n.status), n) } } }, { key: "submitRequest", value: function (e, t, n) { e.send(t) } }, { key: "_finished", value: function (e, n, i) { for (var a = 0, r = r = e; !(a >= r.length);) { var s = r[a++]; s.status = t.SUCCESS, this.emit("success", s, n, i), this.emit("complete", s) } if (this.options.uploadMultiple && (this.emit("successmultiple", e, n, i), this.emit("completemultiple", e)), this.options.autoProcessQueue) return this.processQueue() } }, { key: "_errorProcessing", value: function (e, n, i) { for (var a = 0, r = r = e; !(a >= r.length);) { var s = r[a++]; s.status = t.ERROR, this.emit("error", s, n, i), this.emit("complete", s) } if (this.options.uploadMultiple && (this.emit("errormultiple", e, n, i), this.emit("completemultiple", e)), this.options.autoProcessQueue) return this.processQueue() } }], [{ key: "uuidv4", value: function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) { var t = 16 * Math.random() | 0; return ("x" === e ? t : 3 & t | 8).toString(16) }) } }]), t }(); Dropzone.initClass(), Dropzone.version = "5.5.0", Dropzone.options = {}, Dropzone.optionsForElement = function (e) { return e.getAttribute("id") ? Dropzone.options[camelize(e.getAttribute("id"))] : void 0 }, Dropzone.instances = [], Dropzone.forElement = function (e) { if ("string" == typeof e && (e = document.querySelector(e)), null == (null != e ? e.dropzone : void 0)) throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone."); return e.dropzone }, Dropzone.autoDiscover = !0, Dropzone.discover = function () { var e = void 0; if (document.querySelectorAll) e = document.querySelectorAll(".dropzone"); else { e = []; var t = function (t) { return function () { for (var n = [], i = 0, a = a = t; !(i >= a.length);) { var r = a[i++]; /(^| )dropzone($| )/.test(r.className) ? n.push(e.push(r)) : n.push(void 0) } return n }() }; t(document.getElementsByTagName("div")), t(document.getElementsByTagName("form")) } return function () { for (var t = [], n = 0, i = i = e; !(n >= i.length);) { var a = i[n++]; !1 !== Dropzone.optionsForElement(a) ? t.push(new Dropzone(a)) : t.push(void 0) } return t }() }, Dropzone.blacklistedBrowsers = [/opera.*(Macintosh|Windows Phone).*version\/12/i], Dropzone.isBrowserSupported = function () { var e = !0; if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) if ("classList" in document.createElement("a")) for (var t = 0, n = n = Dropzone.blacklistedBrowsers; !(t >= n.length);)n[t++].test(navigator.userAgent) && (e = !1); else e = !1; else e = !1; return e }, Dropzone.dataURItoBlob = function (e) { for (var t = atob(e.split(",")[1]), n = e.split(",")[0].split(":")[1].split(";")[0], i = new ArrayBuffer(t.length), a = new Uint8Array(i), r = 0, s = t.length, o = 0 <= s; o ? r <= s : s <= r; o ? r++ : r--)a[r] = t.charCodeAt(r); return new Blob([i], { type: n }) }; var without = function (e, t) { return e.filter(function (e) { return e !== t }).map(function (e) { return e }) }, camelize = function (e) { return e.replace(/[\-_](\w)/g, function (e) { return e.charAt(1).toUpperCase() }) }; Dropzone.createElement = function (e) { var t = document.createElement("div"); return t.innerHTML = e, t.childNodes[0] }, Dropzone.elementInside = function (e, t) { if (e === t) return !0; for (; e = e.parentNode;)if (e === t) return !0; return !1 }, Dropzone.getElement = function (e, t) { var n = void 0; if ("string" == typeof e ? n = document.querySelector(e) : null != e.nodeType && (n = e), null == n) throw new Error("Invalid `" + t + "` option provided. Please provide a CSS selector or a plain HTML element."); return n }, Dropzone.getElements = function (e, t) { var n = void 0, i = void 0; if (e instanceof Array) { i = []; try { for (var a = 0, r = r = e; !(a >= r.length);)n = r[a++], i.push(this.getElement(n, t)) } catch (e) { i = null } } else if ("string" == typeof e) { i = []; for (var s = 0, o = o = document.querySelectorAll(e); !(s >= o.length);)n = o[s++], i.push(n) } else null != e.nodeType && (i = [e]); if (null == i || !i.length) throw new Error("Invalid `" + t + "` option provided. Please provide a CSS selector, a plain HTML element or a list of those."); return i }, Dropzone.confirm = function (e, t, n) { return window.confirm(e) ? t() : null != n ? n() : void 0 }, Dropzone.isValidFile = function (e, t) { if (!t) return !0; t = t.split(","); for (var n = e.type, i = n.replace(/\/.*$/, ""), a = 0, r = r = t; !(a >= r.length);) { var s = r[a++]; if ("." === (s = s.trim()).charAt(0)) { if (-1 !== e.name.toLowerCase().indexOf(s.toLowerCase(), e.name.length - s.length)) return !0 } else if (/\/\*$/.test(s)) { if (i === s.replace(/\/.*$/, "")) return !0 } else if (n === s) return !0 } return !1 }, "undefined" != typeof jQuery && null !== jQuery && (jQuery.fn.dropzone = function (e) { return this.each(function () { return new Dropzone(this, e) }) }), "undefined" != typeof module && null !== module ? module.exports = Dropzone : window.Dropzone = Dropzone, Dropzone.ADDED = "added", Dropzone.QUEUED = "queued", Dropzone.ACCEPTED = Dropzone.QUEUED, Dropzone.UPLOADING = "uploading", Dropzone.PROCESSING = Dropzone.UPLOADING, Dropzone.CANCELED = "canceled", Dropzone.ERROR = "error", Dropzone.SUCCESS = "success"; var detectVerticalSquash = function (e) { e.naturalWidth; var t = e.naturalHeight, n = document.createElement("canvas"); n.width = 1, n.height = t; var i = n.getContext("2d"); i.drawImage(e, 0, 0); for (var a = i.getImageData(1, 0, 1, t).data, r = 0, s = t, o = t; r < o;)0 === a[4 * (o - 1) + 3] ? s = o : r = o, o = s + r >> 1; var l = o / t; return 0 === l ? 1 : l }, drawImageIOSFix = function (e, t, n, i, a, r, s, o, l, u) { var c = detectVerticalSquash(t); return e.drawImage(t, n, i, a, r, s, o, l, u / c) }, ExifRestore = function () { function e() { _classCallCheck(this, e) } return _createClass(e, null, [{ key: "initClass", value: function () { this.KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" } }, { key: "encode64", value: function (e) { for (var t = "", n = void 0, i = void 0, a = "", r = void 0, s = void 0, o = void 0, l = "", u = 0; r = (n = e[u++]) >> 2, s = (3 & n) << 4 | (i = e[u++]) >> 4, o = (15 & i) << 2 | (a = e[u++]) >> 6, l = 63 & a, isNaN(i) ? o = l = 64 : isNaN(a) && (l = 64), t = t + this.KEY_STR.charAt(r) + this.KEY_STR.charAt(s) + this.KEY_STR.charAt(o) + this.KEY_STR.charAt(l), n = i = a = "", r = s = o = l = "", u < e.length;); return t } }, { key: "restore", value: function (e, t) { if (!e.match("data:image/jpeg;base64,")) return t; var n = this.decode64(e.replace("data:image/jpeg;base64,", "")), i = this.slice2Segments(n), a = this.exifManipulation(t, i); return "data:image/jpeg;base64," + this.encode64(a) } }, { key: "exifManipulation", value: function (e, t) { var n = this.getExifArray(t), i = this.insertExif(e, n); return new Uint8Array(i) } }, { key: "getExifArray", value: function (e) { for (var t = void 0, n = 0; n < e.length;) { if (255 === (t = e[n])[0] & 225 === t[1]) return t; n++ } return [] } }, { key: "insertExif", value: function (e, t) { var n = e.replace("data:image/jpeg;base64,", ""), i = this.decode64(n), a = i.indexOf(255, 3), r = i.slice(0, a), s = i.slice(a), o = r; return (o = o.concat(t)).concat(s) } }, { key: "slice2Segments", value: function (e) { for (var t = 0, n = []; !(255 === e[t] & 218 === e[t + 1]);) { if (255 === e[t] & 216 === e[t + 1]) t += 2; else { var i = t + (256 * e[t + 2] + e[t + 3]) + 2, a = e.slice(t, i); n.push(a), t = i } if (t > e.length) break } return n } }, { key: "decode64", value: function (e) { var t = void 0, n = void 0, i = "", a = void 0, r = void 0, s = "", o = 0, l = []; for (/[^A-Za-z0-9\+\/\=]/g.exec(e) && console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."), e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); t = this.KEY_STR.indexOf(e.charAt(o++)) << 2 | (a = this.KEY_STR.indexOf(e.charAt(o++))) >> 4, n = (15 & a) << 4 | (r = this.KEY_STR.indexOf(e.charAt(o++))) >> 2, i = (3 & r) << 6 | (s = this.KEY_STR.indexOf(e.charAt(o++))), l.push(t), 64 !== r && l.push(n), 64 !== s && l.push(i), t = n = i = "", a = r = s = "", o < e.length;); return l } }]), e }(); ExifRestore.initClass(); var contentLoaded = function (e, t) { var n = !1, i = !0, a = e.document, r = a.documentElement, s = a.addEventListener ? "addEventListener" : "attachEvent", o = a.addEventListener ? "removeEventListener" : "detachEvent", l = a.addEventListener ? "" : "on", u = function i(r) { if ("readystatechange" !== r.type || "complete" === a.readyState) return ("load" === r.type ? e : a)[o](l + r.type, i, !1), !n && (n = !0) ? t.call(e, r.type || r) : void 0 }; if ("complete" !== a.readyState) { if (a.createEventObject && r.doScroll) { try { i = !e.frameElement } catch (i) { } i && function e() { try { r.doScroll("left") } catch (t) { return void setTimeout(e, 50) } return u("poll") }() } return a[s](l + "DOMContentLoaded", u, !1), a[s](l + "readystatechange", u, !1), e[s](l + "load", u, !1) } }; function __guard__(e, t) { return null != e ? t(e) : void 0 } function __guardMethod__(e, t, n) { return null != e && "function" == typeof e[t] ? n(e, t) : void 0 } Dropzone._autoDiscoverFunction = function () { if (Dropzone.autoDiscover) return Dropzone.discover() }, contentLoaded(window, Dropzone._autoDiscoverFunction), function (e) { function t(i) { if (n[i]) return n[i].exports; var a = n[i] = { i: i, l: !1, exports: {} }; return e[i].call(a.exports, a, a.exports, t), a.l = !0, a.exports } var n = {}; t.m = e, t.c = n, t.d = function (e, n, i) { t.o(e, n) || Object.defineProperty(e, n, { configurable: !1, enumerable: !0, get: i }) }, t.n = function (e) { var n = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(n, "a", n), n }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = "", t(t.s = 3) }([function (e, t, n) { "use strict"; var i, a, r; "function" == typeof Symbol && Symbol.iterator, a = [n(2)], void 0 !== (r = "function" == typeof (i = function (e) { return e }) ? i.apply(t, a) : i) && (e.exports = r) }, function (e, t, n) { "use strict"; var i, a, r, s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; a = [n(0), n(10), n(11)], void 0 !== (r = "function" == typeof (i = function (e, t, n, i) { function a(t, n, s) { if (!(this instanceof a)) return new a(t, n, s); this.el = i, this.events = {}, this.maskset = i, !(this.refreshValue = !1) !== s && (e.isPlainObject(t) ? n = t : (n = n || {}).alias = t, this.opts = e.extend(!0, {}, this.defaults, n), this.noMasksCache = n && n.definitions !== i, this.userOptions = n || {}, this.isRTL = this.opts.numericInput, r(this.opts.alias, n, this.opts)) } function r(t, n, s) { var o = a.prototype.aliases[t]; return o ? (o.alias && r(o.alias, i, s), e.extend(!0, s, o), e.extend(!0, s, n), !0) : (null === s.mask && (s.mask = t), !1) } function o(t, n) { function r(t, r, s) { var o = !1; if (null !== t && "" !== t || ((o = null !== s.regex) ? t = (t = s.regex).replace(/^(\^)(.*)(\$)$/, "$2") : (o = !0, t = ".*")), 1 === t.length && !1 === s.greedy && 0 !== s.repeat && (s.placeholder = ""), 0 < s.repeat || "*" === s.repeat || "+" === s.repeat) { var l = "*" === s.repeat ? 0 : "+" === s.repeat ? 1 : s.repeat; t = s.groupmarker.start + t + s.groupmarker.end + s.quantifiermarker.start + l + "," + s.repeat + s.quantifiermarker.end } var u, c = o ? "regex_" + s.regex : s.numericInput ? t.split("").reverse().join("") : t; return a.prototype.masksCache[c] === i || !0 === n ? (u = { mask: t, maskToken: a.prototype.analyseMask(t, o, s), validPositions: {}, _buffer: i, buffer: i, tests: {}, metadata: r, maskLength: i }, !0 !== n && (a.prototype.masksCache[c] = u, u = e.extend(!0, {}, a.prototype.masksCache[c]))) : u = e.extend(!0, {}, a.prototype.masksCache[c]), u } if (e.isFunction(t.mask) && (t.mask = t.mask(t)), e.isArray(t.mask)) { if (1 < t.mask.length) { t.keepStatic = null === t.keepStatic || t.keepStatic; var s = t.groupmarker.start; return e.each(t.numericInput ? t.mask.reverse() : t.mask, function (n, a) { 1 < s.length && (s += t.groupmarker.end + t.alternatormarker + t.groupmarker.start), a.mask === i || e.isFunction(a.mask) ? s += a : s += a.mask }), r(s += t.groupmarker.end, t.mask, t) } t.mask = t.mask.pop() } return t.mask && t.mask.mask !== i && !e.isFunction(t.mask.mask) ? r(t.mask.mask, t.mask, t) : r(t.mask, t.mask, t) } function l(r, o, u) { function f(e, t, n) { t = t || 0; for (var a, r, s, o = [], l = 0, c = g(); !0 === e && m().validPositions[l] ? (r = (s = m().validPositions[l]).match, a = s.locator.slice(), o.push(!0 === n ? s.input : !1 === n ? r.nativeDef : O(l, r))) : (r = (s = k(l, a, l - 1)).match, a = s.locator.slice(), (!1 === u.jitMasking || l < c || "number" == typeof u.jitMasking && isFinite(u.jitMasking) && u.jitMasking > l) && o.push(!1 === n ? r.nativeDef : O(l, r))), l++ , (H === i || l < H) && (null !== r.fn || "" !== r.def) || l < t;); return "" === o[o.length - 1] && o.pop(), m().maskLength = l + 1, o } function m() { return o } function v(e) { var t = m(); t.buffer = i, !0 !== e && (t.validPositions = {}, t.p = 0) } function g(e, t, n) { var a = -1, r = -1, s = n || m().validPositions; for (var o in e === i && (e = -1), s) { var l = parseInt(o); s[l] && (t || !0 !== s[l].generatedInput) && (l <= e && (a = l), e <= l && (r = l)) } return -1 !== a && 1 < e - a || r < e ? a : r } function y(t, n, a, r) { var s, o = t, l = e.extend(!0, {}, m().validPositions), c = !1; for (m().p = t, s = n - 1; o <= s; s--)m().validPositions[s] !== i && (!0 !== a && (!m().validPositions[s].match.optionality && function (e) { var t = m().validPositions[e]; if (t !== i && null === t.match.fn) { var n = m().validPositions[e - 1], a = m().validPositions[e + 1]; return n !== i && a !== i } return !1 }(s) || !1 === u.canClearPosition(m(), s, g(), r, u)) || delete m().validPositions[s]); for (v(!0), s = o + 1; s <= g();) { for (; m().validPositions[o] !== i;)o++; if (s < o && (s = o + 1), m().validPositions[s] === i && P(s)) s++; else { var d = k(s); !1 === c && l[o] && l[o].match.def === d.match.def ? (m().validPositions[o] = e.extend(!0, {}, l[o]), m().validPositions[o].input = d.input, delete m().validPositions[s], s++) : w(o, d.match.def) ? !1 !== _(o, d.input || O(s), !0) && (delete m().validPositions[s], s++ , c = !0) : P(s) || (s++ , o--), o++ } } v(!0) } function b(e, t) { for (var n, a = e, r = g(), s = m().validPositions[r] || C(0)[0], o = s.alternation !== i ? s.locator[s.alternation].toString().split(",") : [], l = 0; l < a.length && (!((n = a[l]).match && (u.greedy && !0 !== n.match.optionalQuantifier || (!1 === n.match.optionality || !1 === n.match.newBlockMarker) && !0 !== n.match.optionalQuantifier) && (s.alternation === i || s.alternation !== n.alternation || n.locator[s.alternation] !== i && A(n.locator[s.alternation].toString().split(","), o))) || !0 === t && (null !== n.match.fn || /[0-9a-bA-Z]/.test(n.match.def))); l++); return n } function k(e, t, n) { return m().validPositions[e] || b(C(e, t ? t.slice() : t, n)) } function x(e) { return m().validPositions[e] ? m().validPositions[e] : C(e)[0] } function w(e, t) { for (var n = !1, i = C(e), a = 0; a < i.length; a++)if (i[a].match && i[a].match.def === t) { n = !0; break } return n } function C(t, n, a) { function r(n, a, s, l) { function c(s, l, d) { function h(t, n) { var i = 0 === e.inArray(t, n.matches); return i || e.each(n.matches, function (e, a) { if (!0 === a.isQuantifier && (i = h(t, n.matches[e - 1]))) return !1 }), i } function y(t, n, a) { var r, s; if (m().validPositions[t - 1] && a && m().tests[t]) for (var o = m().validPositions[t - 1].locator, l = m().tests[t][0].locator, u = 0; u < a; u++)if (o[u] !== l[u]) return o.slice(a + 1); return (m().tests[t] || m().validPositions[t]) && e.each(m().tests[t] || [m().validPositions[t]], function (e, t) { var o = a !== i ? a : t.alternation, l = t.locator[o] !== i ? t.locator[o].toString().indexOf(n) : -1; (s === i || l < s) && -1 !== l && (r = t, s = l) }), r ? r.locator.slice((a !== i ? a : r.alternation) + 1) : a !== i ? y(t, n) : i } if (1e4 < p) throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + m().mask; if (p === t && s.matches === i) return f.push({ match: s, locator: l.reverse(), cd: g }), !0; if (s.matches !== i) { if (s.isGroup && d !== s) { if (s = c(n.matches[e.inArray(s, n.matches) + 1], l)) return !0 } else if (s.isOptional) { var b = s; if (s = r(s, a, l, d)) { if (!h(o = f[f.length - 1].match, b)) return !0; v = !0, p = t } } else if (s.isAlternator) { var k, x = s, w = [], C = f.slice(), E = l.length, S = 0 < a.length ? a.shift() : -1; if (-1 === S || "string" == typeof S) { var D, A = p, _ = a.slice(), P = []; if ("string" == typeof S) P = S.split(","); else for (D = 0; D < x.matches.length; D++)P.push(D); for (var F = 0; F < P.length; F++) { if (D = parseInt(P[F]), f = [], a = y(p, D, E) || _.slice(), !0 !== (s = c(x.matches[D] || n.matches[D], [D].concat(l), d) || s) && s !== i && P[P.length - 1] < x.matches.length) { var M = e.inArray(s, n.matches) + 1; n.matches.length > M && (s = c(n.matches[M], [M].concat(l.slice(1, l.length)), d)) && (P.push(M.toString()), e.each(f, function (e, t) { t.alternation = l.length - 1 })) } k = f.slice(), p = A, f = []; for (var T = 0; T < k.length; T++) { var O = k[T], I = !1; O.alternation = O.alternation || E; for (var N = 0; N < w.length; N++) { var z = w[N]; if ("string" != typeof S || -1 !== e.inArray(O.locator[O.alternation].toString(), P)) { if (H = z, (G = O).match.nativeDef === H.match.nativeDef || G.match.def === H.match.nativeDef || G.match.nativeDef === H.match.def) { I = !0, O.alternation === z.alternation && -1 === z.locator[z.alternation].toString().indexOf(O.locator[O.alternation]) && (z.locator[z.alternation] = z.locator[z.alternation] + "," + O.locator[O.alternation], z.alternation = O.alternation), O.match.nativeDef === z.match.def && (O.locator[O.alternation] = z.locator[z.alternation], w.splice(w.indexOf(z), 1, O)); break } if (O.match.def === z.match.def) { I = !1; break } if (V = z, null === (B = O).match.fn && null !== V.match.fn && V.match.fn.test(B.match.def, m(), t, !1, u, !1) || (j = z, null !== (U = O).match.fn && null !== j.match.fn && j.match.fn.test(U.match.def.replace(/[\[\]]/g, ""), m(), t, !1, u, !1))) { O.alternation === z.alternation && -1 === O.locator[O.alternation].toString().indexOf(z.locator[z.alternation].toString().split("")[0]) && (O.na = O.na || O.locator[O.alternation].toString(), -1 === O.na.indexOf(O.locator[O.alternation].toString().split("")[0]) && (O.na = O.na + "," + O.locator[z.alternation].toString().split("")[0]), I = !0, O.locator[O.alternation] = z.locator[z.alternation].toString().split("")[0] + "," + O.locator[O.alternation], w.splice(w.indexOf(z), 0, O)); break } } } I || w.push(O) } } "string" == typeof S && (w = e.map(w, function (t, n) { if (isFinite(n)) { var a = t.alternation, r = t.locator[a].toString().split(","); t.locator[a] = i, t.alternation = i; for (var s = 0; s < r.length; s++)-1 !== e.inArray(r[s], P) && (t.locator[a] !== i ? (t.locator[a] += ",", t.locator[a] += r[s]) : t.locator[a] = parseInt(r[s]), t.alternation = a); if (t.locator[a] !== i) return t } })), f = C.concat(w), p = t, v = 0 < f.length, s = 0 < w.length, a = _.slice() } else s = c(x.matches[S] || n.matches[S], [S].concat(l), d); if (s) return !0 } else if (s.isQuantifier && d !== n.matches[e.inArray(s, n.matches) - 1]) for (var R = s, L = 0 < a.length ? a.shift() : 0; L < (isNaN(R.quantifier.max) ? L + 1 : R.quantifier.max) && p <= t; L++) { var $ = n.matches[e.inArray(R, n.matches) - 1]; if (s = c($, [L].concat(l), $)) { if ((o = f[f.length - 1].match).optionalQuantifier = L > R.quantifier.min - 1, h(o, $)) { if (L > R.quantifier.min - 1) { v = !0, p = t; break } return !0 } return !0 } } else if (s = r(s, a, l, d)) return !0 } else p++; var U, j, B, V, G, H } for (var d = 0 < a.length ? a.shift() : 0; d < n.matches.length; d++)if (!0 !== n.matches[d].isQuantifier) { var h = c(n.matches[d], [d].concat(s), l); if (h && p === t) return h; if (t < p) break } } function s(e) { if (u.keepStatic && 0 < t && e.length > 1 + ("" === e[e.length - 1].match.def ? 1 : 0) && !0 !== e[0].match.optionality && !0 !== e[0].match.optionalQuantifier && null === e[0].match.fn && !/[0-9a-bA-Z]/.test(e[0].match.def)) { if (m().validPositions[t - 1] === i) return [b(e)]; if (m().validPositions[t - 1].alternation === e[0].alternation) return [b(e)]; if (m().validPositions[t - 1]) return [b(e)] } return e } var o, l, c, d = m().maskToken, p = n ? a : 0, h = n ? n.slice() : [0], f = [], v = !1, g = n ? n.join("") : ""; if (-1 < t) { if (n === i) { for (var y, k = t - 1; (y = m().validPositions[k] || m().tests[k]) === i && -1 < k;)k--; y !== i && -1 < k && (l = y, c = [], e.isArray(l) || (l = [l]), 0 < l.length && (l[0].alternation === i ? 0 === (c = b(l.slice()).locator.slice()).length && (c = l[0].locator.slice()) : e.each(l, function (e, t) { if ("" !== t.def) if (0 === c.length) c = t.locator.slice(); else for (var n = 0; n < c.length; n++)t.locator[n] && -1 === c[n].toString().indexOf(t.locator[n]) && (c[n] += "," + t.locator[n]) })), g = (h = c).join(""), p = k) } if (m().tests[t] && m().tests[t][0].cd === g) return s(m().tests[t]); for (var x = h.shift(); x < d.length && !(r(d[x], h, [x]) && p === t || t < p); x++); } return (0 === f.length || v) && f.push({ match: { fn: null, cardinality: 0, optionality: !0, casing: null, def: "", placeholder: "" }, locator: [], cd: g }), n !== i && m().tests[t] ? s(e.extend(!0, [], f)) : (m().tests[t] = e.extend(!0, [], f), s(m().tests[t])) } function E() { return m()._buffer === i && (m()._buffer = f(!1, 1), m().buffer === i && (m().buffer = m()._buffer.slice())), m()._buffer } function S(e) { return m().buffer !== i && !0 !== e || (m().buffer = f(!0, g(), !0)), m().buffer } function D(e, t, n) { var a, r; if (!0 === e) v(), e = 0, t = n.length; else for (a = e; a < t; a++)delete m().validPositions[a]; for (a = r = e; a < t; a++)if (v(!0), n[a] !== u.skipOptionalPartCharacter) { var s = _(r, n[a], !0, !0); !1 !== s && (v(!0), r = s.caret !== i ? s.caret : s.pos + 1) } } function A(t, n, a) { for (var r, s = u.greedy ? n : n.slice(0, 1), o = !1, l = a !== i ? a.split(",") : [], c = 0; c < l.length; c++)-1 !== (r = t.indexOf(l[c])) && t.splice(r, 1); for (var d = 0; d < t.length; d++)if (-1 !== e.inArray(t[d], s)) { o = !0; break } return o } function _(t, n, r, s, o, l) { function c(e) { var t = Q ? 1 < e.begin - e.end || e.begin - e.end == 1 : 1 < e.end - e.begin || e.end - e.begin == 1; return t && 0 === e.begin && e.end === m().maskLength ? "full" : t } function d(n, r, o) { var l = !1; return e.each(C(n), function (d, h) { for (var f = h.match, b = r ? 1 : 0, k = "", x = f.cardinality; b < x; x--)k += (w = n - (x - 1), m().validPositions[w] === i ? O(w) : m().validPositions[w].input); var w; if (r && (k += r), S(!0), !1 !== (l = null != f.fn ? f.fn.test(k, m(), n, o, u, c(t)) : (r === f.def || r === u.skipOptionalPartCharacter) && "" !== f.def && { c: O(n, f, !0) || f.def, pos: n })) { var C = l.c !== i ? l.c : r; C = C === u.skipOptionalPartCharacter && null === f.fn ? O(n, f, !0) || f.def : C; var E = n, A = S(); if (l.remove !== i && (e.isArray(l.remove) || (l.remove = [l.remove]), e.each(l.remove.sort(function (e, t) { return t - e }), function (e, t) { y(t, t + 1, !0) })), l.insert !== i && (e.isArray(l.insert) || (l.insert = [l.insert]), e.each(l.insert.sort(function (e, t) { return e - t }), function (e, t) { _(t.pos, t.c, !0, s) })), l.refreshFromBuffer) { var P = l.refreshFromBuffer; if (D(!0 === P ? P : P.start, P.end, A), l.pos === i && l.c === i) return l.pos = g(), !1; if ((E = l.pos !== i ? l.pos : n) !== n) return l = e.extend(l, _(E, C, !0, s)), !1 } else if (!0 !== l && l.pos !== i && l.pos !== n && (E = l.pos, D(n, E, S().slice()), E !== n)) return l = e.extend(l, _(E, C, !0)), !1; return (!0 === l || l.pos !== i || l.c !== i) && (0 < d && v(!0), p(E, e.extend({}, h, { input: function (t, n, i) { switch (u.casing || n.casing) { case "upper": t = t.toUpperCase(); break; case "lower": t = t.toLowerCase(); break; case "title": var r = m().validPositions[i - 1]; t = 0 === i || r && r.input === String.fromCharCode(a.keyCode.SPACE) ? t.toUpperCase() : t.toLowerCase(); break; default: if (e.isFunction(u.casing)) { var s = Array.prototype.slice.call(arguments); s.push(m().validPositions), t = u.casing.apply(this, s) } }return t }(C, f, E) }), s, c(t)) || (l = !1), !1) } }), l } function p(t, n, a, r) { if (r || u.insertMode && m().validPositions[t] !== i && a === i) { var s, o = e.extend(!0, {}, m().validPositions), l = g(i, !0); for (s = t; s <= l; s++)delete m().validPositions[s]; m().validPositions[t] = e.extend(!0, {}, n); var c, d = !0, p = m().validPositions, f = !1, y = m().maskLength; for (s = c = t; s <= l; s++) { var b = o[s]; if (b !== i) for (var k = c; k < m().maskLength && (null === b.match.fn && p[s] && (!0 === p[s].match.optionalQuantifier || !0 === p[s].match.optionality) || null != b.match.fn);) { if (k++ , !1 === f && o[k] && o[k].match.def === b.match.def) m().validPositions[k] = e.extend(!0, {}, o[k]), m().validPositions[k].input = b.input, h(k), c = k, d = !0; else if (w(k, b.match.def)) { var x = _(k, b.input, !0, !0); d = !1 !== x, c = x.caret || x.insert ? g() : k, f = !0 } else if (!(d = !0 === b.generatedInput) && k >= m().maskLength - 1) break; if (m().maskLength < y && (m().maskLength = y), d) break } if (!d) break } if (!d) return m().validPositions = e.extend(!0, {}, o), v(!0), !1 } else m().validPositions[t] = e.extend(!0, {}, n); return v(!0), !0 } function h(t) { for (var n = t - 1; -1 < n && !m().validPositions[n]; n--); var a, r; for (n++; n < t; n++)m().validPositions[n] === i && (!1 === u.jitMasking || u.jitMasking > n) && ("" === (r = C(n, k(n - 1).locator, n - 1).slice())[r.length - 1].match.def && r.pop(), (a = b(r)) && (a.match.def === u.radixPointDefinitionSymbol || !P(n, !0) || e.inArray(u.radixPoint, S()) < n && a.match.fn && a.match.fn.test(O(n), m(), n, !1, u)) && !1 !== (x = d(n, O(n, a.match, !0) || (null == a.match.fn ? a.match.def : "" !== O(n) ? O(n) : S()[n]), !0)) && (m().validPositions[x.pos || n].generatedInput = !0)) } r = !0 === r; var f = t; t.begin !== i && (f = Q && !c(t) ? t.end : t.begin); var x = !0, E = e.extend(!0, {}, m().validPositions); if (e.isFunction(u.preValidation) && !r && !0 !== s && !0 !== l && (x = u.preValidation(S(), f, n, c(t), u)), !0 === x) { if (h(f), c(t) && (U(i, a.keyCode.DELETE, t, !0, !0), f = m().p), f < m().maskLength && (H === i || f < H) && (x = d(f, n, r), (!r || !0 === s) && !1 === x && !0 !== l)) { var M = m().validPositions[f]; if (!M || null !== M.match.fn || M.match.def !== n && n !== u.skipOptionalPartCharacter) { if ((u.insertMode || m().validPositions[F(f)] === i) && !P(f, !0)) for (var T = f + 1, I = F(f); T <= I; T++)if (!1 !== (x = d(T, n, r))) { !function (t, n) { var a = m().validPositions[n]; if (a) for (var r = a.locator, s = r.length, o = t; o < n; o++)if (m().validPositions[o] === i && !P(o, !0)) { var l = C(o).slice(), u = b(l, !0), c = -1; "" === l[l.length - 1].match.def && l.pop(), e.each(l, function (e, t) { for (var n = 0; n < s; n++) { if (t.locator[n] === i || !A(t.locator[n].toString().split(","), r[n].toString().split(","), t.na)) { var a = r[n], o = u.locator[n], l = t.locator[n]; a - o > Math.abs(a - l) && (u = t); break } c < n && (c = n, u = t) } }), (u = e.extend({}, u, { input: O(o, u.match, !0) || u.match.def })).generatedInput = !0, p(o, u, !0), m().validPositions[n] = i, d(n, a.input, !0) } }(f, x.pos !== i ? x.pos : T), f = T; break } } else x = { caret: F(f) } } !1 === x && u.keepStatic && !r && !0 !== o && (x = function (t, n, a) { var r, o, l, c, d, p, h, f, y = e.extend(!0, {}, m().validPositions), b = !1, k = g(); for (c = m().validPositions[k]; 0 <= k; k--)if ((l = m().validPositions[k]) && l.alternation !== i) { if (r = k, o = m().validPositions[r].alternation, c.locator[l.alternation] !== l.locator[l.alternation]) break; c = l } if (o !== i) { f = parseInt(r); var x = c.locator[c.alternation || o] !== i ? c.locator[c.alternation || o] : h[0]; 0 < x.length && (x = x.split(",")[0]); var w = m().validPositions[f], E = m().validPositions[f - 1]; e.each(C(f, E ? E.locator : i, f - 1), function (r, l) { h = l.locator[o] ? l.locator[o].toString().split(",") : []; for (var c = 0; c < h.length; c++) { var k = [], C = 0, E = 0, S = !1; if (x < h[c] && (l.na === i || -1 === e.inArray(h[c], l.na.split(",")) || -1 === e.inArray(x.toString(), h))) { m().validPositions[f] = e.extend(!0, {}, l); var D = m().validPositions[f].locator; for (m().validPositions[f].locator[o] = parseInt(h[c]), null == l.match.fn ? (w.input !== l.match.def && (S = !0) !== w.generatedInput && k.push(w.input), E++ , m().validPositions[f].generatedInput = !/[0-9a-bA-Z]/.test(l.match.def), m().validPositions[f].input = l.match.def) : m().validPositions[f].input = w.input, d = f + 1; d < g(i, !0) + 1; d++)(p = m().validPositions[d]) && !0 !== p.generatedInput && /[0-9a-bA-Z]/.test(p.input) ? k.push(p.input) : d < t && C++ , delete m().validPositions[d]; for (S && k[0] === l.match.def && k.shift(), v(!0), b = !0; 0 < k.length;) { var A = k.shift(); if (A !== u.skipOptionalPartCharacter && !(b = _(g(i, !0) + 1, A, !1, s, !0))) break } if (b) { m().validPositions[f].locator = D; var P = g(t) + 1; for (d = f + 1; d < g() + 1; d++)((p = m().validPositions[d]) === i || null == p.match.fn) && d < t + (E - C) && E++; b = _((t += E - C) > P ? P : t, n, a, s, !0) } if (b) return !1; v(), m().validPositions = e.extend(!0, {}, y) } } }) } return b }(f, n, r)), !0 === x && (x = { pos: f }) } if (e.isFunction(u.postValidation) && !1 !== x && !r && !0 !== s && !0 !== l) { var N = u.postValidation(S(!0), x, u); if (N.refreshFromBuffer && N.buffer) { var z = N.refreshFromBuffer; D(!0 === z ? z : z.start, z.end, N.buffer) } x = !0 === N ? x : N } return x && x.pos === i && (x.pos = f), !1 !== x && !0 !== l || (v(!0), m().validPositions = e.extend(!0, {}, E)), x } function P(e, t) { var n = k(e).match; if ("" === n.def && (n = x(e).match), null != n.fn) return n.fn; if (!0 !== t && -1 < e) { var i = C(e); return i.length > 1 + ("" === i[i.length - 1].match.def ? 1 : 0) } return !1 } function F(e, t) { var n = m().maskLength; if (n <= e) return n; var i = e; for (1 < C(n + 1).length && (f(!0, n + 1, !0), n = m().maskLength); ++i < n && (!0 === t && (!0 !== x(i).match.newBlockMarker || !P(i)) || !0 !== t && !P(i));); return i } function M(e, t) { var n, i = e; if (i <= 0) return 0; for (; 0 < --i && (!0 === t && !0 !== x(i).match.newBlockMarker || !0 !== t && !P(i) && ((n = C(i)).length < 2 || 2 === n.length && "" === n[1].match.def));); return i } function T(t, n, a, r, s) { if (r && e.isFunction(u.onBeforeWrite)) { var o = u.onBeforeWrite.call(Y, r, n, a, u); if (o) { if (o.refreshFromBuffer) { var l = o.refreshFromBuffer; D(!0 === l ? l : l.start, l.end, o.buffer || n), n = S(!0) } a !== i && (a = o.caret !== i ? o.caret : a) } } t !== i && (t.inputmask._valueSet(n.join("")), a === i || r !== i && "blur" === r.type ? B(t, a, 0 === n.length) : h && r && "input" === r.type ? setTimeout(function () { z(t, a) }, 0) : z(t, a), !0 === s && (Z = !0, e(t).trigger("input"))) } function O(t, n, a) { if ((n = n || x(t).match).placeholder !== i || !0 === a) return e.isFunction(n.placeholder) ? n.placeholder(u) : n.placeholder; if (null === n.fn) { if (-1 < t && m().validPositions[t] === i) { var r, s = C(t), o = []; if (s.length > 1 + ("" === s[s.length - 1].match.def ? 1 : 0)) for (var l = 0; l < s.length; l++)if (!0 !== s[l].match.optionality && !0 !== s[l].match.optionalQuantifier && (null === s[l].match.fn || r === i || !1 !== s[l].match.fn.test(r.match.def, m(), t, !0, u)) && (o.push(s[l]), null === s[l].match.fn && (r = s[l]), 1 < o.length && /[0-9a-bA-Z]/.test(o[0].match.def))) return u.placeholder.charAt(t % u.placeholder.length) } return n.def } return u.placeholder.charAt(t % u.placeholder.length) } function I(t, r, s, o, l) { var c = o.slice(), d = "", p = -1, h = i; if (v(), s || !0 === u.autoUnmask) p = F(p); else { var f = E().slice(0, F(-1)).join(""), y = c.join("").match(new RegExp("^" + a.escapeRegex(f), "g")); y && 0 < y.length && (c.splice(0, y.length * f.length), p = F(p)) } if (-1 === p ? (m().p = F(p), p = 0) : m().p = p, e.each(c, function (n, a) { if (a !== i) if (m().validPositions[n] === i && c[n] === O(n) && P(n, !0) && !1 === _(n, c[n], !0, i, i, !0)) m().p++; else { var r = new e.Event("_checkval"); r.which = a.charCodeAt(0), d += a; var o = g(i, !0), l = m().validPositions[o], f = k(o + 1, l ? l.locator.slice() : i, o); if (C = p, A = d, -1 === E().slice(C, F(C)).join("").indexOf(A) || P(C) || x(C).match.nativeDef !== A.charAt(A.length - 1) || s || u.autoUnmask) { var y = s ? n : null == f.match.fn && f.match.optionality && o + 1 < m().p ? o + 1 : m().p; h = ne.keypressEvent.call(t, r, !0, !1, s, y), p = y + 1, d = "" } else h = ne.keypressEvent.call(t, r, !0, !1, !0, o + 1); if (!1 !== h && !s && e.isFunction(u.onBeforeWrite)) { var b = h; if (h = u.onBeforeWrite.call(Y, r, S(), h.forwardPosition, u), (h = e.extend(b, h)) && h.refreshFromBuffer) { var w = h.refreshFromBuffer; D(!0 === w ? w : w.start, w.end, h.buffer), v(!0), h.caret && (m().p = h.caret, h.forwardPosition = h.caret) } } } var C, A }), r) { var b = i; n.activeElement === t && h && (b = u.numericInput ? M(h.forwardPosition) : h.forwardPosition), T(t, S(), b, l || new e.Event("checkval"), l && "input" === l.type) } } function N(t) { if (t) { if (t.inputmask === i) return t.value; t.inputmask && t.inputmask.refreshValue && ne.setValueEvent.call(t) } var n = [], a = m().validPositions; for (var r in a) a[r].match && null != a[r].match.fn && n.push(a[r].input); var s = 0 === n.length ? "" : (Q ? n.reverse() : n).join(""); if (e.isFunction(u.onUnMask)) { var o = (Q ? S().slice().reverse() : S()).join(""); s = u.onUnMask.call(Y, o, s, u) } return s } function z(e, a, r, s) { function o(e) { return !0 === s || !Q || "number" != typeof e || u.greedy && "" === u.placeholder || (e = S().join("").length - e), e } var l; if (a === i) return e.setSelectionRange ? (a = e.selectionStart, r = e.selectionEnd) : t.getSelection ? (l = t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== e && l.commonAncestorContainer !== e || (a = l.startOffset, r = l.endOffset) : n.selection && n.selection.createRange && (r = (a = 0 - (l = n.selection.createRange()).duplicate().moveStart("character", -e.inputmask._valueGet().length)) + l.text.length), { begin: o(a), end: o(r) }; if (a.begin !== i && (r = a.end, a = a.begin), "number" == typeof a) { a = o(a), r = "number" == typeof (r = o(r)) ? r : a; var d = parseInt(((e.ownerDocument.defaultView || t).getComputedStyle ? (e.ownerDocument.defaultView || t).getComputedStyle(e, null) : e.currentStyle).fontSize) * r; if (e.scrollLeft = d > e.scrollWidth ? d : 0, c || !1 !== u.insertMode || a !== r || r++ , e.setSelectionRange) e.selectionStart = a, e.selectionEnd = r; else if (t.getSelection) { if (l = n.createRange(), e.firstChild === i || null === e.firstChild) { var p = n.createTextNode(""); e.appendChild(p) } l.setStart(e.firstChild, a < e.inputmask._valueGet().length ? a : e.inputmask._valueGet().length), l.setEnd(e.firstChild, r < e.inputmask._valueGet().length ? r : e.inputmask._valueGet().length), l.collapse(!0); var h = t.getSelection(); h.removeAllRanges(), h.addRange(l) } else e.createTextRange && ((l = e.createTextRange()).collapse(!0), l.moveEnd("character", r), l.moveStart("character", a), l.select()); B(e, { begin: a, end: r }) } } function R(t) { var n, a, r = S(), s = r.length, o = g(), l = {}, u = m().validPositions[o], c = u !== i ? u.locator.slice() : i; for (n = o + 1; n < r.length; n++)c = (a = k(n, c, n - 1)).locator.slice(), l[n] = e.extend(!0, {}, a); var d = u && u.alternation !== i ? u.locator[u.alternation] : i; for (n = s - 1; o < n && ((a = l[n]).match.optionality || a.match.optionalQuantifier && a.match.newBlockMarker || d && (d !== l[n].locator[u.alternation] && null != a.match.fn || null === a.match.fn && a.locator[u.alternation] && A(a.locator[u.alternation].toString().split(","), d.toString().split(",")) && "" !== C(n)[0].def)) && r[n] === O(n, a.match); n--)s--; return t ? { l: s, def: l[s] ? l[s].match : i } : s } function L(e) { for (var t, n = R(), a = e.length, r = m().validPositions[g()]; n < a && !P(n, !0) && (t = r !== i ? k(n, r.locator.slice(""), r) : x(n)) && !0 !== t.match.optionality && (!0 !== t.match.optionalQuantifier && !0 !== t.match.newBlockMarker || n + 1 === a && "" === (r !== i ? k(n + 1, r.locator.slice(""), r) : x(n + 1)).match.def);)n++; for (; (t = m().validPositions[n - 1]) && t && t.match.optionality && t.input === u.skipOptionalPartCharacter;)n--; return e.splice(n), e } function $(t) { if (e.isFunction(u.isComplete)) return u.isComplete(t, u); if ("*" === u.repeat) return i; var n = !1, a = R(!0), r = M(a.l); if (a.def === i || a.def.newBlockMarker || a.def.optionality || a.def.optionalQuantifier) { n = !0; for (var s = 0; s <= r; s++) { var o = k(s).match; if (null !== o.fn && m().validPositions[s] === i && !0 !== o.optionality && !0 !== o.optionalQuantifier || null === o.fn && t[s] !== O(s, o)) { n = !1; break } } } return n } function U(t, n, r, s, o) { if ((u.numericInput || Q) && (n === a.keyCode.BACKSPACE ? n = a.keyCode.DELETE : n === a.keyCode.DELETE && (n = a.keyCode.BACKSPACE), Q)) { var l = r.end; r.end = r.begin, r.begin = l } n === a.keyCode.BACKSPACE && (r.end - r.begin < 1 || !1 === u.insertMode) ? (r.begin = M(r.begin), m().validPositions[r.begin] !== i && m().validPositions[r.begin].input === u.groupSeparator && r.begin--) : n === a.keyCode.DELETE && r.begin === r.end && (r.end = P(r.end, !0) && m().validPositions[r.end] && m().validPositions[r.end].input !== u.radixPoint ? r.end + 1 : F(r.end) + 1, m().validPositions[r.begin] !== i && m().validPositions[r.begin].input === u.groupSeparator && r.end++), y(r.begin, r.end, !1, s), !0 !== s && function () { if (u.keepStatic) { for (var n = [], a = g(-1, !0), r = e.extend(!0, {}, m().validPositions), s = m().validPositions[a]; 0 <= a; a--) { var o = m().validPositions[a]; if (o) { if (!0 !== o.generatedInput && /[0-9a-bA-Z]/.test(o.input) && n.push(o.input), delete m().validPositions[a], o.alternation !== i && o.locator[o.alternation] !== s.locator[o.alternation]) break; s = o } } if (-1 < a) for (m().p = F(g(-1, !0)); 0 < n.length;) { var l = new e.Event("keypress"); l.which = n.pop().charCodeAt(0), ne.keypressEvent.call(t, l, !0, !1, !1, m().p) } else m().validPositions = e.extend(!0, {}, r) } }(); var c = g(r.begin, !0); if (c < r.begin) m().p = F(c); else if (!0 !== s && (m().p = r.begin, !0 !== o)) for (; m().p < c && m().validPositions[m().p] === i;)m().p++ } function j(i) { var a = (i.ownerDocument.defaultView || t).getComputedStyle(i, null), r = n.createElement("div"); r.style.width = a.width, r.style.textAlign = a.textAlign, (q = n.createElement("div")).className = "im-colormask", i.parentNode.insertBefore(q, i), i.parentNode.removeChild(i), q.appendChild(r), q.appendChild(i), i.style.left = r.offsetLeft + "px", e(i).on("click", function (e) { return z(i, function (e) { var t, r = n.createElement("span"); for (var s in a) isNaN(s) && -1 !== s.indexOf("font") && (r.style[s] = a[s]); r.style.textTransform = a.textTransform, r.style.letterSpacing = a.letterSpacing, r.style.position = "absolute", r.style.height = "auto", r.style.width = "auto", r.style.visibility = "hidden", r.style.whiteSpace = "nowrap", n.body.appendChild(r); var o, l = i.inputmask._valueGet(), u = 0; for (t = 0, o = l.length; t <= o; t++) { if (r.innerHTML += l.charAt(t) || "_", r.offsetWidth >= e) { var c = e - u, d = r.offsetWidth - e; r.innerHTML = l.charAt(t), t = (c -= r.offsetWidth / 3) < d ? t - 1 : t; break } u = r.offsetWidth } return n.body.removeChild(r), t }(e.clientX)), ne.clickEvent.call(i, [e]) }), e(i).on("keydown", function (e) { e.shiftKey || !1 === u.insertMode || setTimeout(function () { B(i) }, 0) }) } function B(e, t, a) { function r() { p || null !== o.fn && l.input !== i ? p && (null !== o.fn && l.input !== i || "" === o.def) && (p = !1, d += "</span>") : (p = !0, d += "<span class='im-static'>") } function s(i) { !0 !== i && h !== t.begin || n.activeElement !== e || (d += "<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>") } var o, l, c, d = "", p = !1, h = 0; if (q !== i) { var f = S(); if (t === i ? t = z(e) : t.begin === i && (t = { begin: t, end: t }), !0 !== a) { for (var v = g(); s(), m().validPositions[h] ? (l = m().validPositions[h], o = l.match, c = l.locator.slice(), r(), d += f[h]) : (l = k(h, c, h - 1), o = l.match, c = l.locator.slice(), (!1 === u.jitMasking || h < v || "number" == typeof u.jitMasking && isFinite(u.jitMasking) && u.jitMasking > h) && (r(), d += O(h, o))), h++ , (H === i || h < H) && (null !== o.fn || "" !== o.def) || h < v || p;); -1 === d.indexOf("im-caret") && s(!0), p && r() } var y = q.getElementsByTagName("div")[0]; y.innerHTML = d, e.inputmask.positionColorMask(e, y) } } o = o || this.maskset, u = u || this.opts; var V, G, H, q, K, Y = this, W = this.el, Q = this.isRTL, X = !1, Z = !1, J = !1, ee = !1, te = { on: function (t, n, r) { var s = function (t) { if (this.inputmask === i && "FORM" !== this.nodeName) { var n = e.data(this, "_inputmask_opts"); n ? new a(n).mask(this) : te.off(this) } else { if ("setvalue" === t.type || "FORM" === this.nodeName || !(this.disabled || this.readOnly && !("keydown" === t.type && t.ctrlKey && 67 === t.keyCode || !1 === u.tabThrough && t.keyCode === a.keyCode.TAB))) { switch (t.type) { case "input": if (!0 === Z) return Z = !1, t.preventDefault(); break; case "keydown": Z = X = !1; break; case "keypress": if (!0 === X) return t.preventDefault(); X = !0; break; case "click": if (d || p) { var s = this, o = arguments; return setTimeout(function () { r.apply(s, o) }, 0), !1 } }var l = r.apply(this, arguments); return !1 === l && (t.preventDefault(), t.stopPropagation()), l } t.preventDefault() } }; t.inputmask.events[n] = t.inputmask.events[n] || [], t.inputmask.events[n].push(s), -1 !== e.inArray(n, ["submit", "reset"]) ? null !== t.form && e(t.form).on(n, s) : e(t).on(n, s) }, off: function (t, n) { var i; t.inputmask && t.inputmask.events && (n ? (i = [])[n] = t.inputmask.events[n] : i = t.inputmask.events, e.each(i, function (n, i) { for (; 0 < i.length;) { var a = i.pop(); -1 !== e.inArray(n, ["submit", "reset"]) ? null !== t.form && e(t.form).off(n, a) : e(t).off(n, a) } delete t.inputmask.events[n] })) } }, ne = { keydownEvent: function (t) { var i, r, s, o = this, l = e(o), c = t.keyCode, d = z(o); if (c === a.keyCode.BACKSPACE || c === a.keyCode.DELETE || p && c === a.keyCode.BACKSPACE_SAFARI || t.ctrlKey && c === a.keyCode.X && ((s = (r = "oncut") in (i = n.createElement("input"))) || (i.setAttribute(r, "return;"), s = "function" == typeof i[r]), i = null, !s)) t.preventDefault(), U(o, c, d), T(o, S(!0), m().p, t, o.inputmask._valueGet() !== S().join("")), o.inputmask._valueGet() === E().join("") ? l.trigger("cleared") : !0 === $(S()) && l.trigger("complete"); else if (c === a.keyCode.END || c === a.keyCode.PAGE_DOWN) { t.preventDefault(); var h = F(g()); u.insertMode || h !== m().maskLength || t.shiftKey || h-- , z(o, t.shiftKey ? d.begin : h, h, !0) } else c === a.keyCode.HOME && !t.shiftKey || c === a.keyCode.PAGE_UP ? (t.preventDefault(), z(o, 0, t.shiftKey ? d.begin : 0, !0)) : (u.undoOnEscape && c === a.keyCode.ESCAPE || 90 === c && t.ctrlKey) && !0 !== t.altKey ? (I(o, !0, !1, V.split("")), l.trigger("click")) : c !== a.keyCode.INSERT || t.shiftKey || t.ctrlKey ? !0 === u.tabThrough && c === a.keyCode.TAB ? (!0 === t.shiftKey ? (null === x(d.begin).match.fn && (d.begin = F(d.begin)), d.end = M(d.begin, !0), d.begin = M(d.end, !0)) : (d.begin = F(d.begin, !0), d.end = F(d.begin, !0), d.end < m().maskLength && d.end--), d.begin < m().maskLength && (t.preventDefault(), z(o, d.begin, d.end))) : t.shiftKey || !1 === u.insertMode && (c === a.keyCode.RIGHT ? setTimeout(function () { var e = z(o); z(o, e.begin) }, 0) : c === a.keyCode.LEFT && setTimeout(function () { var e = z(o); z(o, Q ? e.begin + 1 : e.begin - 1) }, 0)) : (u.insertMode = !u.insertMode, z(o, u.insertMode || d.begin !== m().maskLength ? d.begin : d.begin - 1)); u.onKeyDown.call(this, t, S(), z(o).begin, u), J = -1 !== e.inArray(c, u.ignorables) }, keypressEvent: function (t, n, r, s, o) { var l = this, c = e(l), d = t.which || t.charCode || t.keyCode; if (!(!0 === n || t.ctrlKey && t.altKey) && (t.ctrlKey || t.metaKey || J)) return d === a.keyCode.ENTER && V !== S().join("") && (V = S().join(""), setTimeout(function () { c.trigger("change") }, 0)), !0; if (d) { 46 === d && !1 === t.shiftKey && "" !== u.radixPoint && (d = u.radixPoint.charCodeAt(0)); var p, h = n ? { begin: o, end: o } : z(l), f = String.fromCharCode(d); m().writeOutBuffer = !0; var g = _(h, f, s); if (!1 !== g && (v(!0), p = g.caret !== i ? g.caret : n ? g.pos + 1 : F(g.pos), m().p = p), !1 !== r && (setTimeout(function () { u.onKeyValidation.call(l, d, g, u) }, 0), m().writeOutBuffer && !1 !== g)) { var y = S(); T(l, y, u.numericInput && g.caret === i ? M(p) : p, t, !0 !== n), !0 !== n && setTimeout(function () { !0 === $(y) && c.trigger("complete") }, 0) } if (t.preventDefault(), n) return !1 !== g && (g.forwardPosition = p), g } }, pasteEvent: function (n) { var i, a = this, r = n.originalEvent || n, s = e(a), o = a.inputmask._valueGet(!0), l = z(a); Q && (i = l.end, l.end = l.begin, l.begin = i); var c = o.substr(0, l.begin), d = o.substr(l.end, o.length); if (c === (Q ? E().reverse() : E()).slice(0, l.begin).join("") && (c = ""), d === (Q ? E().reverse() : E()).slice(l.end).join("") && (d = ""), Q && (i = c, c = d, d = i), t.clipboardData && t.clipboardData.getData) o = c + t.clipboardData.getData("Text") + d; else { if (!r.clipboardData || !r.clipboardData.getData) return !0; o = c + r.clipboardData.getData("text/plain") + d } var p = o; if (e.isFunction(u.onBeforePaste)) { if (!1 === (p = u.onBeforePaste.call(Y, o, u))) return n.preventDefault(); p || (p = o) } return I(a, !1, !1, Q ? p.split("").reverse() : p.toString().split("")), T(a, S(), F(g()), n, V !== S().join("")), !0 === $(S()) && s.trigger("complete"), n.preventDefault() }, inputFallBackEvent: function (t) { var n = this, i = n.inputmask._valueGet(); if (S().join("") !== i) { var r = z(n); if (!1 === function (t, n, i) { if ("." === n.charAt(i.begin - 1) && "" !== u.radixPoint && ((n = n.split(""))[i.begin - 1] = u.radixPoint.charAt(0), n = n.join("")), n.charAt(i.begin - 1) === u.radixPoint && n.length > S().length) { var a = new e.Event("keypress"); return a.which = u.radixPoint.charCodeAt(0), ne.keypressEvent.call(t, a, !0, !0, !1, i.begin - 1), !1 } }(n, i, r)) return !1; if (i = i.replace(new RegExp("(" + a.escapeRegex(E().join("")) + ")*"), ""), !1 === function (t, n, i) { if (d) { var a = n.replace(S().join(""), ""); if (1 === a.length) { var r = new e.Event("keypress"); return r.which = a.charCodeAt(0), ne.keypressEvent.call(t, r, !0, !0, !1, m().validPositions[i.begin - 1] ? i.begin : i.begin - 1), !1 } } }(n, i, r)) return !1; r.begin > i.length && (z(n, i.length), r = z(n)); var s = S().join(""), o = i.substr(0, r.begin), l = i.substr(r.begin), c = s.substr(0, r.begin), p = s.substr(r.begin), h = r, f = "", v = !1; if (o !== c) { h.begin = 0; for (var g = (v = o.length >= c.length) ? o.length : c.length, y = 0; o.charAt(y) === c.charAt(y) && y < g; y++)h.begin++; v && (f += o.slice(h.begin, h.end)) } l !== p && (l.length > p.length ? v && (h.end = h.begin) : l.length < p.length ? h.end += p.length - l.length : l.charAt(0) !== p.charAt(0) && h.end++), T(n, S(), h), 0 < f.length ? e.each(f.split(""), function (t, i) { var a = new e.Event("keypress"); a.which = i.charCodeAt(0), J = !1, ne.keypressEvent.call(n, a) }) : (h.begin === h.end - 1 && z(n, M(h.begin + 1), h.end), t.keyCode = a.keyCode.DELETE, ne.keydownEvent.call(n, t)), t.preventDefault() } }, setValueEvent: function (t) { this.inputmask.refreshValue = !1; var n = this.inputmask._valueGet(!0); e.isFunction(u.onBeforeMask) && (n = u.onBeforeMask.call(Y, n, u) || n), n = n.split(""), I(this, !0, !1, Q ? n.reverse() : n), V = S().join(""), (u.clearMaskOnLostFocus || u.clearIncomplete) && this.inputmask._valueGet() === E().join("") && this.inputmask._valueSet("") }, focusEvent: function (e) { var t = this, n = t.inputmask._valueGet(); u.showMaskOnFocus && (!u.showMaskOnHover || u.showMaskOnHover && "" === n) && (t.inputmask._valueGet() !== S().join("") ? T(t, S(), F(g())) : !1 === ee && z(t, F(g()))), !0 === u.positionCaretOnTab && !1 === ee && "" !== n && (T(t, S(), z(t)), ne.clickEvent.apply(t, [e, !0])), V = S().join("") }, mouseleaveEvent: function (e) { if (ee = !1, u.clearMaskOnLostFocus && n.activeElement !== this) { var t = S().slice(), i = this.inputmask._valueGet(); i !== this.getAttribute("placeholder") && "" !== i && (-1 === g() && i === E().join("") ? t = [] : L(t), T(this, t)) } }, clickEvent: function (t, a) { var r = this; setTimeout(function () { if (n.activeElement === r) { var t = z(r); if (a && (Q ? t.end = t.begin : t.begin = t.end), t.begin === t.end) switch (u.positionCaretOnClick) { case "none": break; case "radixFocus": if (function (t) { if ("" !== u.radixPoint) { var n = m().validPositions; if (n[t] === i || n[t].input === O(t)) { if (t < F(-1)) return !0; var a = e.inArray(u.radixPoint, S()); if (-1 !== a) { for (var r in n) if (a < r && n[r].input !== O(r)) return !1; return !0 } } } return !1 }(t.begin)) { var s = S().join("").indexOf(u.radixPoint); z(r, u.numericInput ? F(s) : s); break } default: var o = t.begin, l = g(o, !0), c = F(l); if (o < c) z(r, P(o, !0) || P(o - 1, !0) ? o : F(o)); else { var d = m().validPositions[l], p = k(c, d ? d.match.locator : i, d), h = O(c, p.match); if ("" !== h && S()[c] !== h && !0 !== p.match.optionalQuantifier && !0 !== p.match.newBlockMarker || !P(c, !0) && p.match.def === h) { var f = F(c); (f <= o || o === c) && (c = f) } z(r, c) } } } }, 0) }, dblclickEvent: function (e) { var t = this; setTimeout(function () { z(t, 0, F(g())) }, 0) }, cutEvent: function (i) { var r = this, s = e(r), o = z(r), l = i.originalEvent || i, u = t.clipboardData || l.clipboardData, c = Q ? S().slice(o.end, o.begin) : S().slice(o.begin, o.end); u.setData("text", Q ? c.reverse().join("") : c.join("")), n.execCommand && n.execCommand("copy"), U(r, a.keyCode.DELETE, o), T(r, S(), m().p, i, V !== S().join("")), r.inputmask._valueGet() === E().join("") && s.trigger("cleared") }, blurEvent: function (t) { var n = e(this); if (this.inputmask) { var a = this.inputmask._valueGet(), r = S().slice(); "" !== a && (u.clearMaskOnLostFocus && (-1 === g() && a === E().join("") ? r = [] : L(r)), !1 === $(r) && (setTimeout(function () { n.trigger("incomplete") }, 0), u.clearIncomplete && (v(), r = u.clearMaskOnLostFocus ? [] : E().slice())), T(this, r, i, t)), V !== S().join("") && (V = r.join(""), n.trigger("change")) } }, mouseenterEvent: function (e) { ee = !0, n.activeElement !== this && u.showMaskOnHover && this.inputmask._valueGet() !== S().join("") && T(this, S()) }, submitEvent: function (e) { V !== S().join("") && G.trigger("change"), u.clearMaskOnLostFocus && -1 === g() && W.inputmask._valueGet && W.inputmask._valueGet() === E().join("") && W.inputmask._valueSet(""), u.removeMaskOnSubmit && (W.inputmask._valueSet(W.inputmask.unmaskedvalue(), !0), setTimeout(function () { T(W, S()) }, 0)) }, resetEvent: function (e) { W.inputmask.refreshValue = !0, setTimeout(function () { G.trigger("setvalue") }, 0) } }; if (a.prototype.positionColorMask = function (e, t) { e.style.left = t.offsetLeft + "px" }, r !== i) switch (r.action) { case "isComplete": return W = r.el, $(S()); case "unmaskedvalue": return W !== i && r.value === i || (K = r.value, K = (e.isFunction(u.onBeforeMask) && u.onBeforeMask.call(Y, K, u) || K).split(""), I(i, !1, !1, Q ? K.reverse() : K), e.isFunction(u.onBeforeWrite) && u.onBeforeWrite.call(Y, i, S(), 0, u)), N(W); case "mask": !function (t) { te.off(t); var a = function (t, a) { var r = t.getAttribute("type"), o = "INPUT" === t.tagName && -1 !== e.inArray(r, a.supportsInputType) || t.isContentEditable || "TEXTAREA" === t.tagName; if (!o) if ("INPUT" === t.tagName) { var l = n.createElement("input"); l.setAttribute("type", r), o = "text" === l.type, l = null } else o = "partial"; return !1 !== o ? function (t) { function r() { return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== g() || !0 !== a.nullable ? n.activeElement === this && a.clearMaskOnLostFocus ? (Q ? L(S().slice()).reverse() : L(S().slice())).join("") : l.call(this) : "" : l.call(this) } function o(t) { u.call(this, t), this.inputmask && e(this).trigger("setvalue") } var l, u, c; if (!t.inputmask.__valueGet) { if (!0 !== a.noValuePatching) { if (Object.getOwnPropertyDescriptor) { "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === s("test".__proto__) ? function (e) { return e.__proto__ } : function (e) { return e.constructor.prototype }); var d = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t), "value") : i; d && d.get && d.set ? (l = d.get, u = d.set, Object.defineProperty(t, "value", { get: r, set: o, configurable: !0 })) : "INPUT" !== t.tagName && (l = function () { return this.textContent }, u = function (e) { this.textContent = e }, Object.defineProperty(t, "value", { get: r, set: o, configurable: !0 })) } else n.__lookupGetter__ && t.__lookupGetter__("value") && (l = t.__lookupGetter__("value"), u = t.__lookupSetter__("value"), t.__defineGetter__("value", r), t.__defineSetter__("value", o)); t.inputmask.__valueGet = l, t.inputmask.__valueSet = u } t.inputmask._valueGet = function (e) { return Q && !0 !== e ? l.call(this.el).split("").reverse().join("") : l.call(this.el) }, t.inputmask._valueSet = function (e, t) { u.call(this.el, null === e || e === i ? "" : !0 !== t && Q ? e.split("").reverse().join("") : e) }, l === i && (l = function () { return this.value }, u = function (e) { this.value = e }, function (t) { if (e.valHooks && (e.valHooks[t] === i || !0 !== e.valHooks[t].inputmaskpatch)) { var n = e.valHooks[t] && e.valHooks[t].get ? e.valHooks[t].get : function (e) { return e.value }, r = e.valHooks[t] && e.valHooks[t].set ? e.valHooks[t].set : function (e, t) { return e.value = t, e }; e.valHooks[t] = { get: function (e) { if (e.inputmask) { if (e.inputmask.opts.autoUnmask) return e.inputmask.unmaskedvalue(); var t = n(e); return -1 !== g(i, i, e.inputmask.maskset.validPositions) || !0 !== a.nullable ? t : "" } return n(e) }, set: function (t, n) { var i, a = e(t); return i = r(t, n), t.inputmask && a.trigger("setvalue"), i }, inputmaskpatch: !0 } } }(t.type), c = t, te.on(c, "mouseenter", function (t) { var n = e(this); this.inputmask._valueGet() !== S().join("") && n.trigger("setvalue") })) } }(t) : t.inputmask = i, o }(t, u); if (!1 !== a && (G = e(W = t), -1 === (H = W !== i ? W.maxLength : i) && (H = i), !0 === u.colorMask && j(W), h && (W.hasOwnProperty("inputmode") && (W.inputmode = u.inputmode, W.setAttribute("inputmode", u.inputmode)), "rtfm" === u.androidHack && (!0 !== u.colorMask && j(W), W.type = "password")), !0 === a && (te.on(W, "submit", ne.submitEvent), te.on(W, "reset", ne.resetEvent), te.on(W, "mouseenter", ne.mouseenterEvent), te.on(W, "blur", ne.blurEvent), te.on(W, "focus", ne.focusEvent), te.on(W, "mouseleave", ne.mouseleaveEvent), !0 !== u.colorMask && te.on(W, "click", ne.clickEvent), te.on(W, "dblclick", ne.dblclickEvent), te.on(W, "paste", ne.pasteEvent), te.on(W, "dragdrop", ne.pasteEvent), te.on(W, "drop", ne.pasteEvent), te.on(W, "cut", ne.cutEvent), te.on(W, "complete", u.oncomplete), te.on(W, "incomplete", u.onincomplete), te.on(W, "cleared", u.oncleared), h || !0 === u.inputEventOnly ? W.removeAttribute("maxLength") : (te.on(W, "keydown", ne.keydownEvent), te.on(W, "keypress", ne.keypressEvent)), te.on(W, "compositionstart", e.noop), te.on(W, "compositionupdate", e.noop), te.on(W, "compositionend", e.noop), te.on(W, "keyup", e.noop), te.on(W, "input", ne.inputFallBackEvent), te.on(W, "beforeinput", e.noop)), te.on(W, "setvalue", ne.setValueEvent), V = E().join(""), "" !== W.inputmask._valueGet(!0) || !1 === u.clearMaskOnLostFocus || n.activeElement === W)) { var r = e.isFunction(u.onBeforeMask) && u.onBeforeMask.call(Y, W.inputmask._valueGet(!0), u) || W.inputmask._valueGet(!0); "" !== r && I(W, !0, !1, Q ? r.split("").reverse() : r.split("")); var o = S().slice(); V = o.join(""), !1 === $(o) && u.clearIncomplete && v(), u.clearMaskOnLostFocus && n.activeElement !== W && (-1 === g() ? o = [] : L(o)), T(W, o), n.activeElement === W && z(W, F(g())) } }(W); break; case "format": return K = (e.isFunction(u.onBeforeMask) && u.onBeforeMask.call(Y, r.value, u) || r.value).split(""), I(i, !0, !1, Q ? K.reverse() : K), r.metadata ? { value: Q ? S().slice().reverse().join("") : S().join(""), metadata: l.call(this, { action: "getmetadata" }, o, u) } : Q ? S().slice().reverse().join("") : S().join(""); case "isValid": r.value ? (K = r.value.split(""), I(i, !0, !0, Q ? K.reverse() : K)) : r.value = S().join(""); for (var ie = S(), ae = R(), re = ie.length - 1; ae < re && !P(re); re--); return ie.splice(ae, re + 1 - ae), $(ie) && r.value === S().join(""); case "getemptymask": return E().join(""); case "remove": return W && W.inputmask && (G = e(W), W.inputmask._valueSet(u.autoUnmask ? N(W) : W.inputmask._valueGet(!0)), te.off(W), Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(W), "value") && W.inputmask.__valueGet && Object.defineProperty(W, "value", { get: W.inputmask.__valueGet, set: W.inputmask.__valueSet, configurable: !0 }) : n.__lookupGetter__ && W.__lookupGetter__("value") && W.inputmask.__valueGet && (W.__defineGetter__("value", W.inputmask.__valueGet), W.__defineSetter__("value", W.inputmask.__valueSet)), W.inputmask = i), W; case "getmetadata": if (e.isArray(o.metadata)) { var se = f(!0, 0, !1).join(""); return e.each(o.metadata, function (e, t) { if (t.mask === se) return se = t, !1 }), se } return o.metadata } } var u = navigator.userAgent, c = /mobile/i.test(u), d = /iemobile/i.test(u), p = /iphone/i.test(u) && !d, h = /android/i.test(u) && !d; return a.prototype = { dataAttribute: "data-inputmask", defaults: { placeholder: "_", optionalmarker: { start: "[", end: "]" }, quantifiermarker: { start: "{", end: "}" }, groupmarker: { start: "(", end: ")" }, alternatormarker: "|", escapeChar: "\\", mask: null, regex: null, oncomplete: e.noop, onincomplete: e.noop, oncleared: e.noop, repeat: 0, greedy: !0, autoUnmask: !1, removeMaskOnSubmit: !1, clearMaskOnLostFocus: !0, insertMode: !0, clearIncomplete: !1, alias: null, onKeyDown: e.noop, onBeforeMask: null, onBeforePaste: function (t, n) { return e.isFunction(n.onBeforeMask) ? n.onBeforeMask.call(this, t, n) : t }, onBeforeWrite: null, onUnMask: null, showMaskOnFocus: !0, showMaskOnHover: !0, onKeyValidation: e.noop, skipOptionalPartCharacter: " ", numericInput: !1, rightAlign: !1, undoOnEscape: !0, radixPoint: "", radixPointDefinitionSymbol: i, groupSeparator: "", keepStatic: null, positionCaretOnTab: !0, tabThrough: !1, supportsInputType: ["text", "tel", "password"], ignorables: [8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229], isComplete: null, canClearPosition: e.noop, preValidation: null, postValidation: null, staticDefinitionSymbol: i, jitMasking: !1, nullable: !0, inputEventOnly: !1, noValuePatching: !1, positionCaretOnClick: "lvp", casing: null, inputmode: "verbatim", colorMask: !1, androidHack: !1, importDataAttributes: !0 }, definitions: { 9: { validator: "[0-9１-９]", cardinality: 1, definitionSymbol: "*" }, a: { validator: "[A-Za-zА-яЁёÀ-ÿµ]", cardinality: 1, definitionSymbol: "*" }, "*": { validator: "[0-9１-９A-Za-zА-яЁёÀ-ÿµ]", cardinality: 1 } }, aliases: {}, masksCache: {}, mask: function (s) { var u = this; return "string" == typeof s && (s = n.getElementById(s) || n.querySelectorAll(s)), s = s.nodeName ? [s] : s, e.each(s, function (n, s) { var c = e.extend(!0, {}, u.opts); !function (n, a, s, o) { if (!0 === a.importDataAttributes) { var l, u, c, d, p = function (e, a) { null !== (a = a !== i ? a : n.getAttribute(o + "-" + e)) && ("string" == typeof a && (0 === e.indexOf("on") ? a = t[a] : "false" === a ? a = !1 : "true" === a && (a = !0)), s[e] = a) }, h = n.getAttribute(o); if (h && "" !== h && (h = h.replace(new RegExp("'", "g"), '"'), u = JSON.parse("{" + h + "}")), u) for (d in c = i, u) if ("alias" === d.toLowerCase()) { c = u[d]; break } for (l in p("alias", c), s.alias && r(s.alias, s, a), a) { if (u) for (d in c = i, u) if (d.toLowerCase() === l.toLowerCase()) { c = u[d]; break } p(l, c) } } e.extend(!0, a, s), ("rtl" === n.dir || a.rightAlign) && (n.style.textAlign = "right"), ("rtl" === n.dir || a.numericInput) && (n.dir = "ltr", n.removeAttribute("dir"), a.isRTL = !0) }(s, c, e.extend(!0, {}, u.userOptions), u.dataAttribute); var d = o(c, u.noMasksCache); d !== i && (s.inputmask !== i && (s.inputmask.opts.autoUnmask = !0, s.inputmask.remove()), s.inputmask = new a(i, i, !0), s.inputmask.opts = c, s.inputmask.noMasksCache = u.noMasksCache, s.inputmask.userOptions = e.extend(!0, {}, u.userOptions), s.inputmask.isRTL = c.isRTL || c.numericInput, (s.inputmask.el = s).inputmask.maskset = d, e.data(s, "_inputmask_opts", c), l.call(s.inputmask, { action: "mask" })) }), s && s[0] && s[0].inputmask || this }, option: function (t, n) { return "string" == typeof t ? this.opts[t] : "object" === (void 0 === t ? "undefined" : s(t)) ? (e.extend(this.userOptions, t), this.el && !0 !== n && this.mask(this.el), this) : void 0 }, unmaskedvalue: function (e) { return this.maskset = this.maskset || o(this.opts, this.noMasksCache), l.call(this, { action: "unmaskedvalue", value: e }) }, remove: function () { return l.call(this, { action: "remove" }) }, getemptymask: function () { return this.maskset = this.maskset || o(this.opts, this.noMasksCache), l.call(this, { action: "getemptymask" }) }, hasMaskedValue: function () { return !this.opts.autoUnmask }, isComplete: function () { return this.maskset = this.maskset || o(this.opts, this.noMasksCache), l.call(this, { action: "isComplete" }) }, getmetadata: function () { return this.maskset = this.maskset || o(this.opts, this.noMasksCache), l.call(this, { action: "getmetadata" }) }, isValid: function (e) { return this.maskset = this.maskset || o(this.opts, this.noMasksCache), l.call(this, { action: "isValid", value: e }) }, format: function (e, t) { return this.maskset = this.maskset || o(this.opts, this.noMasksCache), l.call(this, { action: "format", value: e, metadata: t }) }, analyseMask: function (t, n, r) { function s(e, t, n, i) { this.matches = [], this.openGroup = e || !1, this.alternatorGroup = !1, this.isGroup = e || !1, this.isOptional = t || !1, this.isQuantifier = n || !1, this.isAlternator = i || !1, this.quantifier = { min: 1, max: 1 } } function o(t, s, o) { o = o !== i ? o : t.matches.length; var l = t.matches[o - 1]; if (n) 0 === s.indexOf("[") || y && /\\d|\\s|\\w]/i.test(s) || "." === s ? t.matches.splice(o++, 0, { fn: new RegExp(s, r.casing ? "i" : ""), cardinality: 1, optionality: t.isOptional, newBlockMarker: l === i || l.def !== s, casing: null, def: s, placeholder: i, nativeDef: s }) : (y && (s = s[s.length - 1]), e.each(s.split(""), function (e, n) { l = t.matches[o - 1], t.matches.splice(o++, 0, { fn: null, cardinality: 0, optionality: t.isOptional, newBlockMarker: l === i || l.def !== n && null !== l.fn, casing: null, def: r.staticDefinitionSymbol || n, placeholder: r.staticDefinitionSymbol !== i ? n : i, nativeDef: n }) })), y = !1; else { var u = (r.definitions ? r.definitions[s] : i) || a.prototype.definitions[s]; if (u && !y) { for (var c = u.prevalidator, d = c ? c.length : 0, p = 1; p < u.cardinality; p++) { var h = p <= d ? c[p - 1] : [], f = h.validator, m = h.cardinality; t.matches.splice(o++, 0, { fn: f ? "string" == typeof f ? new RegExp(f, r.casing ? "i" : "") : new function () { this.test = f } : new RegExp("."), cardinality: m || 1, optionality: t.isOptional, newBlockMarker: l === i || l.def !== (u.definitionSymbol || s), casing: u.casing, def: u.definitionSymbol || s, placeholder: u.placeholder, nativeDef: s }), l = t.matches[o - 1] } t.matches.splice(o++, 0, { fn: u.validator ? "string" == typeof u.validator ? new RegExp(u.validator, r.casing ? "i" : "") : new function () { this.test = u.validator } : new RegExp("."), cardinality: u.cardinality, optionality: t.isOptional, newBlockMarker: l === i || l.def !== (u.definitionSymbol || s), casing: u.casing, def: u.definitionSymbol || s, placeholder: u.placeholder, nativeDef: s }) } else t.matches.splice(o++, 0, { fn: null, cardinality: 0, optionality: t.isOptional, newBlockMarker: l === i || l.def !== s && null !== l.fn, casing: null, def: r.staticDefinitionSymbol || s, placeholder: r.staticDefinitionSymbol !== i ? s : i, nativeDef: s }), y = !1 } } function l() { if (0 < k.length) { if (o(p = k[k.length - 1], c), p.isAlternator) { h = k.pop(); for (var e = 0; e < h.matches.length; e++)h.matches[e].isGroup = !1; 0 < k.length ? (p = k[k.length - 1]).matches.push(h) : b.matches.push(h) } } else o(b, c) } var u, c, d, p, h, f, m, v = /(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g, g = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, y = !1, b = new s, k = [], x = []; for (n && (r.optionalmarker.start = i, r.optionalmarker.end = i); u = n ? g.exec(t) : v.exec(t);) { if (c = u[0], n) switch (c.charAt(0)) { case "?": c = "{0,1}"; break; case "+": case "*": c = "{" + c + "}" }if (y) l(); else switch (c.charAt(0)) { case r.escapeChar: y = !0, n && l(); break; case r.optionalmarker.end: case r.groupmarker.end: if ((d = k.pop()).openGroup = !1, d !== i) if (0 < k.length) { if ((p = k[k.length - 1]).matches.push(d), p.isAlternator) { h = k.pop(); for (var w = 0; w < h.matches.length; w++)h.matches[w].isGroup = !1, h.matches[w].alternatorGroup = !1; 0 < k.length ? (p = k[k.length - 1]).matches.push(h) : b.matches.push(h) } } else b.matches.push(d); else l(); break; case r.optionalmarker.start: k.push(new s(!1, !0)); break; case r.groupmarker.start: k.push(new s(!0)); break; case r.quantifiermarker.start: var C = new s(!1, !1, !0), E = (c = c.replace(/[{}]/g, "")).split(","), S = isNaN(E[0]) ? E[0] : parseInt(E[0]), D = 1 === E.length ? S : isNaN(E[1]) ? E[1] : parseInt(E[1]); if ("*" !== D && "+" !== D || (S = "*" === D ? 0 : 1), C.quantifier = { min: S, max: D }, 0 < k.length) { var A = k[k.length - 1].matches; (u = A.pop()).isGroup || ((m = new s(!0)).matches.push(u), u = m), A.push(u), A.push(C) } else (u = b.matches.pop()).isGroup || (n && null === u.fn && "." === u.def && (u.fn = new RegExp(u.def, r.casing ? "i" : "")), (m = new s(!0)).matches.push(u), u = m), b.matches.push(u), b.matches.push(C); break; case r.alternatormarker: if (0 < k.length) { var _ = (p = k[k.length - 1]).matches[p.matches.length - 1]; f = p.openGroup && (_.matches === i || !1 === _.isGroup && !1 === _.isAlternator) ? k.pop() : p.matches.pop() } else f = b.matches.pop(); if (f.isAlternator) k.push(f); else if (f.alternatorGroup ? (h = k.pop(), f.alternatorGroup = !1) : h = new s(!1, !1, !1, !0), h.matches.push(f), k.push(h), f.openGroup) { var P = new s(!(f.openGroup = !1)); P.alternatorGroup = !0, k.push(P) } break; default: l() } } for (; 0 < k.length;)d = k.pop(), b.matches.push(d); return 0 < b.matches.length && (function t(a) { a && a.matches && e.each(a.matches, function (e, s) { var l = a.matches[e + 1]; (l === i || l.matches === i || !1 === l.isQuantifier) && s && s.isGroup && (s.isGroup = !1, n || (o(s, r.groupmarker.start, 0), !0 !== s.openGroup && o(s, r.groupmarker.end))), t(s) }) }(b), x.push(b)), (r.numericInput || r.isRTL) && function e(t) { for (var n in t.matches = t.matches.reverse(), t.matches) if (t.matches.hasOwnProperty(n)) { var a = parseInt(n); if (t.matches[n].isQuantifier && t.matches[a + 1] && t.matches[a + 1].isGroup) { var s = t.matches[n]; t.matches.splice(n, 1), t.matches.splice(a + 1, 0, s) } t.matches[n].matches !== i ? t.matches[n] = e(t.matches[n]) : t.matches[n] = ((o = t.matches[n]) === r.optionalmarker.start ? o = r.optionalmarker.end : o === r.optionalmarker.end ? o = r.optionalmarker.start : o === r.groupmarker.start ? o = r.groupmarker.end : o === r.groupmarker.end && (o = r.groupmarker.start), o) } var o; return t }(x[0]), x } }, a.extendDefaults = function (t) { e.extend(!0, a.prototype.defaults, t) }, a.extendDefinitions = function (t) { e.extend(!0, a.prototype.definitions, t) }, a.extendAliases = function (t) { e.extend(!0, a.prototype.aliases, t) }, a.format = function (e, t, n) { return a(t).format(e, n) }, a.unmask = function (e, t) { return a(t).unmaskedvalue(e) }, a.isValid = function (e, t) { return a(t).isValid(e) }, a.remove = function (t) { e.each(t, function (e, t) { t.inputmask && t.inputmask.remove() }) }, a.escapeRegex = function (e) { return e.replace(new RegExp("(\\" + ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^"].join("|\\") + ")", "gim"), "\\$1") }, a.keyCode = { ALT: 18, BACKSPACE: 8, BACKSPACE_SAFARI: 127, CAPS_LOCK: 20, COMMA: 188, COMMAND: 91, COMMAND_LEFT: 91, COMMAND_RIGHT: 93, CONTROL: 17, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, INSERT: 45, LEFT: 37, MENU: 93, NUMPAD_ADD: 107, NUMPAD_DECIMAL: 110, NUMPAD_DIVIDE: 111, NUMPAD_ENTER: 108, NUMPAD_MULTIPLY: 106, NUMPAD_SUBTRACT: 109, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SHIFT: 16, SPACE: 32, TAB: 9, UP: 38, WINDOWS: 91, X: 88 }, a }) ? i.apply(t, a) : i) && (e.exports = r) }, function (e, t) { e.exports = jQuery }, function (e, t, n) { "use strict"; function i(e) { return e && e.__esModule ? e : { default: e } } n(4), n(9), n(12), n(13), n(14), n(15); var a = i(n(1)), r = i(n(0)), s = i(n(2)); r.default === s.default && n(16), window.Inputmask = a.default }, function (e, t, n) { var i = n(5); "string" == typeof i && (i = [[e.i, i, ""]]); n(7)(i, { hmr: !0, transform: void 0 }), i.locals && (e.exports = i.locals) }, function (e, t, n) { (e.exports = n(6)(void 0)).push([e.i, "span.im-caret {\r\n    -webkit-animation: 1s blink step-end infinite;\r\n    animation: 1s blink step-end infinite;\r\n}\r\n\r\n@keyframes blink {\r\n    from, to {\r\n        border-right-color: black;\r\n    }\r\n    50% {\r\n        border-right-color: transparent;\r\n    }\r\n}\r\n\r\n@-webkit-keyframes blink {\r\n    from, to {\r\n        border-right-color: black;\r\n    }\r\n    50% {\r\n        border-right-color: transparent;\r\n    }\r\n}\r\n\r\nspan.im-static {\r\n    color: grey;\r\n}\r\n\r\ndiv.im-colormask {\r\n    display: inline-block;\r\n    border-style: inset;\r\n    border-width: 2px;\r\n    -webkit-appearance: textfield;\r\n    -moz-appearance: textfield;\r\n    appearance: textfield;\r\n}\r\n\r\ndiv.im-colormask > input {\r\n    position: absolute;\r\n    display: inline-block;\r\n    background-color: transparent;\r\n    color: transparent;\r\n    -webkit-appearance: caret;\r\n    -moz-appearance: caret;\r\n    appearance: caret;\r\n    border-style: none;\r\n    left: 0; /*calculated*/\r\n}\r\n\r\ndiv.im-colormask > input:focus {\r\n    outline: none;\r\n}\r\n\r\ndiv.im-colormask > input::-moz-selection{\r\n    background: none;\r\n}\r\n\r\ndiv.im-colormask > input::selection{\r\n    background: none;\r\n}\r\ndiv.im-colormask > input::-moz-selection{\r\n    background: none;\r\n}\r\n\r\ndiv.im-colormask > div {\r\n    color: black;\r\n    display: inline-block;\r\n    width: 100px; /*calculated*/\r\n}", ""]) }, function (e, t) { e.exports = function (e) { var t = []; return t.toString = function () { return this.map(function (t) { var n = function (e, t) { var n, i = e[1] || "", a = e[3]; if (!a) return i; if (t && "function" == typeof btoa) { var r = (n = a, "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(n)))) + " */"), s = a.sources.map(function (e) { return "/*# sourceURL=" + a.sourceRoot + e + " */" }); return [i].concat(s).concat([r]).join("\n") } return [i].join("\n") }(t, e); return t[2] ? "@media " + t[2] + "{" + n + "}" : n }).join("") }, t.i = function (e, n) { "string" == typeof e && (e = [[null, e, ""]]); for (var i = {}, a = 0; a < this.length; a++) { var r = this[a][0]; "number" == typeof r && (i[r] = !0) } for (a = 0; a < e.length; a++) { var s = e[a]; "number" == typeof s[0] && i[s[0]] || (n && !s[2] ? s[2] = n : n && (s[2] = "(" + s[2] + ") and (" + n + ")"), t.push(s)) } }, t } }, function (e, t, n) { function i(e, t) { for (var n = 0; n < e.length; n++) { var i = e[n], a = h[i.id]; if (a) { for (a.refs++ , s = 0; s < a.parts.length; s++)a.parts[s](i.parts[s]); for (; s < i.parts.length; s++)a.parts.push(u(i.parts[s], t)) } else { for (var r = [], s = 0; s < i.parts.length; s++)r.push(u(i.parts[s], t)); h[i.id] = { id: i.id, refs: 1, parts: r } } } } function a(e, t) { for (var n = [], i = {}, a = 0; a < e.length; a++) { var r = e[a], s = t.base ? r[0] + t.base : r[0], o = { css: r[1], media: r[2], sourceMap: r[3] }; i[s] ? i[s].parts.push(o) : n.push(i[s] = { id: s, parts: [o] }) } return n } function r(e, t) { var n = f(e.insertInto); if (!n) throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid."); var i = g[g.length - 1]; if ("top" === e.insertAt) i ? i.nextSibling ? n.insertBefore(t, i.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild), g.push(t); else if ("bottom" === e.insertAt) n.appendChild(t); else { if ("object" != typeof e.insertAt || !e.insertAt.before) throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n"); var a = f(e.insertInto + " " + e.insertAt.before); n.insertBefore(t, a) } } function s(e) { if (null === e.parentNode) return !1; e.parentNode.removeChild(e); var t = g.indexOf(e); 0 <= t && g.splice(t, 1) } function o(e) { var t = document.createElement("style"); return e.attrs.type = "text/css", l(t, e.attrs), r(e, t), t } function l(e, t) { Object.keys(t).forEach(function (n) { e.setAttribute(n, t[n]) }) } function u(e, t) { var n, i, a, u, d, p; if (t.transform && e.css) { if (!(u = t.transform(e.css))) return function () { }; e.css = u } if (t.singleton) { var h = v++; n = m || (m = o(t)), i = c.bind(null, n, h, !1), a = c.bind(null, n, h, !0) } else e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (d = t, p = document.createElement("link"), d.attrs.type = "text/css", d.attrs.rel = "stylesheet", l(p, d.attrs), r(d, p), i = function (e, t, n) { var i = n.css, a = n.sourceMap, r = void 0 === t.convertToAbsoluteUrls && a; (t.convertToAbsoluteUrls || r) && (i = y(i)), a && (i += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(a)))) + " */"); var s = new Blob([i], { type: "text/css" }), o = e.href; e.href = URL.createObjectURL(s), o && URL.revokeObjectURL(o) }.bind(null, n = p, t), a = function () { s(n), n.href && URL.revokeObjectURL(n.href) }) : (n = o(t), i = function (e, t) { var n = t.css, i = t.media; if (i && e.setAttribute("media", i), e.styleSheet) e.styleSheet.cssText = n; else { for (; e.firstChild;)e.removeChild(e.firstChild); e.appendChild(document.createTextNode(n)) } }.bind(null, n), a = function () { s(n) }); return i(e), function (t) { if (t) { if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return; i(e = t) } else a() } } function c(e, t, n, i) { var a = n ? "" : i.css; if (e.styleSheet) e.styleSheet.cssText = k(t, a); else { var r = document.createTextNode(a), s = e.childNodes; s[t] && e.removeChild(s[t]), s.length ? e.insertBefore(r, s[t]) : e.appendChild(r) } } var d, p, h = {}, f = (d = {}, function (e) { if (void 0 === d[e]) { var t = function (e) { return document.querySelector(e) }.call(this, e); if (t instanceof window.HTMLIFrameElement) try { t = t.contentDocument.head } catch (e) { t = null } d[e] = t } return d[e] }), m = null, v = 0, g = [], y = n(8); e.exports = function (e, t) { if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document) throw new Error("The style-loader cannot be used in a non-browser environment"); (t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {}, t.singleton || (t.singleton = function () { return void 0 === p && (p = function () { return window && document && document.all && !window.atob }.apply(this, arguments)), p }()), t.insertInto || (t.insertInto = "head"), t.insertAt || (t.insertAt = "bottom"); var n = a(e, t); return i(n, t), function (e) { for (var r = [], s = 0; s < n.length; s++) { var o = n[s]; (l = h[o.id]).refs-- , r.push(l) } for (e && i(a(e, t), t), s = 0; s < r.length; s++) { var l = r[s]; if (0 === l.refs) { for (var u = 0; u < l.parts.length; u++)l.parts[u](); delete h[l.id] } } } }; var b, k = (b = [], function (e, t) { return b[e] = t, b.filter(Boolean).join("\n") }) }, function (e, t) { e.exports = function (e) { var t = "undefined" != typeof window && window.location; if (!t) throw new Error("fixUrls requires window.location"); if (!e || "string" != typeof e) return e; var n = t.protocol + "//" + t.host, i = n + t.pathname.replace(/\/[^\/]*$/, "/"); return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function (e, t) { var a, r = t.trim().replace(/^"(.*)"$/, function (e, t) { return t }).replace(/^'(.*)'$/, function (e, t) { return t }); return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r) ? e : (a = 0 === r.indexOf("//") ? r : 0 === r.indexOf("/") ? n + r : i + r.replace(/^\.\//, ""), "url(" + JSON.stringify(a) + ")") }) } }, function (e, t, n) { "use strict"; var i, a, r; "function" == typeof Symbol && Symbol.iterator, a = [n(0), n(1)], void 0 !== (r = "function" == typeof (i = function (e, t) { return t.extendAliases({ "dd/mm/yyyy": { mask: "1/2/y", placeholder: "dd/mm/yyyy", regex: { val1pre: new RegExp("[0-3]"), val1: new RegExp("0[1-9]|[12][0-9]|3[01]"), val2pre: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[1-9]|[12][0-9]|3[01])" + n + "[01])") }, val2: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[1-9]|[12][0-9])" + n + "(0[1-9]|1[012]))|(30" + n + "(0[13-9]|1[012]))|(31" + n + "(0[13578]|1[02]))") } }, leapday: "29/02/", separator: "/", yearrange: { minyear: 1900, maxyear: 2099 }, isInYearRange: function (e, t, n) { if (isNaN(e)) return !1; var i = parseInt(e.concat(t.toString().slice(e.length))), a = parseInt(e.concat(n.toString().slice(e.length))); return !isNaN(i) && t <= i && i <= n || !isNaN(a) && t <= a && a <= n }, determinebaseyear: function (e, t, n) { var i = (new Date).getFullYear(); if (i < e) return e; if (t < i) { for (var a = t.toString().slice(0, 2), r = t.toString().slice(2, 4); t < a + n;)a--; var s = a + r; return s < e ? e : s } if (e <= i && i <= t) { for (var o = i.toString().slice(0, 2); t < o + n;)o--; var l = o + n; return l < e ? e : l } return i }, onKeyDown: function (n, i, a, r) { var s = e(this); if (n.ctrlKey && n.keyCode === t.keyCode.RIGHT) { var o = new Date; s.val(o.getDate().toString() + (o.getMonth() + 1).toString() + o.getFullYear().toString()), s.trigger("setvalue") } }, getFrontValue: function (e, t, n) { for (var i = 0, a = 0, r = 0; r < e.length && "2" !== e.charAt(r); r++) { var s = n.definitions[e.charAt(r)]; s ? (i += a, a = s.cardinality) : a++ } return t.join("").substr(i, a) }, postValidation: function (e, t, n) { var i, a, r, s = e.join(""); return 0 === n.mask.indexOf("y") ? (a = s.substr(0, 4), i = s.substring(4, 10)) : (a = s.substring(6, 10), i = s.substr(0, 6)), t && (i !== n.leapday || (r = a, isNaN(r) || 29 === new Date(r, 2, 0).getDate())) }, definitions: { 1: { validator: function (e, t, n, i, a) { var r = a.regex.val1.test(e); return i || r || e.charAt(1) !== a.separator && -1 === "-./".indexOf(e.charAt(1)) || !(r = a.regex.val1.test("0" + e.charAt(0))) ? r : (t.buffer[n - 1] = "0", { refreshFromBuffer: { start: n - 1, end: n }, pos: n, c: e.charAt(0) }) }, cardinality: 2, prevalidator: [{ validator: function (e, t, n, i, a) { var r = e; isNaN(t.buffer[n + 1]) || (r += t.buffer[n + 1]); var s = 1 === r.length ? a.regex.val1pre.test(r) : a.regex.val1.test(r); if (s && t.validPositions[n] && (a.regex.val2(a.separator).test(e + t.validPositions[n].input) || (t.validPositions[n].input = "0" === e ? "1" : "0")), !i && !s) { if (s = a.regex.val1.test(e + "0")) return t.buffer[n] = e, t.buffer[++n] = "0", { pos: n, c: "0" }; if (s = a.regex.val1.test("0" + e)) return t.buffer[n] = "0", { pos: ++n } } return s }, cardinality: 1 }] }, 2: { validator: function (e, t, n, i, a) { var r = a.getFrontValue(t.mask, t.buffer, a); -1 !== r.indexOf(a.placeholder[0]) && (r = "01" + a.separator); var s = a.regex.val2(a.separator).test(r + e); return i || s || e.charAt(1) !== a.separator && -1 === "-./".indexOf(e.charAt(1)) || !(s = a.regex.val2(a.separator).test(r + "0" + e.charAt(0))) ? s : (t.buffer[n - 1] = "0", { refreshFromBuffer: { start: n - 1, end: n }, pos: n, c: e.charAt(0) }) }, cardinality: 2, prevalidator: [{ validator: function (e, t, n, i, a) { isNaN(t.buffer[n + 1]) || (e += t.buffer[n + 1]); var r = a.getFrontValue(t.mask, t.buffer, a); -1 !== r.indexOf(a.placeholder[0]) && (r = "01" + a.separator); var s = 1 === e.length ? a.regex.val2pre(a.separator).test(r + e) : a.regex.val2(a.separator).test(r + e); return s && t.validPositions[n] && (a.regex.val2(a.separator).test(e + t.validPositions[n].input) || (t.validPositions[n].input = "0" === e ? "1" : "0")), i || s || !(s = a.regex.val2(a.separator).test(r + "0" + e)) ? s : (t.buffer[n] = "0", { pos: ++n }) }, cardinality: 1 }] }, y: { validator: function (e, t, n, i, a) { return a.isInYearRange(e, a.yearrange.minyear, a.yearrange.maxyear) }, cardinality: 4, prevalidator: [{ validator: function (e, t, n, i, a) { var r = a.isInYearRange(e, a.yearrange.minyear, a.yearrange.maxyear); if (!i && !r) { var s = a.determinebaseyear(a.yearrange.minyear, a.yearrange.maxyear, e + "0").toString().slice(0, 1); if (r = a.isInYearRange(s + e, a.yearrange.minyear, a.yearrange.maxyear)) return t.buffer[n++] = s.charAt(0), { pos: n }; if (s = a.determinebaseyear(a.yearrange.minyear, a.yearrange.maxyear, e + "0").toString().slice(0, 2), r = a.isInYearRange(s + e, a.yearrange.minyear, a.yearrange.maxyear)) return t.buffer[n++] = s.charAt(0), t.buffer[n++] = s.charAt(1), { pos: n } } return r }, cardinality: 1 }, { validator: function (e, t, n, i, a) { var r = a.isInYearRange(e, a.yearrange.minyear, a.yearrange.maxyear); if (!i && !r) { var s = a.determinebaseyear(a.yearrange.minyear, a.yearrange.maxyear, e).toString().slice(0, 2); if (r = a.isInYearRange(e[0] + s[1] + e[1], a.yearrange.minyear, a.yearrange.maxyear)) return t.buffer[n++] = s.charAt(1), { pos: n }; if (s = a.determinebaseyear(a.yearrange.minyear, a.yearrange.maxyear, e).toString().slice(0, 2), r = a.isInYearRange(s + e, a.yearrange.minyear, a.yearrange.maxyear)) return t.buffer[n - 1] = s.charAt(0), t.buffer[n++] = s.charAt(1), t.buffer[n++] = e.charAt(0), { refreshFromBuffer: { start: n - 3, end: n }, pos: n } } return r }, cardinality: 2 }, { validator: function (e, t, n, i, a) { return a.isInYearRange(e, a.yearrange.minyear, a.yearrange.maxyear) }, cardinality: 3 }] } }, insertMode: !1, autoUnmask: !1 }, "mm/dd/yyyy": { placeholder: "mm/dd/yyyy", alias: "dd/mm/yyyy", regex: { val2pre: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[13-9]|1[012])" + n + "[0-3])|(02" + n + "[0-2])") }, val2: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[1-9]|1[012])" + n + "(0[1-9]|[12][0-9]))|((0[13-9]|1[012])" + n + "30)|((0[13578]|1[02])" + n + "31)") }, val1pre: new RegExp("[01]"), val1: new RegExp("0[1-9]|1[012]") }, leapday: "02/29/", onKeyDown: function (n, i, a, r) { var s = e(this); if (n.ctrlKey && n.keyCode === t.keyCode.RIGHT) { var o = new Date; s.val((o.getMonth() + 1).toString() + o.getDate().toString() + o.getFullYear().toString()), s.trigger("setvalue") } } }, "yyyy/mm/dd": { mask: "y/1/2", placeholder: "yyyy/mm/dd", alias: "mm/dd/yyyy", leapday: "/02/29", onKeyDown: function (n, i, a, r) { var s = e(this); if (n.ctrlKey && n.keyCode === t.keyCode.RIGHT) { var o = new Date; s.val(o.getFullYear().toString() + (o.getMonth() + 1).toString() + o.getDate().toString()), s.trigger("setvalue") } } }, "dd.mm.yyyy": { mask: "1.2.y", placeholder: "dd.mm.yyyy", leapday: "29.02.", separator: ".", alias: "dd/mm/yyyy" }, "dd-mm-yyyy": { mask: "1-2-y", placeholder: "dd-mm-yyyy", leapday: "29-02-", separator: "-", alias: "dd/mm/yyyy" }, "mm.dd.yyyy": { mask: "1.2.y", placeholder: "mm.dd.yyyy", leapday: "02.29.", separator: ".", alias: "mm/dd/yyyy" }, "mm-dd-yyyy": { mask: "1-2-y", placeholder: "mm-dd-yyyy", leapday: "02-29-", separator: "-", alias: "mm/dd/yyyy" }, "yyyy.mm.dd": { mask: "y.1.2", placeholder: "yyyy.mm.dd", leapday: ".02.29", separator: ".", alias: "yyyy/mm/dd" }, "yyyy-mm-dd": { mask: "y-1-2", placeholder: "yyyy-mm-dd", leapday: "-02-29", separator: "-", alias: "yyyy/mm/dd" }, datetime: { mask: "1/2/y h:s", placeholder: "dd/mm/yyyy hh:mm", alias: "dd/mm/yyyy", regex: { hrspre: new RegExp("[012]"), hrs24: new RegExp("2[0-4]|1[3-9]"), hrs: new RegExp("[01][0-9]|2[0-4]"), ampm: new RegExp("^[a|p|A|P][m|M]"), mspre: new RegExp("[0-5]"), ms: new RegExp("[0-5][0-9]") }, timeseparator: ":", hourFormat: "24", definitions: { h: { validator: function (e, t, n, i, a) { if ("24" === a.hourFormat && 24 === parseInt(e, 10)) return t.buffer[n - 1] = "0", t.buffer[n] = "0", { refreshFromBuffer: { start: n - 1, end: n }, c: "0" }; var r = a.regex.hrs.test(e); if (!i && !r && (e.charAt(1) === a.timeseparator || -1 !== "-.:".indexOf(e.charAt(1))) && (r = a.regex.hrs.test("0" + e.charAt(0)))) return t.buffer[n - 1] = "0", t.buffer[n] = e.charAt(0), { refreshFromBuffer: { start: ++n - 2, end: n }, pos: n, c: a.timeseparator }; if (r && "24" !== a.hourFormat && a.regex.hrs24.test(e)) { var s = parseInt(e, 10); return t.buffer[n + 5] = 24 === s ? "a" : "p", t.buffer[n + 6] = "m", (s -= 12) < 10 ? (t.buffer[n] = s.toString(), t.buffer[n - 1] = "0") : (t.buffer[n] = s.toString().charAt(1), t.buffer[n - 1] = s.toString().charAt(0)), { refreshFromBuffer: { start: n - 1, end: n + 6 }, c: t.buffer[n] } } return r }, cardinality: 2, prevalidator: [{ validator: function (e, t, n, i, a) { var r = a.regex.hrspre.test(e); return i || r || !(r = a.regex.hrs.test("0" + e)) ? r : (t.buffer[n] = "0", { pos: ++n }) }, cardinality: 1 }] }, s: { validator: "[0-5][0-9]", cardinality: 2, prevalidator: [{ validator: function (e, t, n, i, a) { var r = a.regex.mspre.test(e); return i || r || !(r = a.regex.ms.test("0" + e)) ? r : (t.buffer[n] = "0", { pos: ++n }) }, cardinality: 1 }] }, t: { validator: function (e, t, n, i, a) { return a.regex.ampm.test(e + "m") }, casing: "lower", cardinality: 1 } }, insertMode: !1, autoUnmask: !1 }, datetime12: { mask: "1/2/y h:s t\\m", placeholder: "dd/mm/yyyy hh:mm xm", alias: "datetime", hourFormat: "12" }, "mm/dd/yyyy hh:mm xm": { mask: "1/2/y h:s t\\m", placeholder: "mm/dd/yyyy hh:mm xm", alias: "datetime12", regex: { val2pre: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[13-9]|1[012])" + n + "[0-3])|(02" + n + "[0-2])") }, val2: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[1-9]|1[012])" + n + "(0[1-9]|[12][0-9]))|((0[13-9]|1[012])" + n + "30)|((0[13578]|1[02])" + n + "31)") }, val1pre: new RegExp("[01]"), val1: new RegExp("0[1-9]|1[012]") }, leapday: "02/29/", onKeyDown: function (n, i, a, r) { var s = e(this); if (n.ctrlKey && n.keyCode === t.keyCode.RIGHT) { var o = new Date; s.val((o.getMonth() + 1).toString() + o.getDate().toString() + o.getFullYear().toString()), s.trigger("setvalue") } } }, "hh:mm t": { mask: "h:s t\\m", placeholder: "hh:mm xm", alias: "datetime", hourFormat: "12" }, "h:s t": { mask: "h:s t\\m", placeholder: "hh:mm xm", alias: "datetime", hourFormat: "12" }, "hh:mm:ss": { mask: "h:s:s", placeholder: "hh:mm:ss", alias: "datetime", autoUnmask: !1 }, "hh:mm": { mask: "h:s", placeholder: "hh:mm", alias: "datetime", autoUnmask: !1 }, date: { alias: "dd/mm/yyyy" }, "mm/yyyy": { mask: "1/y", placeholder: "mm/yyyy", leapday: "donotuse", separator: "/", alias: "mm/dd/yyyy" }, shamsi: { regex: { val2pre: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[1-9]|1[012])" + n + "[0-3])") }, val2: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[1-9]|1[012])" + n + "(0[1-9]|[12][0-9]))|((0[1-9]|1[012])" + n + "30)|((0[1-6])" + n + "31)") }, val1pre: new RegExp("[01]"), val1: new RegExp("0[1-9]|1[012]") }, yearrange: { minyear: 1300, maxyear: 1499 }, mask: "y/1/2", leapday: "/12/30", placeholder: "yyyy/mm/dd", alias: "mm/dd/yyyy", clearIncomplete: !0 }, "yyyy-mm-dd hh:mm:ss": { mask: "y-1-2 h:s:s", placeholder: "yyyy-mm-dd hh:mm:ss", alias: "datetime", separator: "-", leapday: "-02-29", regex: { val2pre: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[13-9]|1[012])" + n + "[0-3])|(02" + n + "[0-2])") }, val2: function (e) { var n = t.escapeRegex.call(this, e); return new RegExp("((0[1-9]|1[012])" + n + "(0[1-9]|[12][0-9]))|((0[13-9]|1[012])" + n + "30)|((0[13578]|1[02])" + n + "31)") }, val1pre: new RegExp("[01]"), val1: new RegExp("0[1-9]|1[012]") }, onKeyDown: function (e, t, n, i) { } } }), t }) ? i.apply(t, a) : i) && (e.exports = r) }, function (e, t, n) { "use strict"; var i; "function" == typeof Symbol && Symbol.iterator, void 0 !== (i = function () { return window }.call(t, n, t, e)) && (e.exports = i) }, function (e, t, n) { "use strict"; var i; "function" == typeof Symbol && Symbol.iterator, void 0 !== (i = function () { return document }.call(t, n, t, e)) && (e.exports = i) }, function (e, t, n) { "use strict"; var i, a, r; "function" == typeof Symbol && Symbol.iterator, a = [n(0), n(1)], void 0 !== (r = "function" == typeof (i = function (e, t) { return t.extendDefinitions({ A: { validator: "[A-Za-zА-яЁёÀ-ÿµ]", cardinality: 1, casing: "upper" }, "&": { validator: "[0-9A-Za-zА-яЁёÀ-ÿµ]", cardinality: 1, casing: "upper" }, "#": { validator: "[0-9A-Fa-f]", cardinality: 1, casing: "upper" } }), t.extendAliases({ url: { definitions: { i: { validator: ".", cardinality: 1 } }, mask: "(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}", insertMode: !1, autoUnmask: !1, inputmode: "url" }, ip: { mask: "i[i[i]].i[i[i]].i[i[i]].i[i[i]]", definitions: { i: { validator: function (e, t, n, i, a) { return -1 < n - 1 && "." !== t.buffer[n - 1] ? (e = t.buffer[n - 1] + e, e = -1 < n - 2 && "." !== t.buffer[n - 2] ? t.buffer[n - 2] + e : "0" + e) : e = "00" + e, new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e) }, cardinality: 1 } }, onUnMask: function (e, t, n) { return e }, inputmode: "numeric" }, email: { mask: "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]", greedy: !1, onBeforePaste: function (e, t) { return (e = e.toLowerCase()).replace("mailto:", "") }, definitions: { "*": { validator: "[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]", cardinality: 1, casing: "lower" }, "-": { validator: "[0-9A-Za-z-]", cardinality: 1, casing: "lower" } }, onUnMask: function (e, t, n) { return e }, inputmode: "email" }, mac: { mask: "##:##:##:##:##:##" }, vin: { mask: "V{13}9{4}", definitions: { V: { validator: "[A-HJ-NPR-Za-hj-npr-z\\d]", cardinality: 1, casing: "upper" } }, clearIncomplete: !0, autoUnmask: !0 } }), t }) ? i.apply(t, a) : i) && (e.exports = r) }, function (e, t, n) { "use strict"; var i, a, r; "function" == typeof Symbol && Symbol.iterator, a = [n(0), n(1)], void 0 !== (r = "function" == typeof (i = function (e, t, n) { function i(e, n) { for (var i = "", a = 0; a < e.length; a++)t.prototype.definitions[e.charAt(a)] || n.definitions[e.charAt(a)] || n.optionalmarker.start === e.charAt(a) || n.optionalmarker.end === e.charAt(a) || n.quantifiermarker.start === e.charAt(a) || n.quantifiermarker.end === e.charAt(a) || n.groupmarker.start === e.charAt(a) || n.groupmarker.end === e.charAt(a) || n.alternatormarker === e.charAt(a) ? i += "\\" + e.charAt(a) : i += e.charAt(a); return i } return t.extendAliases({ numeric: { mask: function (e) { if (0 !== e.repeat && isNaN(e.integerDigits) && (e.integerDigits = e.repeat), e.repeat = 0, e.groupSeparator === e.radixPoint && ("." === e.radixPoint ? e.groupSeparator = "," : "," === e.radixPoint ? e.groupSeparator = "." : e.groupSeparator = ""), " " === e.groupSeparator && (e.skipOptionalPartCharacter = n), e.autoGroup = e.autoGroup && "" !== e.groupSeparator, e.autoGroup && ("string" == typeof e.groupSize && isFinite(e.groupSize) && (e.groupSize = parseInt(e.groupSize)), isFinite(e.integerDigits))) { var t = Math.floor(e.integerDigits / e.groupSize), a = e.integerDigits % e.groupSize; e.integerDigits = parseInt(e.integerDigits) + (0 === a ? t - 1 : t), e.integerDigits < 1 && (e.integerDigits = "*") } 1 < e.placeholder.length && (e.placeholder = e.placeholder.charAt(0)), "radixFocus" === e.positionCaretOnClick && "" === e.placeholder && !1 === e.integerOptional && (e.positionCaretOnClick = "lvp"), e.definitions[";"] = e.definitions["~"], e.definitions[";"].definitionSymbol = "~", !0 === e.numericInput && (e.positionCaretOnClick = "radixFocus" === e.positionCaretOnClick ? "lvp" : e.positionCaretOnClick, e.digitsOptional = !1, isNaN(e.digits) && (e.digits = 2), e.decimalProtect = !1); var r = "[+]"; if (r += i(e.prefix, e), !0 === e.integerOptional ? r += "~{1," + e.integerDigits + "}" : r += "~{" + e.integerDigits + "}", e.digits !== n) { e.radixPointDefinitionSymbol = e.decimalProtect ? ":" : e.radixPoint; var s = e.digits.toString().split(","); isFinite(s[0] && s[1] && isFinite(s[1])) ? r += e.radixPointDefinitionSymbol + ";{" + e.digits + "}" : (isNaN(e.digits) || 0 < parseInt(e.digits)) && (e.digitsOptional ? r += "[" + e.radixPointDefinitionSymbol + ";{1," + e.digits + "}]" : r += e.radixPointDefinitionSymbol + ";{" + e.digits + "}") } return r += i(e.suffix, e), r += "[-]", e.greedy = !1, r }, placeholder: "", greedy: !1, digits: "*", digitsOptional: !0, enforceDigitsOnBlur: !1, radixPoint: ".", positionCaretOnClick: "radixFocus", groupSize: 3, groupSeparator: "", autoGroup: !1, allowMinus: !0, negationSymbol: { front: "-", back: "" }, integerDigits: "+", integerOptional: !0, prefix: "", suffix: "", rightAlign: !0, decimalProtect: !0, min: null, max: null, step: 1, insertMode: !0, autoUnmask: !1, unmaskAsNumber: !1, inputmode: "numeric", preValidation: function (t, i, a, r, s) { if ("-" === a || a === s.negationSymbol.front) return !0 === s.allowMinus && (s.isNegative = s.isNegative === n || !s.isNegative, "" === t.join("") || { caret: i, dopost: !0 }); if (!1 === r && a === s.radixPoint && s.digits !== n && (isNaN(s.digits) || 0 < parseInt(s.digits))) { var o = e.inArray(s.radixPoint, t); if (-1 !== o) return !0 === s.numericInput ? i === o : { caret: o + 1 } } return !0 }, postValidation: function (i, a, r) { var s = r.suffix.split(""), o = r.prefix.split(""); if (a.pos === n && a.caret !== n && !0 !== a.dopost) return a; var l = a.caret !== n ? a.caret : a.pos, u = i.slice(); r.numericInput && (l = u.length - l - 1, u = u.reverse()); var c = u[l]; if (c === r.groupSeparator && (c = u[l += 1]), l === u.length - r.suffix.length - 1 && c === r.radixPoint) return a; c !== n && c !== r.radixPoint && c !== r.negationSymbol.front && c !== r.negationSymbol.back && (u[l] = "?", 0 < r.prefix.length && l >= (!1 === r.isNegative ? 1 : 0) && l < r.prefix.length - 1 + (!1 === r.isNegative ? 1 : 0) ? o[l - (!1 === r.isNegative ? 1 : 0)] = "?" : 0 < r.suffix.length && l >= u.length - r.suffix.length - (!1 === r.isNegative ? 1 : 0) && (s[l - (u.length - r.suffix.length - (!1 === r.isNegative ? 1 : 0))] = "?")), o = o.join(""), s = s.join(""); var d = u.join("").replace(o, ""); if (d = (d = (d = (d = d.replace(s, "")).replace(new RegExp(t.escapeRegex(r.groupSeparator), "g"), "")).replace(new RegExp("[-" + t.escapeRegex(r.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(t.escapeRegex(r.negationSymbol.back) + "$"), ""), isNaN(r.placeholder) && (d = d.replace(new RegExp(t.escapeRegex(r.placeholder), "g"), "")), 1 < d.length && 1 !== d.indexOf(r.radixPoint) && ("0" === c && (d = d.replace(/^\?/g, "")), d = d.replace(/^0/g, "")), d.charAt(0) === r.radixPoint && "" !== r.radixPoint && !0 !== r.numericInput && (d = "0" + d), "" !== d) { if (d = d.split(""), (!r.digitsOptional || r.enforceDigitsOnBlur && "blur" === a.event) && isFinite(r.digits)) { var p = e.inArray(r.radixPoint, d), h = e.inArray(r.radixPoint, u); -1 === p && (d.push(r.radixPoint), p = d.length - 1); for (var f = 1; f <= r.digits; f++)r.digitsOptional && (!r.enforceDigitsOnBlur || "blur" !== a.event) || d[p + f] !== n && d[p + f] !== r.placeholder.charAt(0) ? -1 !== h && u[h + f] !== n && (d[p + f] = d[p + f] || u[h + f]) : d[p + f] = a.placeholder || r.placeholder.charAt(0) } if (!0 !== r.autoGroup || "" === r.groupSeparator || c === r.radixPoint && a.pos === n && !a.dopost) d = d.join(""); else { var m = d[d.length - 1] === r.radixPoint && a.c === r.radixPoint; d = t(function (e, t) { var n = ""; if (n += "(" + t.groupSeparator + "*{" + t.groupSize + "}){*}", "" !== t.radixPoint) { var i = e.join("").split(t.radixPoint); i[1] && (n += t.radixPoint + "*{" + i[1].match(/^\d*\??\d*/)[0].length + "}") } return n }(d, r), { numericInput: !0, jitMasking: !0, definitions: { "*": { validator: "[0-9?]", cardinality: 1 } } }).format(d.join("")), m && (d += r.radixPoint), d.charAt(0) === r.groupSeparator && d.substr(1) } } if (r.isNegative && "blur" === a.event && (r.isNegative = "0" !== d), d = o + d, d += s, r.isNegative && (d = r.negationSymbol.front + d, d += r.negationSymbol.back), d = d.split(""), c !== n) if (c !== r.radixPoint && c !== r.negationSymbol.front && c !== r.negationSymbol.back) -1 < (l = e.inArray("?", d)) ? d[l] = c : l = a.caret || 0; else if (c === r.radixPoint || c === r.negationSymbol.front || c === r.negationSymbol.back) { var v = e.inArray(c, d); -1 !== v && (l = v) } r.numericInput && (l = d.length - l - 1, d = d.reverse()); var g = { caret: c === n || a.pos !== n ? l + (r.numericInput ? -1 : 1) : l, buffer: d, refreshFromBuffer: a.dopost || i.join("") !== d.join("") }; return g.refreshFromBuffer ? g : a }, onBeforeWrite: function (i, a, r, s) { if (i) switch (i.type) { case "keydown": return s.postValidation(a, { caret: r, dopost: !0 }, s); case "blur": case "checkval": var o; if ((l = s).parseMinMaxOptions === n && (null !== l.min && (l.min = l.min.toString().replace(new RegExp(t.escapeRegex(l.groupSeparator), "g"), ""), "," === l.radixPoint && (l.min = l.min.replace(l.radixPoint, ".")), l.min = isFinite(l.min) ? parseFloat(l.min) : NaN, isNaN(l.min) && (l.min = Number.MIN_VALUE)), null !== l.max && (l.max = l.max.toString().replace(new RegExp(t.escapeRegex(l.groupSeparator), "g"), ""), "," === l.radixPoint && (l.max = l.max.replace(l.radixPoint, ".")), l.max = isFinite(l.max) ? parseFloat(l.max) : NaN, isNaN(l.max) && (l.max = Number.MAX_VALUE)), l.parseMinMaxOptions = "done"), null !== s.min || null !== s.max) { if (o = s.onUnMask(a.join(""), n, e.extend({}, s, { unmaskAsNumber: !0 })), null !== s.min && o < s.min) return s.isNegative = s.min < 0, s.postValidation(s.min.toString().replace(".", s.radixPoint).split(""), { caret: r, dopost: !0, placeholder: "0" }, s); if (null !== s.max && o > s.max) return s.isNegative = s.max < 0, s.postValidation(s.max.toString().replace(".", s.radixPoint).split(""), { caret: r, dopost: !0, placeholder: "0" }, s) } return s.postValidation(a, { caret: r, placeholder: "0", event: "blur" }, s); case "_checkval": return { caret: r } }var l }, regex: { integerPart: function (e, n) { return n ? new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?") : new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?\\d+") }, integerNPart: function (e) { return new RegExp("[\\d" + t.escapeRegex(e.groupSeparator) + t.escapeRegex(e.placeholder.charAt(0)) + "]+") } }, definitions: { "~": { validator: function (e, i, a, r, s, o) { var l = r ? new RegExp("[0-9" + t.escapeRegex(s.groupSeparator) + "]").test(e) : new RegExp("[0-9]").test(e); if (!0 === l) { if (!0 !== s.numericInput && i.validPositions[a] !== n && "~" === i.validPositions[a].match.def && !o) { var u = i.buffer.join(""), c = (u = (u = u.replace(new RegExp("[-" + t.escapeRegex(s.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(t.escapeRegex(s.negationSymbol.back) + "$"), "")).split(s.radixPoint); 1 < c.length && (c[1] = c[1].replace(/0/g, s.placeholder.charAt(0))), "0" === c[0] && (c[0] = c[0].replace(/0/g, s.placeholder.charAt(0))), u = c[0] + s.radixPoint + c[1] || ""; var d = i._buffer.join(""); for (u === s.radixPoint && (u = d); null === u.match(t.escapeRegex(d) + "$");)d = d.slice(1); l = (u = (u = u.replace(d, "")).split(""))[a] === n ? { pos: a, remove: a } : { pos: a } } } else r || e !== s.radixPoint || i.validPositions[a - 1] !== n || (i.buffer[a] = "0", l = { pos: a + 1 }); return l }, cardinality: 1 }, "+": { validator: function (e, t, n, i, a) { return a.allowMinus && ("-" === e || e === a.negationSymbol.front) }, cardinality: 1, placeholder: "" }, "-": { validator: function (e, t, n, i, a) { return a.allowMinus && e === a.negationSymbol.back }, cardinality: 1, placeholder: "" }, ":": { validator: function (e, n, i, a, r) { var s = "[" + t.escapeRegex(r.radixPoint) + "]", o = new RegExp(s).test(e); return o && n.validPositions[i] && n.validPositions[i].match.placeholder === r.radixPoint && (o = { caret: i + 1 }), o }, cardinality: 1, placeholder: function (e) { return e.radixPoint } } }, onUnMask: function (e, n, i) { if ("" === n && !0 === i.nullable) return n; var a = e.replace(i.prefix, ""); return a = (a = a.replace(i.suffix, "")).replace(new RegExp(t.escapeRegex(i.groupSeparator), "g"), ""), "" !== i.placeholder.charAt(0) && (a = a.replace(new RegExp(i.placeholder.charAt(0), "g"), "0")), i.unmaskAsNumber ? ("" !== i.radixPoint && -1 !== a.indexOf(i.radixPoint) && (a = a.replace(t.escapeRegex.call(this, i.radixPoint), ".")), a = (a = a.replace(new RegExp("^" + t.escapeRegex(i.negationSymbol.front)), "-")).replace(new RegExp(t.escapeRegex(i.negationSymbol.back) + "$"), ""), Number(a)) : a }, isComplete: function (e, n) { var i = e.join(""); if (e.slice().join("") !== i) return !1; var a = i.replace(n.prefix, ""); return a = (a = a.replace(n.suffix, "")).replace(new RegExp(t.escapeRegex(n.groupSeparator), "g"), ""), "," === n.radixPoint && (a = a.replace(t.escapeRegex(n.radixPoint), ".")), isFinite(a) }, onBeforeMask: function (e, i) { if (i.isNegative = n, e = e.toString().charAt(e.length - 1) === i.radixPoint ? e.toString().substr(0, e.length - 1) : e.toString(), "" !== i.radixPoint && isFinite(e)) { var a = e.split("."), r = "" !== i.groupSeparator ? parseInt(i.groupSize) : 0; 2 === a.length && (a[0].length > r || a[1].length > r || a[0].length <= r && a[1].length < r) && (e = e.replace(".", i.radixPoint)) } var s = e.match(/,/g), o = e.match(/\./g); if (e = o && s ? o.length > s.length ? (e = e.replace(/\./g, "")).replace(",", i.radixPoint) : s.length > o.length ? (e = e.replace(/,/g, "")).replace(".", i.radixPoint) : e.indexOf(".") < e.indexOf(",") ? e.replace(/\./g, "") : e.replace(/,/g, "") : e.replace(new RegExp(t.escapeRegex(i.groupSeparator), "g"), ""), 0 === i.digits && (-1 !== e.indexOf(".") ? e = e.substring(0, e.indexOf(".")) : -1 !== e.indexOf(",") && (e = e.substring(0, e.indexOf(",")))), "" !== i.radixPoint && isFinite(i.digits) && -1 !== e.indexOf(i.radixPoint)) { var l = e.split(i.radixPoint)[1].match(new RegExp("\\d*"))[0]; if (parseInt(i.digits) < l.toString().length) { var u = Math.pow(10, parseInt(i.digits)); e = e.replace(t.escapeRegex(i.radixPoint), "."), e = (e = Math.round(parseFloat(e) * u) / u).toString().replace(".", i.radixPoint) } } return e }, canClearPosition: function (e, t, n, i, a) { var r = e.validPositions[t], s = r.input !== a.radixPoint || null !== e.validPositions[t].match.fn && !1 === a.decimalProtect || r.input === a.radixPoint && e.validPositions[t + 1] && null === e.validPositions[t + 1].match.fn || isFinite(r.input) || t === n || r.input === a.groupSeparator || r.input === a.negationSymbol.front || r.input === a.negationSymbol.back; return !s || "+" !== r.match.nativeDef && "-" !== r.match.nativeDef || (a.isNegative = !1), s }, onKeyDown: function (n, i, a, r) { var s = e(this); if (n.ctrlKey) switch (n.keyCode) { case t.keyCode.UP: s.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(r.step)), s.trigger("setvalue"); break; case t.keyCode.DOWN: s.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(r.step)), s.trigger("setvalue") } } }, currency: { prefix: "$ ", groupSeparator: ",", alias: "numeric", placeholder: "0", autoGroup: !0, digits: 2, digitsOptional: !1, clearMaskOnLostFocus: !1 }, decimal: { alias: "numeric" }, integer: { alias: "numeric", digits: 0, radixPoint: "" }, percentage: { alias: "numeric", digits: 2, digitsOptional: !0, radixPoint: ".", placeholder: "0", autoGroup: !1, min: 0, max: 100, suffix: " %", allowMinus: !1 } }), t }) ? i.apply(t, a) : i) && (e.exports = r) }, function (e, t, n) { "use strict"; var i, a, r; "function" == typeof Symbol && Symbol.iterator, a = [n(0), n(1)], void 0 !== (r = "function" == typeof (i = function (e, t) { function n(e, t) { var n = (e.mask || e).replace(/#/g, "9").replace(/\)/, "9").replace(/[+()#-]/g, ""), i = (t.mask || t).replace(/#/g, "9").replace(/\)/, "9").replace(/[+()#-]/g, ""), a = (e.mask || e).split("#")[0], r = (t.mask || t).split("#")[0]; return 0 === r.indexOf(a) ? -1 : 0 === a.indexOf(r) ? 1 : n.localeCompare(i) } var i = t.prototype.analyseMask; return t.prototype.analyseMask = function (t, n, a) { var r = {}; return a.phoneCodes && (a.phoneCodes && 1e3 < a.phoneCodes.length && (function e(n, i, a) { a = a || r, "" !== (i = i || "") && (a[i] = {}); for (var s = "", o = a[i] || a, l = n.length - 1; 0 <= l; l--)o[s = (t = n[l].mask || n[l]).substr(0, 1)] = o[s] || [], o[s].unshift(t.substr(1)), n.splice(l, 1); for (var u in o) 500 < o[u].length && e(o[u].slice(), u, o) }((t = t.substr(1, t.length - 2)).split(a.groupmarker.end + a.alternatormarker + a.groupmarker.start)), t = function t(n) { var i = "", r = []; for (var s in n) e.isArray(n[s]) ? 1 === n[s].length ? r.push(s + n[s]) : r.push(s + a.groupmarker.start + n[s].join(a.groupmarker.end + a.alternatormarker + a.groupmarker.start) + a.groupmarker.end) : r.push(s + t(n[s])); return 1 === r.length ? i += r[0] : i += a.groupmarker.start + r.join(a.groupmarker.end + a.alternatormarker + a.groupmarker.start) + a.groupmarker.end, i }(r)), t = t.replace(/9/g, "\\9")), i.call(this, t, n, a) }, t.extendAliases({ abstractphone: { groupmarker: { start: "<", end: ">" }, countrycode: "", phoneCodes: [], mask: function (e) { return e.definitions = { "#": t.prototype.definitions[9] }, e.phoneCodes.sort(n) }, keepStatic: !0, onBeforeMask: function (e, t) { var n = e.replace(/^0{1,2}/, "").replace(/[\s]/g, ""); return (1 < n.indexOf(t.countrycode) || -1 === n.indexOf(t.countrycode)) && (n = "+" + t.countrycode + n), n }, onUnMask: function (e, t, n) { return e.replace(/[()#-]/g, "") }, inputmode: "tel" } }), t }) ? i.apply(t, a) : i) && (e.exports = r) }, function (e, t, n) { "use strict"; var i, a, r; "function" == typeof Symbol && Symbol.iterator, a = [n(0), n(1)], void 0 !== (r = "function" == typeof (i = function (e, t) { return t.extendAliases({ Regex: { mask: "r", greedy: !1, repeat: "*", regex: null, regexTokens: null, tokenizer: /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, quantifierFilter: /[0-9]+[^,]/, isComplete: function (e, t) { return new RegExp(t.regex, t.casing ? "i" : "").test(e.join("")) }, definitions: { r: { validator: function (t, n, i, a, r) { function s(e, t) { this.matches = [], this.isGroup = e || !1, this.isQuantifier = t || !1, this.quantifier = { min: 1, max: 1 }, this.repeaterPart = void 0 } function o(t, n) { var i = !1; n && (d += "(", h++); for (var a = 0; a < t.matches.length; a++) { var s = t.matches[a]; if (!0 === s.isGroup) i = o(s, !0); else if (!0 === s.isQuantifier) { var u = e.inArray(s, t.matches), c = t.matches[u - 1], p = d; if (isNaN(s.quantifier.max)) { for (; s.repeaterPart && s.repeaterPart !== d && s.repeaterPart.length > d.length && !(i = o(c, !0));); (i = i || o(c, !0)) && (s.repeaterPart = d), d = p + s.quantifier.max } else { for (var f = 0, m = s.quantifier.max - 1; f < m && !(i = o(c, !0)); f++); d = p + "{" + s.quantifier.min + "," + s.quantifier.max + "}" } } else if (void 0 !== s.matches) for (var v = 0; v < s.length && !(i = o(s[v], n)); v++); else { var g; if ("[" == s.charAt(0)) { for (g = d, g += s, k = 0; k < h; k++)g += ")"; i = (x = new RegExp("^(" + g + ")$", r.casing ? "i" : "")).test(l) } else for (var y = 0, b = s.length; y < b; y++)if ("\\" !== s.charAt(y)) { g = d, g = (g += s.substr(0, y + 1)).replace(/\|$/, ""); for (var k = 0; k < h; k++)g += ")"; var x = new RegExp("^(" + g + ")$", r.casing ? "i" : ""); if (i = x.test(l)) break } d += s } if (i) break } return n && (d += ")", h--), i } var l, u, c = n.buffer.slice(), d = "", p = !1, h = 0; null === r.regexTokens && function () { var e, t, n = new s, i = []; for (r.regexTokens = []; e = r.tokenizer.exec(r.regex);)switch ((t = e[0]).charAt(0)) { case "(": i.push(new s(!0)); break; case ")": u = i.pop(), 0 < i.length ? i[i.length - 1].matches.push(u) : n.matches.push(u); break; case "{": case "+": case "*": var a = new s(!1, !0), o = (t = t.replace(/[{}]/g, "")).split(","), l = isNaN(o[0]) ? o[0] : parseInt(o[0]), c = 1 === o.length ? l : isNaN(o[1]) ? o[1] : parseInt(o[1]); if (a.quantifier = { min: l, max: c }, 0 < i.length) { var d = i[i.length - 1].matches; (e = d.pop()).isGroup || ((u = new s(!0)).matches.push(e), e = u), d.push(e), d.push(a) } else (e = n.matches.pop()).isGroup || ((u = new s(!0)).matches.push(e), e = u), n.matches.push(e), n.matches.push(a); break; default: 0 < i.length ? i[i.length - 1].matches.push(t) : n.matches.push(t) }0 < n.matches.length && r.regexTokens.push(n) }(), c.splice(i, 0, t), l = c.join(""); for (var f = 0; f < r.regexTokens.length; f++) { var m = r.regexTokens[f]; if (p = o(m, m.isGroup)) break } return p }, cardinality: 1 } } } }), t }) ? i.apply(t, a) : i) && (e.exports = r) }, function (e, t, n) { "use strict"; var i, a, r, s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; a = [n(2), n(1)], void 0 !== (r = "function" == typeof (i = function (e, t) { return void 0 === e.fn.inputmask && (e.fn.inputmask = function (n, i) { var a, r = this[0]; if (void 0 === i && (i = {}), "string" == typeof n) switch (n) { case "unmaskedvalue": return r && r.inputmask ? r.inputmask.unmaskedvalue() : e(r).val(); case "remove": return this.each(function () { this.inputmask && this.inputmask.remove() }); case "getemptymask": return r && r.inputmask ? r.inputmask.getemptymask() : ""; case "hasMaskedValue": return !(!r || !r.inputmask) && r.inputmask.hasMaskedValue(); case "isComplete": return !r || !r.inputmask || r.inputmask.isComplete(); case "getmetadata": return r && r.inputmask ? r.inputmask.getmetadata() : void 0; case "setvalue": e(r).val(i), r && void 0 === r.inputmask && e(r).triggerHandler("setvalue"); break; case "option": if ("string" != typeof i) return this.each(function () { if (void 0 !== this.inputmask) return this.inputmask.option(i) }); if (r && void 0 !== r.inputmask) return r.inputmask.option(i); break; default: return i.alias = n, a = new t(i), this.each(function () { a.mask(this) }) } else { if ("object" == (void 0 === n ? "undefined" : s(n))) return a = new t(n), void 0 === n.mask && void 0 === n.alias ? this.each(function () { if (void 0 !== this.inputmask) return this.inputmask.option(n); a.mask(this) }) : this.each(function () { a.mask(this) }); if (void 0 === n) return this.each(function () { (a = new t(i)).mask(this) }) } }), e.fn.inputmask }) ? i.apply(t, a) : i) && (e.exports = r) }]), function (e) { "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery) }(function (e) { var t, n = function (t, i) { return i = e.extend({}, i), this.$el = t, this.options = e.extend({}, n.rules.defaults, n.rules[i.rule] || {}, i), this.min = Number(this.options.min) || 0, this.max = Number(this.options.max) || 0, this.$el.on({ "focus.spinner": e.proxy(function (t) { t.preventDefault(), e(document).trigger("mouseup.spinner"), this.oldValue = this.value() }, this), "change.spinner": e.proxy(function (e) { e.preventDefault(), this.value(this.$el.val()) }, this), "keydown.spinner": e.proxy(function (e) { var t = { 38: "up", 40: "down" }[e.which]; t && (e.preventDefault(), this.spin(t)) }, this) }), this.oldValue = this.value(), this.value(this.$el.val()), this }; n.rules = { defaults: { min: null, max: null, step: 1, precision: 0 }, currency: { min: 0, max: null, step: .01, precision: 2 }, quantity: { min: 1, max: 999, step: 1, precision: 0 }, percent: { min: 1, max: 100, step: 1, precision: 0 }, month: { min: 1, max: 12, step: 1, precision: 0 }, day: { min: 1, max: 31, step: 1, precision: 0 }, hour: { min: 0, max: 23, step: 1, precision: 0 }, minute: { min: 1, max: 59, step: 1, precision: 0 }, second: { min: 1, max: 59, step: 1, precision: 0 } }, n.prototype = { spin: function (t) { if (!this.$el.prop("disabled")) { this.oldValue = this.value(); var n = e.isFunction(this.options.step) ? this.options.step.call(this, t) : this.options.step, i = "up" === t ? 1 : -1; this.value(this.oldValue + Number(n) * i) } }, value: function (n) { if (null == n) return this.numeric(this.$el.val()); n = this.numeric(n); var a = this.validate(n); 0 !== a && (n = -1 === a ? this.min : this.max), this.$el.val(n.toFixed(this.options.precision)), this.oldValue !== this.value() && (this.$el.trigger("changing.spinner", [this.value(), this.oldValue]), clearTimeout(t), t = setTimeout(e.proxy(function () { this.$el.trigger("changed.spinner", [this.value(), this.oldValue]) }, this), i.delay)) }, numeric: function (e) { return e = 0 < this.options.precision ? parseFloat(e, 10) : parseInt(e, 10), isFinite(e) ? e : e || this.options.min || 0 }, validate: function (e) { return null !== this.options.min && e < this.min ? -1 : null !== this.options.max && e > this.max ? 1 : 0 } }; var i = function (t, i) { i = e.extend({}, i), this.$el = t, this.$spinning = this.$el.find('[data-spin="spinner"]'), 0 === this.$spinning.length && (this.$spinning = this.$el.find(':input[type="text"]')), this.spinning = new n(this.$spinning, e.extend({}, this.$spinning.data(), i)), this.$el.on("click.spinner", "[data-spin='up'], [data-spin='down']", e.proxy(this, "spin")).on("mousedown.spinner", "[data-spin='up'], [data-spin='down']", e.proxy(this, "spin")), e(document).on("mouseup.spinner", e.proxy(function () { clearTimeout(this.spinTimeout), clearInterval(this.spinInterval) }, this)), i.delay && this.delay(i.delay), i.changed && this.changed(i.changed), i.changing && this.changing(i.changing) }; return i.delay = 500, i.prototype = { constructor: i, spin: function (t) { var n = e(t.currentTarget).data("spin"); switch (t.type) { case "click": t.preventDefault(), this.spinning.spin(n); break; case "mousedown": 1 === t.which && (this.spinTimeout = setTimeout(e.proxy(this, "beginSpin", n), 300)) } }, delay: function (e) { var t = Number(e); 0 <= t && (this.constructor.delay = t + 100) }, value: function () { return this.spinning.value() }, changed: function (e) { this.bindHandler("changed.spinner", e) }, changing: function (e) { this.bindHandler("changing.spinner", e) }, bindHandler: function (t, n) { e.isFunction(n) ? this.$spinning.on(t, n) : this.$spinning.off(t) }, beginSpin: function (t) { this.spinInterval = setInterval(e.proxy(this.spinning, "spin", t), 100) } }, e.fn.spinner = function (t, n) { return this.each(function () { var a = e(this), r = e.data(this, "spinner"); r || (r = new i(a, e.extend({}, a.data(), t)), e.data(this, "spinner", r)), "delay" === t || "changed" === t || "changing" === t ? r[t](n) : "step" === t && n ? r.spinning.step = n : "spin" === t && n && r.spinning.spin(n) }) }, e(function () { e('[data-trigger="spinner"]').spinner() }), e.fn.spinner }), function (e) { "use strict"; var t = { tagClass: function (e) { return "label label-info" }, focusClass: "focus", itemValue: function (e) { return e ? e.toString() : e }, itemText: function (e) { return this.itemValue(e) }, itemTitle: function (e) { return null }, freeInput: !0, addOnBlur: !0, maxTags: void 0, maxChars: void 0, confirmKeys: [13, 44], delimiter: ",", delimiterRegex: null, cancelConfirmKeysOnEmpty: !1, onTagExists: function (e, t) { t.hide().fadeIn() }, trimValue: !1, allowDuplicates: !1, triggerChange: !0 }; function n(t, n) { this.isInit = !0, this.itemsArray = [], this.$element = e(t), this.$element.hide(), this.isSelect = "SELECT" === t.tagName, this.multiple = this.isSelect && t.hasAttribute("multiple"), this.objectItems = n && n.itemValue, this.placeholderText = t.hasAttribute("placeholder") ? this.$element.attr("placeholder") : "", this.inputSize = Math.max(1, this.placeholderText.length), this.$container = e('<div class="bootstrap-tagsinput"></div>'), this.$input = e('<input type="text" placeholder="' + this.placeholderText + '"/>').appendTo(this.$container), this.$element.before(this.$container), this.build(n), this.isInit = !1 } function i(e, t) { if ("function" != typeof e[t]) { var n = e[t]; e[t] = function (e) { return e[n] } } } function a(e, t) { if ("function" != typeof e[t]) { var n = e[t]; e[t] = function () { return n } } } n.prototype = { constructor: n, add: function (t, n, i) { var a = this; if (!(a.options.maxTags && a.itemsArray.length >= a.options.maxTags) && (!1 === t || t)) { if ("string" == typeof t && a.options.trimValue && (t = e.trim(t)), "object" == typeof t && !a.objectItems) throw "Can't add objects when itemValue option is not set"; if (!t.toString().match(/^\s*$/)) { if (a.isSelect && !a.multiple && 0 < a.itemsArray.length && a.remove(a.itemsArray[0]), "string" == typeof t && "INPUT" === this.$element[0].tagName) { var r = a.options.delimiterRegex ? a.options.delimiterRegex : a.options.delimiter, o = t.split(r); if (1 < o.length) { for (var l = 0; l < o.length; l++)this.add(o[l], !0); return void (n || a.pushVal(a.options.triggerChange)) } } var u = a.options.itemValue(t), c = a.options.itemText(t), d = a.options.tagClass(t), p = a.options.itemTitle(t), h = e.grep(a.itemsArray, function (e) { return a.options.itemValue(e) === u })[0]; if (!h || a.options.allowDuplicates) { if (!(a.items().toString().length + t.length + 1 > a.options.maxInputLength)) { var f = e.Event("beforeItemAdd", { item: t, cancel: !1, options: i }); if (a.$element.trigger(f), !f.cancel) { a.itemsArray.push(t); var m = e('<span class="tag ' + s(d) + (null !== p ? '" title="' + p : "") + '">' + s(c) + '<span data-role="remove"></span></span>'); m.data("item", t), a.findInputWrapper().before(m), m.after(" "); var v = e('option[value="' + encodeURIComponent(u) + '"]', a.$element).length || e('option[value="' + s(u) + '"]', a.$element).length; if (a.isSelect && !v) { var g = e("<option selected>" + s(c) + "</option>"); g.data("item", t), g.attr("value", u), a.$element.append(g) } n || a.pushVal(a.options.triggerChange), a.options.maxTags !== a.itemsArray.length && a.items().toString().length !== a.options.maxInputLength || a.$container.addClass("bootstrap-tagsinput-max"), e(".typeahead, .twitter-typeahead", a.$container).length && a.$input.typeahead("val", ""), this.isInit ? a.$element.trigger(e.Event("itemAddedOnInit", { item: t, options: i })) : a.$element.trigger(e.Event("itemAdded", { item: t, options: i })) } } } else if (a.options.onTagExists) { var y = e(".tag", a.$container).filter(function () { return e(this).data("item") === h }); a.options.onTagExists(t, y) } } } }, remove: function (t, n, i) { var a = this; if (a.objectItems && (t = (t = "object" == typeof t ? e.grep(a.itemsArray, function (e) { return a.options.itemValue(e) == a.options.itemValue(t) }) : e.grep(a.itemsArray, function (e) { return a.options.itemValue(e) == t }))[t.length - 1]), t) { var r = e.Event("beforeItemRemove", { item: t, cancel: !1, options: i }); if (a.$element.trigger(r), r.cancel) return; e(".tag", a.$container).filter(function () { return e(this).data("item") === t }).remove(), e("option", a.$element).filter(function () { return e(this).data("item") === t }).remove(), -1 !== e.inArray(t, a.itemsArray) && a.itemsArray.splice(e.inArray(t, a.itemsArray), 1) } n || a.pushVal(a.options.triggerChange), a.options.maxTags > a.itemsArray.length && a.$container.removeClass("bootstrap-tagsinput-max"), a.$element.trigger(e.Event("itemRemoved", { item: t, options: i })) }, removeAll: function () { var t = this; for (e(".tag", t.$container).remove(), e("option", t.$element).remove(); 0 < t.itemsArray.length;)t.itemsArray.pop(); t.pushVal(t.options.triggerChange) }, refresh: function () { var t = this; e(".tag", t.$container).each(function () { var n = e(this), i = n.data("item"), a = t.options.itemValue(i), r = t.options.itemText(i), o = t.options.tagClass(i); n.attr("class", null), n.addClass("tag " + s(o)), n.contents().filter(function () { return 3 == this.nodeType })[0].nodeValue = s(r), t.isSelect && e("option", t.$element).filter(function () { return e(this).data("item") === i }).attr("value", a) }) }, items: function () { return this.itemsArray }, pushVal: function () { var t = this, n = e.map(t.items(), function (e) { return t.options.itemValue(e).toString() }); t.$element.val(n, !0), t.options.triggerChange && t.$element.trigger("change") }, build: function (n) { var r = this; if (r.options = e.extend({}, t, n), r.objectItems && (r.options.freeInput = !1), i(r.options, "itemValue"), i(r.options, "itemText"), a(r.options, "tagClass"), r.options.typeahead) { var s = r.options.typeahead || {}; a(s, "source"), r.$input.typeahead(e.extend({}, s, { source: function (t, n) { function i(e) { for (var t = [], i = 0; i < e.length; i++) { var s = r.options.itemText(e[i]); a[s] = e[i], t.push(s) } n(t) } this.map = {}; var a = this.map, o = s.source(t); e.isFunction(o.success) ? o.success(i) : e.isFunction(o.then) ? o.then(i) : e.when(o).then(i) }, updater: function (e) { return r.add(this.map[e]), this.map[e] }, matcher: function (e) { return -1 !== e.toLowerCase().indexOf(this.query.trim().toLowerCase()) }, sorter: function (e) { return e.sort() }, highlighter: function (e) { var t = new RegExp("(" + this.query + ")", "gi"); return e.replace(t, "<strong>$1</strong>") } })) } if (r.options.typeaheadjs) { var l = null, u = {}, c = r.options.typeaheadjs; e.isArray(c) ? (l = c[0], u = c[1]) : u = c, r.$input.typeahead(l, u).on("typeahead:selected", e.proxy(function (e, t) { u.valueKey ? r.add(t[u.valueKey]) : r.add(t), r.$input.typeahead("val", "") }, r)) } r.$container.on("click", e.proxy(function (e) { r.$element.attr("disabled") || r.$input.removeAttr("disabled"), r.$input.focus() }, r)), r.options.addOnBlur && r.options.freeInput && r.$input.on("focusout", e.proxy(function (t) { 0 === e(".typeahead, .twitter-typeahead", r.$container).length && (r.add(r.$input.val()), r.$input.val("")) }, r)), r.$container.on({ focusin: function () { r.$container.addClass(r.options.focusClass) }, focusout: function () { r.$container.removeClass(r.options.focusClass) } }), r.$container.on("keydown", "input", e.proxy(function (t) { var n = e(t.target), i = r.findInputWrapper(); if (r.$element.attr("disabled")) r.$input.attr("disabled", "disabled"); else { switch (t.which) { case 8: if (0 === o(n[0])) { var a = i.prev(); a.length && r.remove(a.data("item")) } break; case 46: if (0 === o(n[0])) { var s = i.next(); s.length && r.remove(s.data("item")) } break; case 37: var l = i.prev(); 0 === n.val().length && l[0] && (l.before(i), n.focus()); break; case 39: var u = i.next(); 0 === n.val().length && u[0] && (u.after(i), n.focus()) }var c = n.val().length; Math.ceil(c / 5), n.attr("size", Math.max(this.inputSize, n.val().length)) } }, r)), r.$container.on("keypress", "input", e.proxy(function (t) { var n = e(t.target); if (r.$element.attr("disabled")) r.$input.attr("disabled", "disabled"); else { var i, a, s, o = n.val(), l = r.options.maxChars && o.length >= r.options.maxChars; r.options.freeInput && (i = t, a = r.options.confirmKeys, s = !1, e.each(a, function (e, t) { if ("number" == typeof t && i.which === t) return !(s = !0); if (i.which === t.which) { var n = !t.hasOwnProperty("altKey") || i.altKey === t.altKey, a = !t.hasOwnProperty("shiftKey") || i.shiftKey === t.shiftKey, r = !t.hasOwnProperty("ctrlKey") || i.ctrlKey === t.ctrlKey; if (n && a && r) return !(s = !0) } }), s || l) && (0 !== o.length && (r.add(l ? o.substr(0, r.options.maxChars) : o), n.val("")), !1 === r.options.cancelConfirmKeysOnEmpty && t.preventDefault()); var u = n.val().length; Math.ceil(u / 5), n.attr("size", Math.max(this.inputSize, n.val().length)) } }, r)), r.$container.on("click", "[data-role=remove]", e.proxy(function (t) { r.$element.attr("disabled") || r.remove(e(t.target).closest(".tag").data("item")) }, r)), r.options.itemValue === t.itemValue && ("INPUT" === r.$element[0].tagName ? r.add(r.$element.val()) : e("option", r.$element).each(function () { r.add(e(this).attr("value"), !0) })) }, destroy: function () { var e = this; e.$container.off("keypress", "input"), e.$container.off("click", "[role=remove]"), e.$container.remove(), e.$element.removeData("tagsinput"), e.$element.show() }, focus: function () { this.$input.focus() }, input: function () { return this.$input }, findInputWrapper: function () { for (var t = this.$input[0], n = this.$container[0]; t && t.parentNode !== n;)t = t.parentNode; return e(t) } }, e.fn.tagsinput = function (t, i, a) { var r = []; return this.each(function () { var s = e(this).data("tagsinput"); if (s) if (t || i) { if (void 0 !== s[t]) { if (3 === s[t].length && void 0 !== a) var o = s[t](i, null, a); else o = s[t](i); void 0 !== o && r.push(o) } } else r.push(s); else s = new n(this, t), e(this).data("tagsinput", s), r.push(s), "SELECT" === this.tagName && e("option", e(this)).attr("selected", "selected"), e(this).val(e(this).val()) }), "string" == typeof t ? 1 < r.length ? r : r[0] : r }, e.fn.tagsinput.Constructor = n; var r = e("<div />"); function s(e) { return e ? r.text(e).html() : "" } function o(e) { var t = 0; if (document.selection) { e.focus(); var n = document.selection.createRange(); n.moveStart("character", -e.value.length), t = n.text.length } else (e.selectionStart || "0" == e.selectionStart) && (t = e.selectionStart); return t } e(function () { e("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput() }) }(window.jQuery), function (e) { "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? module.exports = e() : window.noUiSlider = e() }(function () { "use strict"; var e = "10.1.0"; function t(e) { e.preventDefault() } function n(e) { return "number" == typeof e && !isNaN(e) && isFinite(e) } function i(e, t, n) { 0 < n && (s(e, t), setTimeout(function () { o(e, t) }, n)) } function a(e) { return Array.isArray(e) ? e : [e] } function r(e) { var t = (e = String(e)).split("."); return 1 < t.length ? t[1].length : 0 } function s(e, t) { e.classList ? e.classList.add(t) : e.className += " " + t } function o(e, t) { e.classList ? e.classList.remove(t) : e.className = e.className.replace(new RegExp("(^|\\b)" + t.split(" ").join("|") + "(\\b|$)", "gi"), " ") } function l(e) { var t = void 0 !== window.pageXOffset, n = "CSS1Compat" === (e.compatMode || ""); return { x: t ? window.pageXOffset : n ? e.documentElement.scrollLeft : e.body.scrollLeft, y: t ? window.pageYOffset : n ? e.documentElement.scrollTop : e.body.scrollTop } } function u(e, t) { return 100 / (t - e) } function c(e, t) { return 100 * t / (e[1] - e[0]) } function d(e, t) { for (var n = 1; e >= t[n];)n += 1; return n } function p(t, i, a) { var r; if ("number" == typeof i && (i = [i]), "[object Array]" !== Object.prototype.toString.call(i)) throw new Error("noUiSlider (" + e + "): 'range' contains invalid value."); if (!n(r = "min" === t ? 0 : "max" === t ? 100 : parseFloat(t)) || !n(i[0])) throw new Error("noUiSlider (" + e + "): 'range' value isn't numeric."); a.xPct.push(r), a.xVal.push(i[0]), r ? a.xSteps.push(!isNaN(i[1]) && i[1]) : isNaN(i[1]) || (a.xSteps[0] = i[1]), a.xHighestCompleteStep.push(0) } function h(e, t, n) { if (!t) return !0; n.xSteps[e] = c([n.xVal[e], n.xVal[e + 1]], t) / u(n.xPct[e], n.xPct[e + 1]); var i = (n.xVal[e + 1] - n.xVal[e]) / n.xNumSteps[e], a = Math.ceil(Number(i.toFixed(3)) - 1), r = n.xVal[e] + n.xNumSteps[e] * a; n.xHighestCompleteStep[e] = r } function f(e, t, n) { this.xPct = [], this.xVal = [], this.xSteps = [n || !1], this.xNumSteps = [!1], this.xHighestCompleteStep = [], this.snap = t; var i, a = []; for (i in e) e.hasOwnProperty(i) && a.push([e[i], i]); for (a.length && "object" == typeof a[0][0] ? a.sort(function (e, t) { return e[0][0] - t[0][0] }) : a.sort(function (e, t) { return e[0] - t[0] }), i = 0; i < a.length; i++)p(a[i][1], a[i][0], this); for (this.xNumSteps = this.xSteps.slice(0), i = 0; i < this.xNumSteps.length; i++)h(i, this.xNumSteps[i], this) } f.prototype.getMargin = function (t) { var n = this.xNumSteps[0]; if (n && t / n % 1 != 0) throw new Error("noUiSlider (" + e + "): 'limit', 'margin' and 'padding' must be divisible by step."); return 2 === this.xPct.length && c(this.xVal, t) }, f.prototype.toStepping = function (e) { return function (e, t, n) { if (n >= e.slice(-1)[0]) return 100; var i, a, r, s, o, l, p = d(n, e); return i = e[p - 1], a = e[p], r = t[p - 1], s = t[p], r + (l = n, c(o = [i, a], o[0] < 0 ? l + Math.abs(o[0]) : l - o[0]) / u(r, s)) }(this.xVal, this.xPct, e) }, f.prototype.fromStepping = function (e) { return function (e, t, n) { if (100 <= n) return e.slice(-1)[0]; var i, a, r = d(n, t); return a = [e[r - 1], e[r]], (n - (i = t[r - 1])) * u(i, t[r]) * (a[1] - a[0]) / 100 + a[0] }(this.xVal, this.xPct, e) }, f.prototype.getStep = function (e) { return function (e, t, n, i) { if (100 === i) return i; var a, r, s, o, l = d(i, e); return n ? (a = e[l - 1], ((r = e[l]) - a) / 2 < i - a ? r : a) : t[l - 1] ? e[l - 1] + (s = i - e[l - 1], o = t[l - 1], Math.round(s / o) * o) : i }(this.xPct, this.xSteps, this.snap, e) }, f.prototype.getNearbySteps = function (e) { var t = d(e, this.xPct); return { stepBefore: { startValue: this.xVal[t - 2], step: this.xNumSteps[t - 2], highestStep: this.xHighestCompleteStep[t - 2] }, thisStep: { startValue: this.xVal[t - 1], step: this.xNumSteps[t - 1], highestStep: this.xHighestCompleteStep[t - 1] }, stepAfter: { startValue: this.xVal[t - 0], step: this.xNumSteps[t - 0], highestStep: this.xHighestCompleteStep[t - 0] } } }, f.prototype.countStepDecimals = function () { var e = this.xNumSteps.map(r); return Math.max.apply(null, e) }, f.prototype.convert = function (e) { return this.getStep(this.toStepping(e)) }; var m = { to: function (e) { return void 0 !== e && e.toFixed(2) }, from: Number }; function v(t) { if ("object" == typeof (n = t) && "function" == typeof n.to && "function" == typeof n.from) return !0; var n; throw new Error("noUiSlider (" + e + "): 'format' requires 'to' and 'from' methods.") } function g(t, i) { if (!n(i)) throw new Error("noUiSlider (" + e + "): 'step' is not numeric."); t.singleStep = i } function y(t, n) { if ("object" != typeof n || Array.isArray(n)) throw new Error("noUiSlider (" + e + "): 'range' is not an object."); if (void 0 === n.min || void 0 === n.max) throw new Error("noUiSlider (" + e + "): Missing 'min' or 'max' in 'range'."); if (n.min === n.max) throw new Error("noUiSlider (" + e + "): 'range' 'min' and 'max' cannot be equal."); t.spectrum = new f(n, t.snap, t.singleStep) } function b(t, n) { if (n = a(n), !Array.isArray(n) || !n.length) throw new Error("noUiSlider (" + e + "): 'start' option is incorrect."); t.handles = n.length, t.start = n } function k(t, n) { if ("boolean" != typeof (t.snap = n)) throw new Error("noUiSlider (" + e + "): 'snap' option must be a boolean.") } function x(t, n) { if ("boolean" != typeof (t.animate = n)) throw new Error("noUiSlider (" + e + "): 'animate' option must be a boolean.") } function w(t, n) { if ("number" != typeof (t.animationDuration = n)) throw new Error("noUiSlider (" + e + "): 'animationDuration' option must be a number.") } function C(t, n) { var i, a = [!1]; if ("lower" === n ? n = [!0, !1] : "upper" === n && (n = [!1, !0]), !0 === n || !1 === n) { for (i = 1; i < t.handles; i++)a.push(n); a.push(!1) } else { if (!Array.isArray(n) || !n.length || n.length !== t.handles + 1) throw new Error("noUiSlider (" + e + "): 'connect' option doesn't match handle count."); a = n } t.connect = a } function E(t, n) { switch (n) { case "horizontal": t.ort = 0; break; case "vertical": t.ort = 1; break; default: throw new Error("noUiSlider (" + e + "): 'orientation' option is invalid.") } } function S(t, i) { if (!n(i)) throw new Error("noUiSlider (" + e + "): 'margin' option must be numeric."); if (0 !== i && (t.margin = t.spectrum.getMargin(i), !t.margin)) throw new Error("noUiSlider (" + e + "): 'margin' option is only supported on linear sliders.") } function D(t, i) { if (!n(i)) throw new Error("noUiSlider (" + e + "): 'limit' option must be numeric."); if (t.limit = t.spectrum.getMargin(i), !t.limit || t.handles < 2) throw new Error("noUiSlider (" + e + "): 'limit' option is only supported on linear sliders with 2 or more handles.") } function A(t, i) { if (!n(i)) throw new Error("noUiSlider (" + e + "): 'padding' option must be numeric."); if (0 !== i) { if (t.padding = t.spectrum.getMargin(i), !t.padding) throw new Error("noUiSlider (" + e + "): 'padding' option is only supported on linear sliders."); if (t.padding < 0) throw new Error("noUiSlider (" + e + "): 'padding' option must be a positive number."); if (50 <= t.padding) throw new Error("noUiSlider (" + e + "): 'padding' option must be less than half the range.") } } function _(t, n) { switch (n) { case "ltr": t.dir = 0; break; case "rtl": t.dir = 1; break; default: throw new Error("noUiSlider (" + e + "): 'direction' option was not recognized.") } } function P(t, n) { if ("string" != typeof n) throw new Error("noUiSlider (" + e + "): 'behaviour' must be a string containing options."); var i = 0 <= n.indexOf("tap"), a = 0 <= n.indexOf("drag"), r = 0 <= n.indexOf("fixed"), s = 0 <= n.indexOf("snap"), o = 0 <= n.indexOf("hover"); if (r) { if (2 !== t.handles) throw new Error("noUiSlider (" + e + "): 'fixed' behaviour must be used with 2 handles"); S(t, t.start[1] - t.start[0]) } t.events = { tap: i || s, drag: a, fixed: r, snap: s, hover: o } } function F(t, n) { if ("boolean" != typeof (t.multitouch = n)) throw new Error("noUiSlider (" + e + "): 'multitouch' option must be a boolean.") } function M(t, n) { if (!1 !== n) if (!0 === n) { t.tooltips = []; for (var i = 0; i < t.handles; i++)t.tooltips.push(!0) } else { if (t.tooltips = a(n), t.tooltips.length !== t.handles) throw new Error("noUiSlider (" + e + "): must pass a formatter for all handles."); t.tooltips.forEach(function (t) { if ("boolean" != typeof t && ("object" != typeof t || "function" != typeof t.to)) throw new Error("noUiSlider (" + e + "): 'tooltips' must be passed a formatter or 'false'.") }) } } function T(e, t) { v(e.ariaFormat = t) } function O(e, t) { v(e.format = t) } function I(t, n) { if (void 0 !== n && "string" != typeof n && !1 !== n) throw new Error("noUiSlider (" + e + "): 'cssPrefix' must be a string or `false`."); t.cssPrefix = n } function N(t, n) { if (void 0 !== n && "object" != typeof n) throw new Error("noUiSlider (" + e + "): 'cssClasses' must be an object."); if ("string" == typeof t.cssPrefix) for (var i in t.cssClasses = {}, n) n.hasOwnProperty(i) && (t.cssClasses[i] = t.cssPrefix + n[i]); else t.cssClasses = n } function z(t, n) { if (!0 !== n && !1 !== n) throw new Error("noUiSlider (" + e + "): 'useRequestAnimationFrame' option should be true (default) or false."); t.useRequestAnimationFrame = n } function R(t) { var n = { margin: 0, limit: 0, padding: 0, animate: !0, animationDuration: 300, ariaFormat: m, format: m }, i = { step: { r: !1, t: g }, start: { r: !0, t: b }, connect: { r: !0, t: C }, direction: { r: !0, t: _ }, snap: { r: !1, t: k }, animate: { r: !1, t: x }, animationDuration: { r: !1, t: w }, range: { r: !0, t: y }, orientation: { r: !1, t: E }, margin: { r: !1, t: S }, limit: { r: !1, t: D }, padding: { r: !1, t: A }, behaviour: { r: !0, t: P }, multitouch: { r: !0, t: F }, ariaFormat: { r: !1, t: T }, format: { r: !1, t: O }, tooltips: { r: !1, t: M }, cssPrefix: { r: !1, t: I }, cssClasses: { r: !1, t: N }, useRequestAnimationFrame: { r: !1, t: z } }, a = { connect: !1, direction: "ltr", behaviour: "tap", multitouch: !1, orientation: "horizontal", cssPrefix: "noUi-", cssClasses: { target: "target", base: "base", origin: "origin", handle: "handle", handleLower: "handle-lower", handleUpper: "handle-upper", horizontal: "horizontal", vertical: "vertical", background: "background", connect: "connect", ltr: "ltr", rtl: "rtl", draggable: "draggable", drag: "state-drag", tap: "state-tap", active: "active", tooltip: "tooltip", pips: "pips", pipsHorizontal: "pips-horizontal", pipsVertical: "pips-vertical", marker: "marker", markerHorizontal: "marker-horizontal", markerVertical: "marker-vertical", markerNormal: "marker-normal", markerLarge: "marker-large", markerSub: "marker-sub", value: "value", valueHorizontal: "value-horizontal", valueVertical: "value-vertical", valueNormal: "value-normal", valueLarge: "value-large", valueSub: "value-sub" }, useRequestAnimationFrame: !0 }; t.format && !t.ariaFormat && (t.ariaFormat = t.format), Object.keys(i).forEach(function (r) { if (void 0 === t[r] && void 0 === a[r]) { if (i[r].r) throw new Error("noUiSlider (" + e + "): '" + r + "' is required."); return !0 } i[r].t(n, void 0 === t[r] ? a[r] : t[r]) }), n.pips = t.pips; var r = [["left", "top"], ["right", "bottom"]]; return n.style = r[n.dir][n.ort], n.styleOposite = r[n.dir ? 0 : 1][n.ort], n } function L(n, r, u) { var c, d, p, h, f, m, v, g, y = window.navigator.pointerEnabled ? { start: "pointerdown", move: "pointermove", end: "pointerup" } : window.navigator.msPointerEnabled ? { start: "MSPointerDown", move: "MSPointerMove", end: "MSPointerUp" } : { start: "mousedown touchstart", move: "mousemove touchmove", end: "mouseup touchend" }, b = window.CSS && CSS.supports && CSS.supports("touch-action", "none") && function () { var e = !1; try { var t = Object.defineProperty({}, "passive", { get: function () { e = !0 } }); window.addEventListener("test", null, t) } catch (e) { } return e }(), k = n, x = [], w = [], C = 0, E = r.spectrum, S = [], D = {}, A = n.ownerDocument, _ = A.documentElement, P = A.body; function F(e, t) { var n = A.createElement("div"); return t && s(n, t), e.appendChild(n), n } function M(e, t) { return !!t && F(e, r.cssClasses.connect) } function T() { var e; f && ((e = f).parentElement.removeChild(e), f = null) } function O(t) { T(); var n, i, a, o, l, u, c, d, p, h = t.mode, m = t.density || 1, v = t.filter || !1, g = function (t, n, i) { if ("range" === t || "steps" === t) return E.xVal; if ("count" === t) { if (!n) throw new Error("noUiSlider (" + e + "): 'values' required for mode 'count'."); var a, r = 100 / (n - 1), s = 0; for (n = []; (a = s++ * r) <= 100;)n.push(a); t = "positions" } return "positions" === t ? n.map(function (e) { return E.fromStepping(i ? E.getStep(e) : e) }) : "values" === t ? i ? n.map(function (e) { return E.fromStepping(E.getStep(E.toStepping(e))) }) : n : void 0 }(h, t.values || !1, t.stepped || !1), y = (n = m, i = h, a = g, o = {}, l = E.xVal[0], u = E.xVal[E.xVal.length - 1], d = c = !1, p = 0, (a = a.slice().sort(function (e, t) { return e - t }).filter(function (e) { return !this[e] && (this[e] = !0) }, {}))[0] !== l && (a.unshift(l), c = !0), a[a.length - 1] !== u && (a.push(u), d = !0), a.forEach(function (e, t) { var r, s, l, u, h, f, m, v, g, y = e, b = a[t + 1]; if ("steps" === i && (r = E.xNumSteps[t]), r || (r = b - y), !1 !== y && void 0 !== b) for (r = Math.max(r, 1e-7), s = y; s <= b; s = (s + r).toFixed(7) / 1) { for (m = (h = (u = E.toStepping(s)) - p) / n, g = h / (v = Math.round(m)), l = 1; l <= v; l += 1)o[(p + l * g).toFixed(5)] = ["x", 0]; f = -1 < a.indexOf(s) ? 1 : "steps" === i ? 2 : 0, !t && c && (f = 0), s === b && d || (o[u.toFixed(5)] = [s, f]), p = u } }), o), b = t.format || { to: Math.round }; return f = k.appendChild(function (e, t, n) { var i = A.createElement("div"), a = [r.cssClasses.valueNormal, r.cssClasses.valueLarge, r.cssClasses.valueSub], o = [r.cssClasses.markerNormal, r.cssClasses.markerLarge, r.cssClasses.markerSub], l = [r.cssClasses.valueHorizontal, r.cssClasses.valueVertical], u = [r.cssClasses.markerHorizontal, r.cssClasses.markerVertical]; function c(e, t) { var n = t === r.cssClasses.value, i = n ? a : o; return t + " " + (n ? l : u)[r.ort] + " " + i[e] } return s(i, r.cssClasses.pips), s(i, 0 === r.ort ? r.cssClasses.pipsHorizontal : r.cssClasses.pipsVertical), Object.keys(e).forEach(function (a) { !function (e, a) { a[1] = a[1] && t ? t(a[0], a[1]) : a[1]; var s = F(i, !1); s.className = c(a[1], r.cssClasses.marker), s.style[r.style] = e + "%", a[1] && ((s = F(i, !1)).className = c(a[1], r.cssClasses.value), s.style[r.style] = e + "%", s.innerText = n.to(a[0])) }(a, e[a]) }), i }(y, v, b)) } function I() { var e = c.getBoundingClientRect(), t = "offset" + ["Width", "Height"][r.ort]; return 0 === r.ort ? e.width || c[t] : e.height || c[t] } function N(e, t, n, i) { var a = function (a) { return !k.hasAttribute("disabled") && (s = k, o = r.cssClasses.tap, (s.classList ? !s.classList.contains(o) : !new RegExp("\\b" + o + "\\b").test(s.className)) && !!(a = function (e, t, n) { var i, a, s = 0 === e.type.indexOf("touch"), o = 0 === e.type.indexOf("mouse"), u = 0 === e.type.indexOf("pointer"); if (0 === e.type.indexOf("MSPointer") && (u = !0), s && r.multitouch) { var c = function (e) { return e.target === n || n.contains(e.target) }; if ("touchstart" === e.type) { var d = Array.prototype.filter.call(e.touches, c); if (1 < d.length) return !1; i = d[0].pageX, a = d[0].pageY } else { var p = Array.prototype.find.call(e.changedTouches, c); if (!p) return !1; i = p.pageX, a = p.pageY } } else if (s) { if (1 < e.touches.length) return !1; i = e.changedTouches[0].pageX, a = e.changedTouches[0].pageY } return t = t || l(A), (o || u) && (i = e.clientX + t.x, a = e.clientY + t.y), e.pageOffset = t, e.points = [i, a], e.cursor = o || u, e }(a, i.pageOffset, i.target || t)) && !(e === y.start && void 0 !== a.buttons && 1 < a.buttons) && (!i.hover || !a.buttons) && (b || a.preventDefault(), a.calcPoint = a.points[r.ort], void n(a, i))); var s, o }, s = []; return e.split(" ").forEach(function (e) { t.addEventListener(e, a, !!b && { passive: !0 }), s.push([e, a]) }), s } function z(e) { var t, n, i, a, s, o, u = 100 * (e - (t = c, n = r.ort, i = t.getBoundingClientRect(), s = (a = t.ownerDocument).documentElement, o = l(a), /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) && (o.x = 0), n ? i.top + o.y - s.clientTop : i.left + o.x - s.clientLeft)) / I(); return r.dir ? 100 - u : u } function L(e, t, n, i) { var a = n.slice(), r = [!e, e], s = [e, !e]; i = i.slice(), e && i.reverse(), 1 < i.length ? i.forEach(function (e, n) { var i = G(a, e, a[e] + t, r[n], s[n], !1); !1 === i ? t = 0 : (t = i - a[e], a[e] = i) }) : r = s = [!0]; var o = !1; i.forEach(function (e, i) { o = K(e, n[e] + t, r[i], s[i]) || o }), o && i.forEach(function (e) { $("update", e), $("slide", e) }) } function $(e, t, n) { Object.keys(D).forEach(function (i) { var a = i.split(".")[0]; e === a && D[i].forEach(function (e) { e.call(h, S.map(r.format.to), t, S.slice(), n || !1, x.slice()) }) }) } function U(e, t) { "mouseout" === e.type && "HTML" === e.target.nodeName && null === e.relatedTarget && B(e, t) } function j(e, t) { if (-1 === navigator.appVersion.indexOf("MSIE 9") && 0 === e.buttons && 0 !== t.buttonsProperty) return B(e, t); var n = (r.dir ? -1 : 1) * (e.calcPoint - t.startCalcPoint); L(0 < n, 100 * n / t.baseSize, t.locations, t.handleNumbers) } function B(e, n) { n.handle && (o(n.handle, r.cssClasses.active), C -= 1), n.listeners.forEach(function (e) { _.removeEventListener(e[0], e[1]) }), 0 === C && (o(k, r.cssClasses.drag), q(), e.cursor && (P.style.cursor = "", P.removeEventListener("selectstart", t))), n.handleNumbers.forEach(function (e) { $("change", e), $("set", e), $("end", e) }) } function V(e, n) { var i; if (1 === n.handleNumbers.length) { var a = d[n.handleNumbers[0]]; if (a.hasAttribute("disabled")) return !1; i = a.children[0], C += 1, s(i, r.cssClasses.active) } e.stopPropagation(); var o = [], l = N(y.move, _, j, { target: e.target, handle: i, listeners: o, startCalcPoint: e.calcPoint, baseSize: I(), pageOffset: e.pageOffset, handleNumbers: n.handleNumbers, buttonsProperty: e.buttons, locations: x.slice() }), u = N(y.end, _, B, { target: e.target, handle: i, listeners: o, handleNumbers: n.handleNumbers }), c = N("mouseout", _, U, { target: e.target, handle: i, listeners: o, handleNumbers: n.handleNumbers }); o.push.apply(o, l.concat(u, c)), e.cursor && (P.style.cursor = getComputedStyle(e.target).cursor, 1 < d.length && s(k, r.cssClasses.drag), P.addEventListener("selectstart", t, !1)), n.handleNumbers.forEach(function (e) { $("start", e) }) } function G(e, t, n, i, a, s) { var o; return 1 < d.length && (i && 0 < t && (n = Math.max(n, e[t - 1] + r.margin)), a && t < d.length - 1 && (n = Math.min(n, e[t + 1] - r.margin))), 1 < d.length && r.limit && (i && 0 < t && (n = Math.min(n, e[t - 1] + r.limit)), a && t < d.length - 1 && (n = Math.max(n, e[t + 1] - r.limit))), r.padding && (0 === t && (n = Math.max(n, r.padding)), t === d.length - 1 && (n = Math.min(n, 100 - r.padding))), o = n = E.getStep(n), !((n = Math.max(Math.min(o, 100), 0)) === e[t] && !s) && n } function H(e) { return e + "%" } function q() { w.forEach(function (e) { var t = 50 < x[e] ? -1 : 1, n = 3 + (d.length + t * e); d[e].childNodes[0].style.zIndex = n }) } function K(e, t, n, i) { return !1 !== (t = G(x, e, t, n, i, !1)) && (function (e, t) { x[e] = t, S[e] = E.fromStepping(t); var n = function () { d[e].style[r.style] = H(t), Y(e), Y(e + 1) }; window.requestAnimationFrame && r.useRequestAnimationFrame ? window.requestAnimationFrame(n) : n() }(e, t), !0) } function Y(e) { if (p[e]) { var t = 0, n = 100; 0 !== e && (t = x[e - 1]), e !== p.length - 1 && (n = x[e]), p[e].style[r.style] = H(t), p[e].style[r.styleOposite] = H(100 - n) } } function W(e, t) { null !== e && !1 !== e && ("number" == typeof e && (e = String(e)), !1 === (e = r.format.from(e)) || isNaN(e) || K(t, E.toStepping(e), !1, !1)) } function Q(e, t) { var n = a(e), s = void 0 === x[0]; t = void 0 === t || !!t, n.forEach(W), r.animate && !s && i(k, r.cssClasses.tap, r.animationDuration), w.forEach(function (e) { K(e, x[e], !0, !1) }), q(), w.forEach(function (e) { $("update", e), null !== n[e] && t && $("set", e) }) } function X() { var e = S.map(r.format.to); return 1 === e.length ? e[0] : e } function Z(e, t) { D[e] = D[e] || [], D[e].push(t), "update" === e.split(".")[0] && d.forEach(function (e, t) { $("update", t) }) } if (k.noUiSlider) throw new Error("noUiSlider (" + e + "): Slider was already initialized."); return s(m = k, r.cssClasses.target), 0 === r.dir ? s(m, r.cssClasses.ltr) : s(m, r.cssClasses.rtl), 0 === r.ort ? s(m, r.cssClasses.horizontal) : s(m, r.cssClasses.vertical), c = F(m, r.cssClasses.base), function (e, t) { d = [], (p = []).push(M(t, e[0])); for (var n = 0; n < r.handles; n++)d.push((i = n, o = void 0, a = F(t, r.cssClasses.origin), (o = F(a, r.cssClasses.handle)).setAttribute("data-handle", i), o.setAttribute("tabindex", "0"), o.setAttribute("role", "slider"), o.setAttribute("aria-orientation", r.ort ? "vertical" : "horizontal"), 0 === i ? s(o, r.cssClasses.handleLower) : i === r.handles - 1 && s(o, r.cssClasses.handleUpper), a)), w[n] = n, p.push(M(t, e[n + 1])); var i, a, o }(r.connect, c), h = { destroy: function () { for (var e in r.cssClasses) r.cssClasses.hasOwnProperty(e) && o(k, r.cssClasses[e]); for (; k.firstChild;)k.removeChild(k.firstChild); delete k.noUiSlider }, steps: function () { return x.map(function (e, t) { var n = E.getNearbySteps(e), i = S[t], a = n.thisStep.step, r = null; !1 !== a && i + a > n.stepAfter.startValue && (a = n.stepAfter.startValue - i), r = i > n.thisStep.startValue ? n.thisStep.step : !1 !== n.stepBefore.step && i - n.stepBefore.highestStep, 100 === e ? a = null : 0 === e && (r = null); var s = E.countStepDecimals(); return null !== a && !1 !== a && (a = Number(a.toFixed(s))), null !== r && !1 !== r && (r = Number(r.toFixed(s))), [r, a] }) }, on: Z, off: function (e) { var t = e && e.split(".")[0], n = t && e.substring(t.length); Object.keys(D).forEach(function (e) { var i = e.split(".")[0], a = e.substring(i.length); t && t !== i || n && n !== a || delete D[e] }) }, get: X, set: Q, reset: function (e) { Q(r.start, e) }, __moveHandles: function (e, t, n) { L(e, t, x, n) }, options: u, updateOptions: function (e, t) { var n = X(), i = ["margin", "limit", "padding", "range", "animate", "snap", "step", "format"]; i.forEach(function (t) { void 0 !== e[t] && (u[t] = e[t]) }); var a = R(u); i.forEach(function (t) { void 0 !== e[t] && (r[t] = a[t]) }), E = a.spectrum, r.margin = a.margin, r.limit = a.limit, r.padding = a.padding, r.pips && O(r.pips), x = [], Q(e.start || n, t) }, target: k, removePips: T, pips: O }, (v = r.events).fixed || d.forEach(function (e, t) { N(y.start, e.children[0], V, { handleNumbers: [t] }) }), v.tap && N(y.start, c, function (e) { e.stopPropagation(); var t, n, a, s = z(e.calcPoint), o = (t = s, a = !(n = 100), d.forEach(function (e, i) { if (!e.hasAttribute("disabled")) { var r = Math.abs(x[i] - t); r < n && (a = i, n = r) } }), a); if (!1 === o) return !1; r.events.snap || i(k, r.cssClasses.tap, r.animationDuration), K(o, s, !0, !0), q(), $("slide", o, !0), $("update", o, !0), $("change", o, !0), $("set", o, !0), r.events.snap && V(e, { handleNumbers: [o] }) }, {}), v.hover && N(y.move, c, function (e) { var t = z(e.calcPoint), n = E.getStep(t), i = E.fromStepping(n); Object.keys(D).forEach(function (e) { "hover" === e.split(".")[0] && D[e].forEach(function (e) { e.call(h, i) }) }) }, { hover: !0 }), v.drag && p.forEach(function (e, t) { if (!1 !== e && 0 !== t && t !== p.length - 1) { var n = d[t - 1], i = d[t], a = [e]; s(e, r.cssClasses.draggable), v.fixed && (a.push(n.children[0]), a.push(i.children[0])), a.forEach(function (e) { N(y.start, e, V, { handles: [n, i], handleNumbers: [t - 1, t] }) }) } }), Q(r.start), r.pips && O(r.pips), r.tooltips && (g = d.map(function (e, t) { return !!r.tooltips[t] && F(e.firstChild, r.cssClasses.tooltip) }), Z("update", function (e, t, n) { if (g[t]) { var i = e[t]; !0 !== r.tooltips[t] && (i = r.tooltips[t].to(n[t])), g[t].innerHTML = i } })), Z("update", function (e, t, n, i, a) { w.forEach(function (e) { var t = d[e], i = G(x, e, 0, !0, !0, !0), s = G(x, e, 100, !0, !0, !0), o = a[e], l = r.ariaFormat.to(n[e]); t.children[0].setAttribute("aria-valuemin", i.toFixed(1)), t.children[0].setAttribute("aria-valuemax", s.toFixed(1)), t.children[0].setAttribute("aria-valuenow", o.toFixed(1)), t.children[0].setAttribute("aria-valuetext", l) }) }), h } return { version: e, create: function (t, n) { if (!t || !t.nodeName) throw new Error("noUiSlider (" + e + "): create requires a single element, got: " + t); var i = L(t, R(n), n); return t.noUiSlider = i } } }), function (e, t) { var n = "bootstrapMaterialDatePicker", i = "plugin_" + n; function a(n, i) { this.currentView = 0, this.minDate, this.maxDate, this._attachedEvents = [], this.element = n, this.$element = e(n), this.params = { date: !0, time: !0, format: "YYYY-MM-DD", minDate: null, maxDate: null, currentDate: null, lang: "en", weekStart: 0, shortTime: !1, clearButton: !1, nowButton: !1, cancelText: "Cancel", okText: "OK", clearText: "Clear", nowText: "Now", switchOnClick: !1 }, this.params = e.fn.extend(this.params, i), this.name = "dtp_" + this.setName(), this.$element.attr("data-dtp", this.name), t.locale(this.params.lang), this.init() } t.locale("en"), e.fn[n] = function (t, n) { return this.each(function () { e.data(this, i) ? ("function" == typeof e.data(this, i)[t] && e.data(this, i)[t](n), "destroy" === t && e.data(this, i)) : e.data(this, i, new a(this, t)) }), this }, a.prototype = { init: function () { this.initDays(), this.initDates(), this.initTemplate(), this.initButtons(), this._attachEvent(e(window), "resize", this._centerBox.bind(this)), this._attachEvent(this.$dtpElement.find(".dtp-content"), "click", this._onElementClick.bind(this)), this._attachEvent(this.$dtpElement, "click", this._onBackgroundClick.bind(this)), this._attachEvent(this.$dtpElement.find(".dtp-close > a"), "click", this._onCloseClick.bind(this)), this._attachEvent(this.$element, "focus", this._onFocus.bind(this)) }, initDays: function () { this.days = []; for (var e = this.params.weekStart; this.days.length < 7; e++)6 < e && (e = 0), this.days.push(e.toString()) }, initDates: function () { if (0 < this.$element.val().length) void 0 !== this.params.format && null !== this.params.format ? this.currentDate = t(this.$element.val(), this.params.format).locale(this.params.lang) : this.currentDate = t(this.$element.val()).locale(this.params.lang); else if (void 0 !== this.$element.attr("value") && null !== this.$element.attr("value") && "" !== this.$element.attr("value")) "string" == typeof this.$element.attr("value") && (void 0 !== this.params.format && null !== this.params.format ? this.currentDate = t(this.$element.attr("value"), this.params.format).locale(this.params.lang) : this.currentDate = t(this.$element.attr("value")).locale(this.params.lang)); else if (void 0 !== this.params.currentDate && null !== this.params.currentDate) { if ("string" == typeof this.params.currentDate) void 0 !== this.params.format && null !== this.params.format ? this.currentDate = t(this.params.currentDate, this.params.format).locale(this.params.lang) : this.currentDate = t(this.params.currentDate).locale(this.params.lang); else if (void 0 === this.params.currentDate.isValid || "function" != typeof this.params.currentDate.isValid) { var e = this.params.currentDate.getTime(); this.currentDate = t(e, "x").locale(this.params.lang) } else this.currentDate = this.params.currentDate; this.$element.val(this.currentDate.format(this.params.format)) } else this.currentDate = t(); void 0 !== this.params.minDate && null !== this.params.minDate ? "string" == typeof this.params.minDate ? void 0 !== this.params.format && null !== this.params.format ? this.minDate = t(this.params.minDate, this.params.format).locale(this.params.lang) : this.minDate = t(this.params.minDate).locale(this.params.lang) : void 0 === this.params.minDate.isValid || "function" != typeof this.params.minDate.isValid ? (e = this.params.minDate.getTime(), this.minDate = t(e, "x").locale(this.params.lang)) : this.minDate = this.params.minDate : null === this.params.minDate && (this.minDate = null), void 0 !== this.params.maxDate && null !== this.params.maxDate ? "string" == typeof this.params.maxDate ? void 0 !== this.params.format && null !== this.params.format ? this.maxDate = t(this.params.maxDate, this.params.format).locale(this.params.lang) : this.maxDate = t(this.params.maxDate).locale(this.params.lang) : void 0 === this.params.maxDate.isValid || "function" != typeof this.params.maxDate.isValid ? (e = this.params.maxDate.getTime(), this.maxDate = t(e, "x").locale(this.params.lang)) : this.maxDate = this.params.maxDate : null === this.params.maxDate && (this.maxDate = null), this.isAfterMinDate(this.currentDate) || (this.currentDate = t(this.minDate)), this.isBeforeMaxDate(this.currentDate) || (this.currentDate = t(this.maxDate)) }, initTemplate: function () { this.template = '<div class="dtp hidden" id="' + this.name + '"><div class="dtp-content"><div class="dtp-date-view"><header class="dtp-header"><div class="dtp-actual-day">Lundi</div><div class="dtp-close"><a href="javascript:void(0);"><i class="material-icons">clear</i></</div></header><div class="dtp-date hidden"><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-month-before"><i class="material-icons">chevron_left</i></a></div><div class="dtp-actual-month p80">MAR</div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-month-after"><i class="material-icons">chevron_right</i></a></div><div class="clearfix"></div></div><div class="dtp-actual-num">13</div><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-year-before"><i class="material-icons">chevron_left</i></a></div><div class="dtp-actual-year p80">2014</div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-year-after"><i class="material-icons">chevron_right</i></a></div><div class="clearfix"></div></div></div><div class="dtp-time hidden"><div class="dtp-actual-maxtime">23:55</div></div><div class="dtp-picker"><div class="dtp-picker-calendar"></div><div class="dtp-picker-datetime hidden"><div class="dtp-actual-meridien"><div class="left p20"><a class="dtp-meridien-am" href="javascript:void(0);">AM</a></div><div class="dtp-actual-time p60"></div><div class="right p20"><a class="dtp-meridien-pm" href="javascript:void(0);">PM</a></div><div class="clearfix"></div></div><div id="dtp-svg-clock"></div></div></div></div><div class="dtp-buttons"><button class="dtp-btn-now btn btn-flat hidden">' + this.params.nowText + '</button><button class="dtp-btn-clear btn btn-flat hidden">' + this.params.clearText + '</button><button class="dtp-btn-cancel btn btn-flat">' + this.params.cancelText + '</button><button class="dtp-btn-ok btn btn-flat">' + this.params.okText + '</button><div class="clearfix"></div></div></div></div>', e("body").find("#" + this.name).length <= 0 && (e("body").append(this.template), this && (this.dtpElement = e("body").find("#" + this.name)), this.$dtpElement = e(this.dtpElement)) }, initButtons: function () { this._attachEvent(this.$dtpElement.find(".dtp-btn-cancel"), "click", this._onCancelClick.bind(this)), this._attachEvent(this.$dtpElement.find(".dtp-btn-ok"), "click", this._onOKClick.bind(this)), this._attachEvent(this.$dtpElement.find("a.dtp-select-month-before"), "click", this._onMonthBeforeClick.bind(this)), this._attachEvent(this.$dtpElement.find("a.dtp-select-month-after"), "click", this._onMonthAfterClick.bind(this)), this._attachEvent(this.$dtpElement.find("a.dtp-select-year-before"), "click", this._onYearBeforeClick.bind(this)), this._attachEvent(this.$dtpElement.find("a.dtp-select-year-after"), "click", this._onYearAfterClick.bind(this)), !0 === this.params.clearButton && (this._attachEvent(this.$dtpElement.find(".dtp-btn-clear"), "click", this._onClearClick.bind(this)), this.$dtpElement.find(".dtp-btn-clear").removeClass("hidden")), !0 === this.params.nowButton && (this._attachEvent(this.$dtpElement.find(".dtp-btn-now"), "click", this._onNowClick.bind(this)), this.$dtpElement.find(".dtp-btn-now").removeClass("hidden")), !0 === this.params.nowButton && !0 === this.params.clearButton ? this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-xs") : !0 !== this.params.nowButton && !0 !== this.params.clearButton || this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-sm") }, initMeridienButtons: function () { this.$dtpElement.find("a.dtp-meridien-am").off("click").on("click", this._onSelectAM.bind(this)), this.$dtpElement.find("a.dtp-meridien-pm").off("click").on("click", this._onSelectPM.bind(this)) }, initDate: function (e) { this.currentView = 0, this.$dtpElement.find(".dtp-picker-calendar").removeClass("hidden"), this.$dtpElement.find(".dtp-picker-datetime").addClass("hidden"); var t = void 0 !== this.currentDate && null !== this.currentDate ? this.currentDate : null, n = this.generateCalendar(this.currentDate); if (void 0 !== n.week && void 0 !== n.days) { var i = this.constructHTMLCalendar(t, n); this.$dtpElement.find("a.dtp-select-day").off("click"), this.$dtpElement.find(".dtp-picker-calendar").html(i), this.$dtpElement.find("a.dtp-select-day").on("click", this._onSelectDate.bind(this)), this.toggleButtons(t) } this._centerBox(), this.showDate(t) }, initHours: function () { this.currentView = 1, this.showTime(this.currentDate), this.initMeridienButtons(), this.currentDate.hour() < 12 ? this.$dtpElement.find("a.dtp-meridien-am").click() : this.$dtpElement.find("a.dtp-meridien-pm").click(); var e = this.params.shortTime ? "h" : "H"; this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden"), this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"); for (var t = this.createSVGClock(!0), n = 0; n < 12; n++) { var i = -162 * Math.sin(2 * -Math.PI * (n / 12)), a = -162 * Math.cos(2 * -Math.PI * (n / 12)), r = this.currentDate.format(e) == n ? "#8BC34A" : "transparent", s = this.currentDate.format(e) == n ? "#fff" : "#000", o = this.createSVGElement("circle", { id: "h-" + n, class: "dtp-select-hour", style: "cursor:pointer", r: "30", cx: i, cy: a, fill: r, "data-hour": n }); (l = this.createSVGElement("text", { id: "th-" + n, class: "dtp-select-hour-text", "text-anchor": "middle", style: "cursor:pointer", "font-weight": "bold", "font-size": "20", x: i, y: a + 7, fill: s, "data-hour": n })).textContent = 0 === n && this.params.shortTime ? 12 : n, this.toggleTime(n, !0) ? (o.addEventListener("click", this._onSelectHour.bind(this)), l.addEventListener("click", this._onSelectHour.bind(this))) : (o.className += " disabled", l.className += " disabled", l.setAttribute("fill", "#bdbdbd")), t.appendChild(o), t.appendChild(l) } if (!this.params.shortTime) { for (n = 0; n < 12; n++) { var l; i = -110 * Math.sin(2 * -Math.PI * (n / 12)), a = -110 * Math.cos(2 * -Math.PI * (n / 12)), r = this.currentDate.format(e) == n + 12 ? "#8BC34A" : "transparent", s = this.currentDate.format(e) == n + 12 ? "#fff" : "#000", o = this.createSVGElement("circle", { id: "h-" + (n + 12), class: "dtp-select-hour", style: "cursor:pointer", r: "30", cx: i, cy: a, fill: r, "data-hour": n + 12 }), (l = this.createSVGElement("text", { id: "th-" + (n + 12), class: "dtp-select-hour-text", "text-anchor": "middle", style: "cursor:pointer", "font-weight": "bold", "font-size": "22", x: i, y: a + 7, fill: s, "data-hour": n + 12 })).textContent = n + 12, this.toggleTime(n + 12, !0) ? (o.addEventListener("click", this._onSelectHour.bind(this)), l.addEventListener("click", this._onSelectHour.bind(this))) : (o.className += " disabled", l.className += " disabled", l.setAttribute("fill", "#bdbdbd")), t.appendChild(o), t.appendChild(l) } this.$dtpElement.find("a.dtp-meridien-am").addClass("hidden"), this.$dtpElement.find("a.dtp-meridien-pm").addClass("hidden") } this._centerBox() }, initMinutes: function () { this.currentView = 2, this.showTime(this.currentDate), this.initMeridienButtons(), this.currentDate.hour() < 12 ? this.$dtpElement.find("a.dtp-meridien-am").click() : this.$dtpElement.find("a.dtp-meridien-pm").click(), this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"), this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden"); for (var e = this.createSVGClock(!1), t = 0; t < 60; t++) { var n = t % 5 == 0 ? 162 : 158, i = t % 5 == 0 ? 30 : 20, a = -n * Math.sin(2 * -Math.PI * (t / 60)), r = -n * Math.cos(2 * -Math.PI * (t / 60)), s = this.currentDate.format("m") == t ? "#8BC34A" : "transparent", o = this.createSVGElement("circle", { id: "m-" + t, class: "dtp-select-minute", style: "cursor:pointer", r: i, cx: a, cy: r, fill: s, "data-minute": t }); this.toggleTime(t, !1) ? o.addEventListener("click", this._onSelectMinute.bind(this)) : o.className += " disabled", e.appendChild(o) } for (t = 0; t < 60; t++)if (t % 5 == 0) { a = -162 * Math.sin(2 * -Math.PI * (t / 60)), r = -162 * Math.cos(2 * -Math.PI * (t / 60)), s = this.currentDate.format("m") == t ? "#fff" : "#000"; var l = this.createSVGElement("text", { id: "tm-" + t, class: "dtp-select-minute-text", "text-anchor": "middle", style: "cursor:pointer", "font-weight": "bold", "font-size": "20", x: a, y: r + 7, fill: s, "data-minute": t }); l.textContent = t, this.toggleTime(t, !1) ? l.addEventListener("click", this._onSelectMinute.bind(this)) : (l.className += " disabled", l.setAttribute("fill", "#bdbdbd")), e.appendChild(l) } this._centerBox() }, animateHands: function () { var e = this.currentDate.hour(), t = this.currentDate.minute(); this.$dtpElement.find(".hour-hand")[0].setAttribute("transform", "rotate(" + 360 * e / 12 + ")"), this.$dtpElement.find(".minute-hand")[0].setAttribute("transform", "rotate(" + 360 * t / 60 + ")") }, createSVGClock: function (e) { var t = this.params.shortTime ? -120 : -90, n = this.createSVGElement("svg", { class: "svg-clock", viewBox: "0,0,400,400" }), i = this.createSVGElement("g", { transform: "translate(200,200) " }), a = this.createSVGElement("circle", { r: "192", fill: "#eee", stroke: "#bdbdbd", "stroke-width": 2 }), r = this.createSVGElement("circle", { r: "15", fill: "#757575" }); if (i.appendChild(a), e) { var s = this.createSVGElement("line", { class: "minute-hand", x1: 0, y1: 0, x2: 0, y2: -150, stroke: "#bdbdbd", "stroke-width": 2 }), o = this.createSVGElement("line", { class: "hour-hand", x1: 0, y1: 0, x2: 0, y2: t, stroke: "#8BC34A", "stroke-width": 8 }); i.appendChild(s), i.appendChild(o) } else s = this.createSVGElement("line", { class: "minute-hand", x1: 0, y1: 0, x2: 0, y2: -150, stroke: "#8BC34A", "stroke-width": 2 }), o = this.createSVGElement("line", { class: "hour-hand", x1: 0, y1: 0, x2: 0, y2: t, stroke: "#bdbdbd", "stroke-width": 8 }), i.appendChild(o), i.appendChild(s); return i.appendChild(r), n.appendChild(i), this.$dtpElement.find("#dtp-svg-clock").empty(), this.$dtpElement.find("#dtp-svg-clock")[0].appendChild(n), this.animateHands(), i }, createSVGElement: function (e, t) { var n = document.createElementNS("http://www.w3.org/2000/svg", e); for (var i in t) n.setAttribute(i, t[i]); return n }, isAfterMinDate: function (e, n, i) { var a = !0; if (void 0 !== this.minDate && null !== this.minDate) { var r = t(this.minDate), s = t(e); n || i || (r.hour(0), r.minute(0), s.hour(0), s.minute(0)), r.second(0), s.second(0), r.millisecond(0), s.millisecond(0), i || (s.minute(0), r.minute(0)), a = parseInt(s.format("X")) >= parseInt(r.format("X")) } return a }, isBeforeMaxDate: function (e, n, i) { var a = !0; if (void 0 !== this.maxDate && null !== this.maxDate) { var r = t(this.maxDate), s = t(e); n || i || (r.hour(0), r.minute(0), s.hour(0), s.minute(0)), r.second(0), s.second(0), r.millisecond(0), s.millisecond(0), i || (s.minute(0), r.minute(0)), a = parseInt(s.format("X")) <= parseInt(r.format("X")) } return a }, rotateElement: function (t, n) { e(t).css({ WebkitTransform: "rotate(" + n + "deg)", "-moz-transform": "rotate(" + n + "deg)" }) }, showDate: function (e) { e && (this.$dtpElement.find(".dtp-actual-day").html(e.locale(this.params.lang).format("dddd")), this.$dtpElement.find(".dtp-actual-month").html(e.locale(this.params.lang).format("MMM").toUpperCase()), this.$dtpElement.find(".dtp-actual-num").html(e.locale(this.params.lang).format("DD")), this.$dtpElement.find(".dtp-actual-year").html(e.locale(this.params.lang).format("YYYY"))) }, showTime: function (e) { if (e) { var t = e.minute(), n = (this.params.shortTime ? e.format("hh") : e.format("HH")) + ":" + (2 == t.toString().length ? t : "0" + t) + (this.params.shortTime ? " " + e.format("A") : ""); this.params.date ? this.$dtpElement.find(".dtp-actual-time").html(n) : (this.params.shortTime ? this.$dtpElement.find(".dtp-actual-day").html(e.format("A")) : this.$dtpElement.find(".dtp-actual-day").html("&nbsp;"), this.$dtpElement.find(".dtp-actual-maxtime").html(n)) } }, selectDate: function (e) { e && (this.currentDate.date(e), this.showDate(this.currentDate), this.$element.trigger("dateSelected", this.currentDate)) }, generateCalendar: function (e) { var n = {}; if (null !== e) { var i = t(e).locale(this.params.lang).startOf("month"), a = t(e).locale(this.params.lang).endOf("month"), r = i.format("d"); n.week = this.days, n.days = []; for (var s = i.date(); s <= a.date(); s++) { if (s === i.date()) { var o = n.week.indexOf(r.toString()); if (0 < o) for (var l = 0; l < o; l++)n.days.push(0) } n.days.push(t(i).locale(this.params.lang).date(s)) } } return n }, constructHTMLCalendar: function (e, n) { var i = ""; i += '<div class="dtp-picker-month">' + e.locale(this.params.lang).format("MMMM YYYY") + "</div>", i += '<table class="table dtp-picker-days"><thead>'; for (var a = 0; a < n.week.length; a++)i += "<th>" + t(parseInt(n.week[a]), "d").locale(this.params.lang).format("dd").substring(0, 1) + "</th>"; for (i += "</thead>", i += "<tbody><tr>", a = 0; a < n.days.length; a++)a % 7 == 0 && (i += "</tr><tr>"), i += '<td data-date="' + t(n.days[a]).locale(this.params.lang).format("D") + '">', 0 != n.days[a] && (!1 === this.isBeforeMaxDate(t(n.days[a]), !1, !1) || !1 === this.isAfterMinDate(t(n.days[a]), !1, !1) ? i += '<span class="dtp-select-day">' + t(n.days[a]).locale(this.params.lang).format("DD") + "</span>" : t(n.days[a]).locale(this.params.lang).format("DD") === t(this.currentDate).locale(this.params.lang).format("DD") ? i += '<a href="javascript:void(0);" class="dtp-select-day selected">' + t(n.days[a]).locale(this.params.lang).format("DD") + "</a>" : i += '<a href="javascript:void(0);" class="dtp-select-day">' + t(n.days[a]).locale(this.params.lang).format("DD") + "</a>", i += "</td>"); return i + "</tr></tbody></table>" }, setName: function () { for (var e = "", t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", n = 0; n < 5; n++)e += t.charAt(Math.floor(Math.random() * t.length)); return e }, isPM: function () { return this.$dtpElement.find("a.dtp-meridien-pm").hasClass("selected") }, setElementValue: function () { this.$element.trigger("beforeChange", this.currentDate), void 0 !== e.material && this.$element.removeClass("empty"), this.$element.val(t(this.currentDate).locale(this.params.lang).format(this.params.format)), this.$element.trigger("change", this.currentDate) }, toggleButtons: function (e) { if (e && e.isValid()) { var n = t(e).locale(this.params.lang).startOf("month"), i = t(e).locale(this.params.lang).endOf("month"); this.isAfterMinDate(n, !1, !1) ? this.$dtpElement.find("a.dtp-select-month-before").removeClass("invisible") : this.$dtpElement.find("a.dtp-select-month-before").addClass("invisible"), this.isBeforeMaxDate(i, !1, !1) ? this.$dtpElement.find("a.dtp-select-month-after").removeClass("invisible") : this.$dtpElement.find("a.dtp-select-month-after").addClass("invisible"); var a = t(e).locale(this.params.lang).startOf("year"), r = t(e).locale(this.params.lang).endOf("year"); this.isAfterMinDate(a, !1, !1) ? this.$dtpElement.find("a.dtp-select-year-before").removeClass("invisible") : this.$dtpElement.find("a.dtp-select-year-before").addClass("invisible"), this.isBeforeMaxDate(r, !1, !1) ? this.$dtpElement.find("a.dtp-select-year-after").removeClass("invisible") : this.$dtpElement.find("a.dtp-select-year-after").addClass("invisible") } }, toggleTime: function (e, n) { var i, a = !1; return n ? ((i = t(this.currentDate)).hour(this.convertHours(e)).minute(0).second(0), a = !(!1 === this.isAfterMinDate(i, !0, !1) || !1 === this.isBeforeMaxDate(i, !0, !1))) : ((i = t(this.currentDate)).minute(e).second(0), a = !(!1 === this.isAfterMinDate(i, !0, !0) || !1 === this.isBeforeMaxDate(i, !0, !0))), a }, _attachEvent: function (e, t, n) { e.on(t, null, null, n), this._attachedEvents.push([e, t, n]) }, _detachEvents: function () { for (var e = this._attachedEvents.length - 1; 0 <= e; e--)this._attachedEvents[e][0].off(this._attachedEvents[e][1], this._attachedEvents[e][2]), this._attachedEvents.splice(e, 1) }, _onFocus: function () { this.currentView = 0, this.$element.blur(), this.initDates(), this.show(), this.params.date ? (this.$dtpElement.find(".dtp-date").removeClass("hidden"), this.initDate()) : this.params.time && (this.$dtpElement.find(".dtp-time").removeClass("hidden"), this.initHours()) }, _onBackgroundClick: function (e) { e.stopPropagation(), this.hide() }, _onElementClick: function (e) { e.stopPropagation() }, _onKeydown: function (e) { 27 === e.which && this.hide() }, _onCloseClick: function () { this.hide() }, _onClearClick: function () { this.currentDate = null, this.$element.trigger("beforeChange", this.currentDate), this.hide(), void 0 !== e.material && this.$element.addClass("empty"), this.$element.val(""), this.$element.trigger("change", this.currentDate) }, _onNowClick: function () { if (this.currentDate = t(), !0 === this.params.date && (this.showDate(this.currentDate), 0 === this.currentView && this.initDate()), !0 === this.params.time) { switch (this.showTime(this.currentDate), this.currentView) { case 1: this.initHours(); break; case 2: this.initMinutes() }this.animateHands() } }, _onOKClick: function () { switch (this.currentView) { case 0: !0 === this.params.time ? this.initHours() : (this.setElementValue(), this.hide()); break; case 1: this.initMinutes(); break; case 2: this.setElementValue(), this.hide() } }, _onCancelClick: function () { if (this.params.time) switch (this.currentView) { case 0: this.hide(); break; case 1: this.params.date ? this.initDate() : this.hide(); break; case 2: this.initHours() } else this.hide() }, _onMonthBeforeClick: function () { this.currentDate.subtract(1, "months"), this.initDate(this.currentDate) }, _onMonthAfterClick: function () { this.currentDate.add(1, "months"), this.initDate(this.currentDate) }, _onYearBeforeClick: function () { this.currentDate.subtract(1, "years"), this.initDate(this.currentDate) }, _onYearAfterClick: function () { this.currentDate.add(1, "years"), this.initDate(this.currentDate) }, _onSelectDate: function (t) { this.$dtpElement.find("a.dtp-select-day").removeClass("selected"), e(t.currentTarget).addClass("selected"), this.selectDate(e(t.currentTarget).parent().data("date")), !0 === this.params.switchOnClick && !0 === this.params.time && setTimeout(this.initHours.bind(this), 200) }, _onSelectHour: function (t) { if (!e(t.target).hasClass("disabled")) { for (var n = e(t.target).data("hour"), i = e(t.target).parent(), a = i.find(".dtp-select-hour"), r = 0; r < a.length; r++)e(a[r]).attr("fill", "transparent"); var s = i.find(".dtp-select-hour-text"); for (r = 0; r < s.length; r++)e(s[r]).attr("fill", "#000"); e(i.find("#h-" + n)).attr("fill", "#8BC34A"), e(i.find("#th-" + n)).attr("fill", "#fff"), this.currentDate.hour(parseInt(n)), !0 === this.params.shortTime && this.isPM() && this.currentDate.add(12, "hours"), this.showTime(this.currentDate), this.animateHands(), !0 === this.params.switchOnClick && setTimeout(this.initMinutes.bind(this), 200) } }, _onSelectMinute: function (t) { if (!e(t.target).hasClass("disabled")) { for (var n = e(t.target).data("minute"), i = e(t.target).parent(), a = i.find(".dtp-select-minute"), r = 0; r < a.length; r++)e(a[r]).attr("fill", "transparent"); var s = i.find(".dtp-select-minute-text"); for (r = 0; r < s.length; r++)e(s[r]).attr("fill", "#000"); e(i.find("#m-" + n)).attr("fill", "#8BC34A"), e(i.find("#tm-" + n)).attr("fill", "#fff"), this.currentDate.minute(parseInt(n)), this.showTime(this.currentDate), this.animateHands(), !0 === this.params.switchOnClick && setTimeout(function () { this.setElementValue(), this.hide() }.bind(this), 200) } }, _onSelectAM: function (t) { e(".dtp-actual-meridien").find("a").removeClass("selected"), e(t.currentTarget).addClass("selected"), 12 <= this.currentDate.hour() && this.currentDate.subtract(12, "hours") && this.showTime(this.currentDate), this.toggleTime(1 === this.currentView) }, _onSelectPM: function (t) { e(".dtp-actual-meridien").find("a").removeClass("selected"), e(t.currentTarget).addClass("selected"), this.currentDate.hour() < 12 && this.currentDate.add(12, "hours") && this.showTime(this.currentDate), this.toggleTime(1 === this.currentView) }, convertHours: function (e) { var t = e; return !0 === this.params.shortTime && e < 12 && this.isPM() && (t += 12), t }, setDate: function (e) { this.params.currentDate = e, this.initDates() }, setMinDate: function (e) { this.params.minDate = e, this.initDates() }, setMaxDate: function (e) { this.params.maxDate = e, this.initDates() }, destroy: function () { this._detachEvents(), this.$dtpElement.remove() }, show: function () { this.$dtpElement.removeClass("hidden"), this._attachEvent(e(window), "keydown", this._onKeydown.bind(this)), this._centerBox() }, hide: function () { e(window).off("keydown", null, null, this._onKeydown.bind(this)), this.$dtpElement.addClass("hidden") }, _centerBox: function () { var e = (this.$dtpElement.height() - this.$dtpElement.find(".dtp-content").height()) / 2; this.$dtpElement.find(".dtp-content").css("marginLeft", -this.$dtpElement.find(".dtp-content").width() / 2 + "px"), this.$dtpElement.find(".dtp-content").css("top", e + "px") } } }(jQuery, moment), function (e, t) { e.fn.extend({ _aria: function (e, t) { return this.attr("aria-" + e, t) }, _removeAria: function (e) { return this.removeAttr("aria-" + e) }, _enableAria: function (e) { return null == e || e ? this.removeClass("disabled")._aria("disabled", "false") : this.addClass("disabled")._aria("disabled", "true") }, _showAria: function (e) { return null == e || e ? this.show()._aria("hidden", "false") : this.hide()._aria("hidden", "true") }, _selectAria: function (e) { return null == e || e ? this.addClass("current")._aria("selected", "true") : this.removeClass("current")._aria("selected", "false") }, _id: function (e) { return e ? this.attr("id", e) : this.attr("id") } }), String.prototype.format || (String.prototype.format = function () { for (var t = 1 === arguments.length && e.isArray(arguments[0]) ? arguments[0] : arguments, n = this, i = 0; i < t.length; i++) { var a = new RegExp("\\{" + i + "\\}", "gm"); n = n.replace(a, t[i]) } return n }); var n = 0, i = "jQu3ry_5teps_St@te_", a = "-t-", r = "-p-", s = "-h-", o = "Index out of range.", l = "One or more corresponding step {0} are missing."; function u(n, a, r) { var s = n.children(a.headerTag), o = n.children(a.bodyTag); s.length > o.length ? N(l, "contents") : s.length < o.length && N(l, "titles"); var u = a.startIndex; if (r.stepCount = s.length, a.saveState && e.cookie) { var c = e.cookie(i + y(n)), d = parseInt(c, 0); !isNaN(d) && d < r.stepCount && (u = d) } r.currentIndex = u, s.each(function (i) { var a, r = e(this), s = o.eq(i), l = s.data("mode"), u = null == l ? R.html : b(R, /^\s*$/.test(l) || isNaN(l) ? l : parseInt(l, 0)), c = u === R.html || s.data("url") === t ? "" : s.data("url"), d = u !== R.html && "1" === s.data("loaded"); a = e.extend({}, U, { title: r.html(), content: u === R.html ? s.html() : "", contentUrl: c, contentMode: u, contentLoaded: d }), v(n).push(a) }) } function c(e, t) { var n = e.find(".steps li").eq(t.currentIndex); e.triggerHandler("finishing", [t.currentIndex]) ? (n.addClass("done").removeClass("error"), e.triggerHandler("finished", [t.currentIndex])) : n.addClass("error") } function d(e) { var t = e.data("eventNamespace"); return null == t && (t = "." + y(e), e.data("eventNamespace", t)), t } function p(e, t) { var n = y(e); return e.find("#" + n + a + t) } function h(e, t) { var n = y(e); return e.find("#" + n + r + t) } function f(e) { return e.data("options") } function m(e) { return e.data("state") } function v(e) { return e.data("steps") } function g(e, t) { var n = v(e); return (t < 0 || t >= n.length) && N(o), n[t] } function y(e) { var t = e.data("uid"); return null == t && (null == (t = e._id()) && (t = "steps-uid-".concat(n), e._id(t)), n++ , e.data("uid", t)), t } function b(e, n) { if (z("enumType", e), z("keyOrValue", n), "string" == typeof n) { var i = e[n]; return i === t && N("The enum key '{0}' does not exist.", n), i } if ("number" == typeof n) { for (var a in e) if (e[a] === n) return n; N("Invalid enum value '{0}'.", n) } else N("Invalid key or value type.") } function k(e, t, n) { return S(e, t, n, (1, n.currentIndex + 1)) } function x(e, t, n) { return S(e, t, n, (1, n.currentIndex - 1)) } function w(t, n, i, a, r) { var s, l; (a < 0 || a > i.stepCount) && N(o), s = a, l = r = e.extend({}, U, r), v(t).splice(s, 0, l), i.currentIndex !== i.stepCount && i.currentIndex >= a && (i.currentIndex++ , O(t, n, i)), i.stepCount++; var u = t.find(".content"), c = e("<{0}>{1}</{0}>".format(n.headerTag, r.title)), d = e("<{0}></{0}>".format(n.bodyTag)); return null != r.contentMode && r.contentMode !== R.html || d.html(r.content), 0 === a ? u.prepend(d).prepend(c) : h(t, a - 1).after(d).after(c), F(t, i, d, a), T(t, n, i, c, a), P(t, n, i, a), a === i.currentIndex && _(t, n, i), A(t, n, i), t } function C(t) { var n = e(this), i = f(n), a = m(n); if (i.suppressPaginationOnFocus && n.find(":focus").is(":input")) return t.preventDefault(), !1; 37 === t.keyCode ? (t.preventDefault(), x(n, i, a)) : 39 === t.keyCode && (t.preventDefault(), k(n, i, a)) } function E(t, n, i) { if (0 < i.stepCount) { var a = i.currentIndex, r = g(t, a); if (!n.enableContentCache || !r.contentLoaded) switch (b(R, r.contentMode)) { case R.iframe: t.find(".content > .body").eq(i.currentIndex).empty().html('<iframe src="' + r.contentUrl + '" frameborder="0" scrolling="no" />').data("loaded", "1"); break; case R.async: var s = h(t, a)._aria("busy", "true").empty().append(M(n.loadingTemplate, { text: n.labels.loading })); e.ajax({ url: r.contentUrl, cache: !1 }).done(function (e) { s.empty().html(e)._aria("busy", "false").data("loaded", "1"), t.triggerHandler("contentLoaded", [a]) }) } } } function S(e, t, n, i) { var a = n.currentIndex; if (0 <= i && i < n.stepCount && !(t.forceMoveForward && i < n.currentIndex)) { var r = p(e, i), s = r.parent(), o = s.hasClass("disabled"); return s._enableAria(), r.click(), a !== n.currentIndex || !o || (s._enableAria(!1), !1) } return !1 } function D(t) { t.preventDefault(); var n = e(this), i = n.parent().parent().parent().parent(), a = f(i), r = m(i), s = n.attr("href"); switch (s.substring(s.lastIndexOf("#") + 1)) { case "cancel": i.triggerHandler("canceled"); break; case "finish": c(i, r); break; case "next": k(i, a, r); break; case "previous": x(i, a, r) } } function A(e, t, n) { if (t.enablePagination) { var i = e.find(".actions a[href$='#finish']").parent(), a = e.find(".actions a[href$='#next']").parent(); t.forceMoveForward || e.find(".actions a[href$='#previous']").parent()._enableAria(0 < n.currentIndex), t.enableFinishButton && t.showFinishButtonAlways ? (i._enableAria(0 < n.stepCount), a._enableAria(1 < n.stepCount && n.stepCount > n.currentIndex + 1)) : (i._showAria(t.enableFinishButton && n.stepCount === n.currentIndex + 1), a._showAria(0 === n.stepCount || n.stepCount > n.currentIndex + 1)._enableAria(n.stepCount > n.currentIndex + 1 || !t.enableFinishButton)) } } function _(t, n, i, a) { var r = p(t, i.currentIndex), s = e('<span class="current-info audible">' + n.labels.current + " </span>"), o = t.find(".content > .title"); if (null != a) { var l = p(t, a); l.parent().addClass("done").removeClass("error")._selectAria(!1), o.eq(a).removeClass("current").next(".body").removeClass("current"), s = l.find(".current-info"), r.focus() } r.prepend(s).parent()._selectAria().removeClass("done")._enableAria(), o.eq(i.currentIndex).addClass("current").next(".body").addClass("current") } function P(e, t, n, i) { for (var o = y(e), l = i; l < n.stepCount; l++) { var u = o + a + l, c = o + r + l, d = o + s + l, p = e.find(".title").eq(l)._id(d); e.find(".steps a").eq(l)._id(u)._aria("controls", c).attr("href", "#" + d).html(M(t.titleTemplate, { index: l + 1, title: p.html() })), e.find(".body").eq(l)._id(c)._aria("labelledby", d) } } function F(e, t, n, i) { var a = y(e), o = a + r + i, l = a + s + i; n._id(o).attr("role", "tabpanel")._aria("labelledby", l).addClass("body")._showAria(t.currentIndex === i) } function M(e, n) { for (var i = e.match(/#([a-z]*)#/gi), a = 0; a < i.length; a++) { var r = i[a], s = r.substring(1, r.length - 1); n[s] === t && N("The key '{0}' does not exist in the substitute collection!", s), e = e.replace(r, n[s]) } return e } function T(t, n, i, o, l) { var u = y(t), c = u + a + l, p = u + r + l, h = u + s + l, f = t.find(".steps > ul"), m = M(n.titleTemplate, { index: l + 1, title: o.html() }), v = e('<li role="tab"><a id="' + c + '" href="#' + h + '" aria-controls="' + p + '">' + m + "</a></li>"); v._enableAria(n.enableAllSteps || i.currentIndex > l), i.currentIndex > l && v.addClass("done"), o._id(h).attr("tabindex", "-1").addClass("title"), 0 === l ? f.prepend(v) : f.find("li").eq(l - 1).after(v), 0 === l && f.find("li").removeClass("first").eq(l).addClass("first"), l === i.stepCount - 1 && f.find("li").removeClass("last").eq(l).addClass("last"), v.children("a").bind("click" + d(t), I) } function O(t, n, a) { n.saveState && e.cookie && e.cookie(i + y(t), a.currentIndex) } function I(t) { t.preventDefault(); var n = e(this), i = n.parent().parent().parent().parent(), a = f(i), r = m(i), s = r.currentIndex; if (n.parent().is(":not(.disabled):not(.current)")) { var l = n.attr("href"); !function (t, n, i, a) { if ((a < 0 || a >= i.stepCount) && N(o), !(n.forceMoveForward && a < i.currentIndex)) { var r = i.currentIndex; t.triggerHandler("stepChanging", [i.currentIndex, a]) ? (i.currentIndex = a, O(t, n, i), _(t, n, i, r), A(t, n, i), E(t, n, i), function (t, n, i, a, r, s) { var o = t.find(".content > .body"), l = b($, n.transitionEffect), u = n.transitionEffectSpeed, c = o.eq(a), d = o.eq(r); switch (l) { case $.fade: case $.slide: var p = l === $.fade ? "fadeOut" : "slideUp", h = l === $.fade ? "fadeIn" : "slideDown"; i.transitionElement = c, d[p](u, function () { var t = m(e(this)._showAria(!1).parent().parent()); t.transitionElement && (t.transitionElement[h](u, function () { e(this)._showAria() }).promise().done(s), t.transitionElement = null) }); break; case $.slideLeft: var f = d.outerWidth(!0), v = r < a ? -f : f, g = r < a ? f : -f; e.when(d.animate({ left: v }, u, function () { e(this)._showAria(!1) }), c.css("left", g + "px")._showAria().animate({ left: 0 }, u)).done(s); break; default: e.when(d._showAria(!1), c._showAria()).done(s) } }(t, n, i, a, r, function () { t.triggerHandler("stepChanged", [a, r]) })) : t.find(".steps li").eq(r).addClass("error") } }(i, a, r, parseInt(l.substring(l.lastIndexOf("-") + 1), 0)) } if (s === r.currentIndex) return p(i, s).focus(), !1 } function N(e) { throw 1 < arguments.length && (e = e.format(Array.prototype.slice.call(arguments, 1))), new Error(e) } function z(e, t) { null == t && N("The argument '{0}' is null or undefined.", e) } e.fn.steps = function (t) { return e.fn.steps[t] ? e.fn.steps[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist on jQuery.steps") : function (t) { var i = e.extend(!0, {}, j, t); return this.each(function () { var t, a, r, s, o, l, c, h, f, m = e(this), v = { currentIndex: i.startIndex, currentStep: null, stepCount: 0, transitionElement: null }; m.data("options", i), m.data("state", v), m.data("steps", []), u(m, i, v), t = m, r = v, s = '<{0} class="{1}">{2}</{0}>', o = b(L, (a = i).stepsOrientation) === L.vertical ? " vertical" : "", l = e(s.format(a.contentContainerTag, "content " + a.clearFixCssClass, t.html())), c = e(s.format(a.stepsContainerTag, "steps " + a.clearFixCssClass, '<ul role="tablist"></ul>')), h = l.children(a.headerTag), f = l.children(a.bodyTag), t.attr("role", "application").empty().append(c).append(l).addClass(a.cssClass + " " + a.clearFixCssClass + o), f.each(function (n) { F(t, r, e(this), n) }), h.each(function (n) { T(t, a, r, e(this), n) }), _(t, a, r), function (e, t, n) { if (t.enablePagination) { var i = '<li><a href="#{0}" role="menuitem">{1}</a></li>', a = ""; t.forceMoveForward || (a += i.format("previous", t.labels.previous)), a += i.format("next", t.labels.next), t.enableFinishButton && (a += i.format("finish", t.labels.finish)), t.enableCancelButton && (a += i.format("cancel", t.labels.cancel)), e.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(t.actionContainerTag, t.clearFixCssClass, t.labels.pagination, a)), A(e, t, n), E(e, t, n) } }(t, a, r), function (e, t) { var n = d(e); e.bind("canceled" + n, t.onCanceled), e.bind("contentLoaded" + n, t.onContentLoaded), e.bind("finishing" + n, t.onFinishing), e.bind("finished" + n, t.onFinished), e.bind("init" + n, t.onInit), e.bind("stepChanging" + n, t.onStepChanging), e.bind("stepChanged" + n, t.onStepChanged), t.enableKeyNavigation && e.bind("keyup" + n, C), e.find(".actions a").bind("click" + n, D) }(m, i), i.autoFocus && 0 === n && p(m, i.startIndex).focus(), m.triggerHandler("init", [i.startIndex]) }) }.apply(this, arguments) }, e.fn.steps.add = function (e) { var t = m(this); return w(this, f(this), t, t.stepCount, e) }, e.fn.steps.destroy = function () { return function (t, n) { var i = d(t); t.unbind(i).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(i), t.removeClass(n.clearFixCssClass + " vertical"); var a = t.find(".content > *"); a.removeData("loaded").removeData("mode").removeData("url"), a.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"), t.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty(); var r = e('<{0} class="{1}"></{0}>'.format(t.get(0).tagName, t.attr("class"))), s = t._id(); return null != s && "" !== s && r._id(s), r.html(t.find(".content").html()), t.after(r), t.remove(), r }(this, f(this)) }, e.fn.steps.finish = function () { c(this, m(this)) }, e.fn.steps.getCurrentIndex = function () { return m(this).currentIndex }, e.fn.steps.getCurrentStep = function () { return g(this, m(this).currentIndex) }, e.fn.steps.getStep = function (e) { return g(this, e) }, e.fn.steps.insert = function (e, t) { return w(this, f(this), m(this), e, t) }, e.fn.steps.next = function () { return k(this, f(this), m(this)) }, e.fn.steps.previous = function () { return x(this, f(this), m(this)) }, e.fn.steps.remove = function (e) { return function (e, t, n, i) { return !(i < 0 || i >= n.stepCount || n.currentIndex === i || (a = i, v(e).splice(a, 1), n.currentIndex > i && (n.currentIndex-- , O(e, t, n)), n.stepCount-- , (r = e, o = i, l = y(r), r.find("#" + l + s + o)).remove(), h(e, i).remove(), p(e, i).parent().remove(), 0 === i && e.find(".steps li").first().addClass("first"), i === n.stepCount && e.find(".steps li").eq(i).addClass("last"), P(e, t, n, i), A(e, t, n), 0)); var a, r, o, l }(this, f(this), m(this), e) }, e.fn.steps.setStep = function (e, t) { throw new Error("Not yet implemented!") }, e.fn.steps.skip = function (e) { throw new Error("Not yet implemented!") }; var R = e.fn.steps.contentMode = { html: 0, iframe: 1, async: 2 }, L = e.fn.steps.stepsOrientation = { horizontal: 0, vertical: 1 }, $ = e.fn.steps.transitionEffect = { none: 0, fade: 1, slide: 2, slideLeft: 3 }, U = e.fn.steps.stepModel = { title: "", content: "", contentUrl: "", contentMode: R.html, contentLoaded: !1 }, j = e.fn.steps.defaults = { headerTag: "h1", bodyTag: "div", contentContainerTag: "div", actionContainerTag: "div", stepsContainerTag: "div", cssClass: "wizard", clearFixCssClass: "clearfix", stepsOrientation: L.horizontal, titleTemplate: '<span class="number">#index#.</span> #title#', loadingTemplate: '<span class="spinner"></span> #text#', autoFocus: !1, enableAllSteps: !1, enableKeyNavigation: !0, enablePagination: !0, suppressPaginationOnFocus: !0, enableContentCache: !0, enableCancelButton: !1, enableFinishButton: !0, preloadContent: !1, showFinishButtonAlways: !1, forceMoveForward: !1, saveState: !1, startIndex: 0, transitionEffect: $.none, transitionEffectSpeed: 200, onStepChanging: function (e, t, n) { return !0 }, onStepChanged: function (e, t, n) { }, onCanceled: function (e) { }, onFinishing: function (e, t) { return !0 }, onFinished: function (e, t) { }, onContentLoaded: function (e, t) { }, onInit: function (e, t) { }, labels: { cancel: "لغو", current: "current step:", pagination: "Pagination", finish: "پایان", next: "بعدی", previous: "قبلی", loading: "Loading ..." } } }(jQuery);